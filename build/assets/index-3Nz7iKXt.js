var N$=Object.defineProperty;var D$=(t,e,n)=>e in t?N$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var J=(t,e,n)=>(D$(t,typeof e!="symbol"?e+"":e,n),n);function FA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jA={exports:{}},Rm={},$A={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh=Symbol.for("react.element"),O$=Symbol.for("react.portal"),M$=Symbol.for("react.fragment"),L$=Symbol.for("react.strict_mode"),V$=Symbol.for("react.profiler"),F$=Symbol.for("react.provider"),j$=Symbol.for("react.context"),$$=Symbol.for("react.forward_ref"),U$=Symbol.for("react.suspense"),B$=Symbol.for("react.memo"),z$=Symbol.for("react.lazy"),PI=Symbol.iterator;function W$(t){return t===null||typeof t!="object"?null:(t=PI&&t[PI]||t["@@iterator"],typeof t=="function"?t:null)}var UA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BA=Object.assign,zA={};function fc(t,e,n){this.props=t,this.context=e,this.refs=zA,this.updater=n||UA}fc.prototype.isReactComponent={};fc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WA(){}WA.prototype=fc.prototype;function Fw(t,e,n){this.props=t,this.context=e,this.refs=zA,this.updater=n||UA}var jw=Fw.prototype=new WA;jw.constructor=Fw;BA(jw,fc.prototype);jw.isPureReactComponent=!0;var NI=Array.isArray,HA=Object.prototype.hasOwnProperty,$w={current:null},qA={key:!0,ref:!0,__self:!0,__source:!0};function KA(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)HA.call(e,r)&&!qA.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Sh,type:t,key:s,ref:o,props:i,_owner:$w.current}}function H$(t,e){return{$$typeof:Sh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sh}function q$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var DI=/\/+/g;function Pv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?q$(""+t.key):e.toString(36)}function _p(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sh:case O$:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Pv(o,0):r,NI(i)?(n="",t!=null&&(n=t.replace(DI,"$&/")+"/"),_p(i,e,n,"",function(c){return c})):i!=null&&(Uw(i)&&(i=H$(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(DI,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",NI(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Pv(s,a);o+=_p(s,e,n,l,i)}else if(l=W$(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Pv(s,a++),o+=_p(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vf(t,e,n){if(t==null)return t;var r=[],i=0;return _p(t,r,"","",function(s){return e.call(n,s,i++)}),r}function K$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vn={current:null},bp={transition:null},G$={ReactCurrentDispatcher:Vn,ReactCurrentBatchConfig:bp,ReactCurrentOwner:$w};Ne.Children={map:vf,forEach:function(t,e,n){vf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vf(t,function(){e++}),e},toArray:function(t){return vf(t,function(e){return e})||[]},only:function(t){if(!Uw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=fc;Ne.Fragment=M$;Ne.Profiler=V$;Ne.PureComponent=Fw;Ne.StrictMode=L$;Ne.Suspense=U$;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G$;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BA({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$w.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)HA.call(e,l)&&!qA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Sh,type:t.type,key:i,ref:s,props:r,_owner:o}};Ne.createContext=function(t){return t={$$typeof:j$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:F$,_context:t},t.Consumer=t};Ne.createElement=KA;Ne.createFactory=function(t){var e=KA.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:$$,render:t}};Ne.isValidElement=Uw;Ne.lazy=function(t){return{$$typeof:z$,_payload:{_status:-1,_result:t},_init:K$}};Ne.memo=function(t,e){return{$$typeof:B$,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=bp.transition;bp.transition={};try{t()}finally{bp.transition=e}};Ne.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ne.useCallback=function(t,e){return Vn.current.useCallback(t,e)};Ne.useContext=function(t){return Vn.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return Vn.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return Vn.current.useEffect(t,e)};Ne.useId=function(){return Vn.current.useId()};Ne.useImperativeHandle=function(t,e,n){return Vn.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return Vn.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return Vn.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return Vn.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return Vn.current.useReducer(t,e,n)};Ne.useRef=function(t){return Vn.current.useRef(t)};Ne.useState=function(t){return Vn.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return Vn.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return Vn.current.useTransition()};Ne.version="18.2.0";$A.exports=Ne;var S=$A.exports;const Xe=Vw(S),a0=FA({__proto__:null,default:Xe},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q$=S,Y$=Symbol.for("react.element"),X$=Symbol.for("react.fragment"),J$=Object.prototype.hasOwnProperty,Z$=Q$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eU={key:!0,ref:!0,__self:!0,__source:!0};function GA(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)J$.call(e,r)&&!eU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Y$,type:t,key:s,ref:o,props:i,_owner:Z$.current}}Rm.Fragment=X$;Rm.jsx=GA;Rm.jsxs=GA;jA.exports=Rm;var p=jA.exports,l0={},QA={exports:{}},pr={},YA={exports:{}},XA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,U){var F=M.length;M.push(U);e:for(;0<F;){var ie=F-1>>>1,k=M[ie];if(0<i(k,U))M[ie]=U,M[F]=k,F=ie;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var U=M[0],F=M.pop();if(F!==U){M[0]=F;e:for(var ie=0,k=M.length,$=k>>>1;ie<$;){var B=2*(ie+1)-1,le=M[B],Q=B+1,ge=M[Q];if(0>i(le,F))Q<k&&0>i(ge,le)?(M[ie]=ge,M[Q]=F,ie=Q):(M[ie]=le,M[B]=F,ie=B);else if(Q<k&&0>i(ge,F))M[ie]=ge,M[Q]=F,ie=Q;else break e}}return U}function i(M,U){var F=M.sortIndex-U.sortIndex;return F!==0?F:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,g=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=M)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function w(M){if(m=!1,b(M),!g)if(n(l)!==null)g=!0,C(x);else{var U=n(c);U!==null&&j(w,U.startTime-M)}}function x(M,U){g=!1,m&&(m=!1,v(E),E=-1),f=!0;var F=h;try{for(b(U),d=n(l);d!==null&&(!(d.expirationTime>U)||M&&!V());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,h=d.priorityLevel;var k=ie(d.expirationTime<=U);U=t.unstable_now(),typeof k=="function"?d.callback=k:d===n(l)&&r(l),b(U)}else r(l);d=n(l)}if(d!==null)var $=!0;else{var B=n(c);B!==null&&j(w,B.startTime-U),$=!1}return $}finally{d=null,h=F,f=!1}}var I=!1,T=null,E=-1,A=5,D=-1;function V(){return!(t.unstable_now()-D<A)}function H(){if(T!==null){var M=t.unstable_now();D=M;var U=!0;try{U=T(!0,M)}finally{U?X():(I=!1,T=null)}}else I=!1}var X;if(typeof y=="function")X=function(){y(H)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,R=Y.port2;Y.port1.onmessage=H,X=function(){R.postMessage(null)}}else X=function(){_(H,0)};function C(M){T=M,I||(I=!0,X())}function j(M,U){E=_(function(){M(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,C(x))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var F=h;h=U;try{return M()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var F=h;h=M;try{return U()}finally{h=F}},t.unstable_scheduleCallback=function(M,U,F){var ie=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ie+F:ie):F=ie,M){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=F+k,M={id:u++,callback:U,priorityLevel:M,startTime:F,expirationTime:k,sortIndex:-1},F>ie?(M.sortIndex=F,e(c,M),n(l)===null&&M===n(c)&&(m?(v(E),E=-1):m=!0,j(w,F-ie))):(M.sortIndex=k,e(l,M),g||f||(g=!0,C(x))),M},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(M){var U=h;return function(){var F=h;h=U;try{return M.apply(this,arguments)}finally{h=F}}}})(XA);YA.exports=XA;var tU=YA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA=S,dr=tU;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZA=new Set,pd={};function Ea(t,e){Ml(t,e),Ml(t+"Capture",e)}function Ml(t,e){for(pd[t]=e,t=0;t<e.length;t++)ZA.add(e[t])}var Wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c0=Object.prototype.hasOwnProperty,nU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OI={},MI={};function rU(t){return c0.call(MI,t)?!0:c0.call(OI,t)?!1:nU.test(t)?MI[t]=!0:(OI[t]=!0,!1)}function iU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sU(t,e,n,r){if(e===null||typeof e>"u"||iU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pn[t]=new Fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pn[e]=new Fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pn[t]=new Fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pn[t]=new Fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pn[t]=new Fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pn[t]=new Fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pn[t]=new Fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pn[t]=new Fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pn[t]=new Fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bw=/[\-:]([a-z])/g;function zw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bw,zw);pn[e]=new Fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bw,zw);pn[e]=new Fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bw,zw);pn[e]=new Fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pn[t]=new Fn(t,1,!1,t.toLowerCase(),null,!1,!1)});pn.xlinkHref=new Fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pn[t]=new Fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ww(t,e,n,r){var i=pn.hasOwnProperty(e)?pn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sU(e,n,i,r)&&(n=null),r||i===null?rU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xi=JA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_f=Symbol.for("react.element"),il=Symbol.for("react.portal"),sl=Symbol.for("react.fragment"),Hw=Symbol.for("react.strict_mode"),u0=Symbol.for("react.profiler"),eP=Symbol.for("react.provider"),tP=Symbol.for("react.context"),qw=Symbol.for("react.forward_ref"),d0=Symbol.for("react.suspense"),h0=Symbol.for("react.suspense_list"),Kw=Symbol.for("react.memo"),ds=Symbol.for("react.lazy"),nP=Symbol.for("react.offscreen"),LI=Symbol.iterator;function jc(t){return t===null||typeof t!="object"?null:(t=LI&&t[LI]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,Nv;function _u(t){if(Nv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nv=e&&e[1]||""}return`
`+Nv+t}var Dv=!1;function Ov(t,e){if(!t||Dv)return"";Dv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Dv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_u(t):""}function oU(t){switch(t.tag){case 5:return _u(t.type);case 16:return _u("Lazy");case 13:return _u("Suspense");case 19:return _u("SuspenseList");case 0:case 2:case 15:return t=Ov(t.type,!1),t;case 11:return t=Ov(t.type.render,!1),t;case 1:return t=Ov(t.type,!0),t;default:return""}}function f0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sl:return"Fragment";case il:return"Portal";case u0:return"Profiler";case Hw:return"StrictMode";case d0:return"Suspense";case h0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tP:return(t.displayName||"Context")+".Consumer";case eP:return(t._context.displayName||"Context")+".Provider";case qw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kw:return e=t.displayName||null,e!==null?e:f0(t.type)||"Memo";case ds:e=t._payload,t=t._init;try{return f0(t(e))}catch{}}return null}function aU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return f0(e);case 8:return e===Hw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lU(t){var e=rP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bf(t){t._valueTracker||(t._valueTracker=lU(t))}function iP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function p0(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function VI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sP(t,e){e=e.checked,e!=null&&Ww(t,"checked",e,!1)}function g0(t,e){sP(t,e);var n=Fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?m0(t,e.type,n):e.hasOwnProperty("defaultValue")&&m0(t,e.type,Fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function FI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function m0(t,e,n){(e!=="number"||rg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bu=Array.isArray;function _l(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function y0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(bu(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fs(n)}}function oP(t,e){var n=Fs(e.value),r=Fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $I(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function v0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wf,lP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wf=wf||document.createElement("div"),wf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $u={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cU=["Webkit","ms","Moz","O"];Object.keys($u).forEach(function(t){cU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$u[e]=$u[t]})});function cP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$u.hasOwnProperty(t)&&$u[t]?(""+e).trim():e+"px"}function uP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uU=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _0(t,e){if(e){if(uU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function b0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w0=null;function Gw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var x0=null,bl=null,wl=null;function UI(t){if(t=Th(t)){if(typeof x0!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Nm(e),x0(t.stateNode,t.type,e))}}function dP(t){bl?wl?wl.push(t):wl=[t]:bl=t}function hP(){if(bl){var t=bl,e=wl;if(wl=bl=null,UI(t),e)for(t=0;t<e.length;t++)UI(e[t])}}function fP(t,e){return t(e)}function pP(){}var Mv=!1;function gP(t,e,n){if(Mv)return t(e,n);Mv=!0;try{return fP(t,e,n)}finally{Mv=!1,(bl!==null||wl!==null)&&(pP(),hP())}}function md(t,e){var n=t.stateNode;if(n===null)return null;var r=Nm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var S0=!1;if(Wi)try{var $c={};Object.defineProperty($c,"passive",{get:function(){S0=!0}}),window.addEventListener("test",$c,$c),window.removeEventListener("test",$c,$c)}catch{S0=!1}function dU(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Uu=!1,ig=null,sg=!1,E0=null,hU={onError:function(t){Uu=!0,ig=t}};function fU(t,e,n,r,i,s,o,a,l){Uu=!1,ig=null,dU.apply(hU,arguments)}function pU(t,e,n,r,i,s,o,a,l){if(fU.apply(this,arguments),Uu){if(Uu){var c=ig;Uu=!1,ig=null}else throw Error(K(198));sg||(sg=!0,E0=c)}}function Ia(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function BI(t){if(Ia(t)!==t)throw Error(K(188))}function gU(t){var e=t.alternate;if(!e){if(e=Ia(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return BI(i),t;if(s===r)return BI(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function yP(t){return t=gU(t),t!==null?vP(t):null}function vP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vP(t);if(e!==null)return e;t=t.sibling}return null}var _P=dr.unstable_scheduleCallback,zI=dr.unstable_cancelCallback,mU=dr.unstable_shouldYield,yU=dr.unstable_requestPaint,At=dr.unstable_now,vU=dr.unstable_getCurrentPriorityLevel,Qw=dr.unstable_ImmediatePriority,bP=dr.unstable_UserBlockingPriority,og=dr.unstable_NormalPriority,_U=dr.unstable_LowPriority,wP=dr.unstable_IdlePriority,Cm=null,ui=null;function bU(t){if(ui&&typeof ui.onCommitFiberRoot=="function")try{ui.onCommitFiberRoot(Cm,t,void 0,(t.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:SU,wU=Math.log,xU=Math.LN2;function SU(t){return t>>>=0,t===0?32:31-(wU(t)/xU|0)|0}var xf=64,Sf=4194304;function wu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ag(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=wu(a):(s&=o,s!==0&&(r=wu(s)))}else o=n&~i,o!==0?r=wu(o):s!==0&&(r=wu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vr(e),i=1<<n,r|=t[n],e&=~i;return r}function EU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IU(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Vr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=EU(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function I0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xP(){var t=xf;return xf<<=1,!(xf&4194240)&&(xf=64),t}function Lv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Eh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vr(e),t[e]=n}function TU(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Yw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Be=0;function SP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var EP,Xw,IP,TP,RP,T0=!1,Ef=[],Rs=null,Cs=null,ks=null,yd=new Map,vd=new Map,ps=[],RU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WI(t,e){switch(t){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":yd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vd.delete(e.pointerId)}}function Uc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Th(e),e!==null&&Xw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function CU(t,e,n,r,i){switch(e){case"focusin":return Rs=Uc(Rs,t,e,n,r,i),!0;case"dragenter":return Cs=Uc(Cs,t,e,n,r,i),!0;case"mouseover":return ks=Uc(ks,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return yd.set(s,Uc(yd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vd.set(s,Uc(vd.get(s)||null,t,e,n,r,i)),!0}return!1}function CP(t){var e=Lo(t.target);if(e!==null){var n=Ia(e);if(n!==null){if(e=n.tag,e===13){if(e=mP(n),e!==null){t.blockedOn=e,RP(t.priority,function(){IP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=R0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);w0=r,n.target.dispatchEvent(r),w0=null}else return e=Th(n),e!==null&&Xw(e),t.blockedOn=n,!1;e.shift()}return!0}function HI(t,e,n){wp(t)&&n.delete(e)}function kU(){T0=!1,Rs!==null&&wp(Rs)&&(Rs=null),Cs!==null&&wp(Cs)&&(Cs=null),ks!==null&&wp(ks)&&(ks=null),yd.forEach(HI),vd.forEach(HI)}function Bc(t,e){t.blockedOn===e&&(t.blockedOn=null,T0||(T0=!0,dr.unstable_scheduleCallback(dr.unstable_NormalPriority,kU)))}function _d(t){function e(i){return Bc(i,t)}if(0<Ef.length){Bc(Ef[0],t);for(var n=1;n<Ef.length;n++){var r=Ef[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Rs!==null&&Bc(Rs,t),Cs!==null&&Bc(Cs,t),ks!==null&&Bc(ks,t),yd.forEach(e),vd.forEach(e),n=0;n<ps.length;n++)r=ps[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ps.length&&(n=ps[0],n.blockedOn===null);)CP(n),n.blockedOn===null&&ps.shift()}var xl=Xi.ReactCurrentBatchConfig,lg=!0;function AU(t,e,n,r){var i=Be,s=xl.transition;xl.transition=null;try{Be=1,Jw(t,e,n,r)}finally{Be=i,xl.transition=s}}function PU(t,e,n,r){var i=Be,s=xl.transition;xl.transition=null;try{Be=4,Jw(t,e,n,r)}finally{Be=i,xl.transition=s}}function Jw(t,e,n,r){if(lg){var i=R0(t,e,n,r);if(i===null)qv(t,e,r,cg,n),WI(t,r);else if(CU(i,t,e,n,r))r.stopPropagation();else if(WI(t,r),e&4&&-1<RU.indexOf(t)){for(;i!==null;){var s=Th(i);if(s!==null&&EP(s),s=R0(t,e,n,r),s===null&&qv(t,e,r,cg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qv(t,e,r,null,n)}}var cg=null;function R0(t,e,n,r){if(cg=null,t=Gw(r),t=Lo(t),t!==null)if(e=Ia(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cg=t,null}function kP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vU()){case Qw:return 1;case bP:return 4;case og:case _U:return 16;case wP:return 536870912;default:return 16}default:return 16}}var vs=null,Zw=null,xp=null;function AP(){if(xp)return xp;var t,e=Zw,n=e.length,r,i="value"in vs?vs.value:vs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return xp=i.slice(t,1<r?1-r:void 0)}function Sp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function If(){return!0}function qI(){return!1}function gr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?If:qI,this.isPropagationStopped=qI,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=If)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=If)},persist:function(){},isPersistent:If}),e}var pc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ex=gr(pc),Ih=vt({},pc,{view:0,detail:0}),NU=gr(Ih),Vv,Fv,zc,km=vt({},Ih,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zc&&(zc&&t.type==="mousemove"?(Vv=t.screenX-zc.screenX,Fv=t.screenY-zc.screenY):Fv=Vv=0,zc=t),Vv)},movementY:function(t){return"movementY"in t?t.movementY:Fv}}),KI=gr(km),DU=vt({},km,{dataTransfer:0}),OU=gr(DU),MU=vt({},Ih,{relatedTarget:0}),jv=gr(MU),LU=vt({},pc,{animationName:0,elapsedTime:0,pseudoElement:0}),VU=gr(LU),FU=vt({},pc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jU=gr(FU),$U=vt({},pc,{data:0}),GI=gr($U),UU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zU[t])?!!e[t]:!1}function tx(){return WU}var HU=vt({},Ih,{key:function(t){if(t.key){var e=UU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tx,charCode:function(t){return t.type==="keypress"?Sp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qU=gr(HU),KU=vt({},km,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QI=gr(KU),GU=vt({},Ih,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tx}),QU=gr(GU),YU=vt({},pc,{propertyName:0,elapsedTime:0,pseudoElement:0}),XU=gr(YU),JU=vt({},km,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZU=gr(JU),eB=[9,13,27,32],nx=Wi&&"CompositionEvent"in window,Bu=null;Wi&&"documentMode"in document&&(Bu=document.documentMode);var tB=Wi&&"TextEvent"in window&&!Bu,PP=Wi&&(!nx||Bu&&8<Bu&&11>=Bu),YI=" ",XI=!1;function NP(t,e){switch(t){case"keyup":return eB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ol=!1;function nB(t,e){switch(t){case"compositionend":return DP(e);case"keypress":return e.which!==32?null:(XI=!0,YI);case"textInput":return t=e.data,t===YI&&XI?null:t;default:return null}}function rB(t,e){if(ol)return t==="compositionend"||!nx&&NP(t,e)?(t=AP(),xp=Zw=vs=null,ol=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PP&&e.locale!=="ko"?null:e.data;default:return null}}var iB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iB[t.type]:e==="textarea"}function OP(t,e,n,r){dP(r),e=ug(e,"onChange"),0<e.length&&(n=new ex("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zu=null,bd=null;function sB(t){HP(t,0)}function Am(t){var e=cl(t);if(iP(e))return t}function oB(t,e){if(t==="change")return e}var MP=!1;if(Wi){var $v;if(Wi){var Uv="oninput"in document;if(!Uv){var ZI=document.createElement("div");ZI.setAttribute("oninput","return;"),Uv=typeof ZI.oninput=="function"}$v=Uv}else $v=!1;MP=$v&&(!document.documentMode||9<document.documentMode)}function eT(){zu&&(zu.detachEvent("onpropertychange",LP),bd=zu=null)}function LP(t){if(t.propertyName==="value"&&Am(bd)){var e=[];OP(e,bd,t,Gw(t)),gP(sB,e)}}function aB(t,e,n){t==="focusin"?(eT(),zu=e,bd=n,zu.attachEvent("onpropertychange",LP)):t==="focusout"&&eT()}function lB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Am(bd)}function cB(t,e){if(t==="click")return Am(e)}function uB(t,e){if(t==="input"||t==="change")return Am(e)}function dB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ur=typeof Object.is=="function"?Object.is:dB;function wd(t,e){if(Ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!c0.call(e,i)||!Ur(t[i],e[i]))return!1}return!0}function tT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nT(t,e){var n=tT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tT(n)}}function VP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FP(){for(var t=window,e=rg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rg(t.document)}return e}function rx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hB(t){var e=FP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VP(n.ownerDocument.documentElement,n)){if(r!==null&&rx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=nT(n,s);var o=nT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fB=Wi&&"documentMode"in document&&11>=document.documentMode,al=null,C0=null,Wu=null,k0=!1;function rT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;k0||al==null||al!==rg(r)||(r=al,"selectionStart"in r&&rx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wu&&wd(Wu,r)||(Wu=r,r=ug(C0,"onSelect"),0<r.length&&(e=new ex("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=al)))}function Tf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ll={animationend:Tf("Animation","AnimationEnd"),animationiteration:Tf("Animation","AnimationIteration"),animationstart:Tf("Animation","AnimationStart"),transitionend:Tf("Transition","TransitionEnd")},Bv={},jP={};Wi&&(jP=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function Pm(t){if(Bv[t])return Bv[t];if(!ll[t])return t;var e=ll[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jP)return Bv[t]=e[n];return t}var $P=Pm("animationend"),UP=Pm("animationiteration"),BP=Pm("animationstart"),zP=Pm("transitionend"),WP=new Map,iT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(t,e){WP.set(t,e),Ea(e,[t])}for(var zv=0;zv<iT.length;zv++){var Wv=iT[zv],pB=Wv.toLowerCase(),gB=Wv[0].toUpperCase()+Wv.slice(1);no(pB,"on"+gB)}no($P,"onAnimationEnd");no(UP,"onAnimationIteration");no(BP,"onAnimationStart");no("dblclick","onDoubleClick");no("focusin","onFocus");no("focusout","onBlur");no(zP,"onTransitionEnd");Ml("onMouseEnter",["mouseout","mouseover"]);Ml("onMouseLeave",["mouseout","mouseover"]);Ml("onPointerEnter",["pointerout","pointerover"]);Ml("onPointerLeave",["pointerout","pointerover"]);Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mB=new Set("cancel close invalid load scroll toggle".split(" ").concat(xu));function sT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pU(r,e,void 0,t),t.currentTarget=null}function HP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;sT(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;sT(i,a,c),s=l}}}if(sg)throw t=E0,sg=!1,E0=null,t}function et(t,e){var n=e[O0];n===void 0&&(n=e[O0]=new Set);var r=t+"__bubble";n.has(r)||(qP(e,t,2,!1),n.add(r))}function Hv(t,e,n){var r=0;e&&(r|=4),qP(n,t,r,e)}var Rf="_reactListening"+Math.random().toString(36).slice(2);function xd(t){if(!t[Rf]){t[Rf]=!0,ZA.forEach(function(n){n!=="selectionchange"&&(mB.has(n)||Hv(n,!1,t),Hv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rf]||(e[Rf]=!0,Hv("selectionchange",!1,e))}}function qP(t,e,n,r){switch(kP(e)){case 1:var i=AU;break;case 4:i=PU;break;default:i=Jw}n=i.bind(null,e,n,t),i=void 0,!S0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qv(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Lo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}gP(function(){var c=s,u=Gw(n),d=[];e:{var h=WP.get(t);if(h!==void 0){var f=ex,g=t;switch(t){case"keypress":if(Sp(n)===0)break e;case"keydown":case"keyup":f=qU;break;case"focusin":g="focus",f=jv;break;case"focusout":g="blur",f=jv;break;case"beforeblur":case"afterblur":f=jv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=KI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=OU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=QU;break;case $P:case UP:case BP:f=VU;break;case zP:f=XU;break;case"scroll":f=NU;break;case"wheel":f=ZU;break;case"copy":case"cut":case"paste":f=jU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=QI}var m=(e&4)!==0,_=!m&&t==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var y=c,b;y!==null;){b=y;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,v!==null&&(w=md(y,v),w!=null&&m.push(Sd(y,w,b)))),_)break;y=y.return}0<m.length&&(h=new f(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==w0&&(g=n.relatedTarget||n.fromElement)&&(Lo(g)||g[Hi]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=c,g=g?Lo(g):null,g!==null&&(_=Ia(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(m=KI,w="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=QI,w="onPointerLeave",v="onPointerEnter",y="pointer"),_=f==null?h:cl(f),b=g==null?h:cl(g),h=new m(w,y+"leave",f,n,u),h.target=_,h.relatedTarget=b,w=null,Lo(u)===c&&(m=new m(v,y+"enter",g,n,u),m.target=b,m.relatedTarget=_,w=m),_=w,f&&g)t:{for(m=f,v=g,y=0,b=m;b;b=$a(b))y++;for(b=0,w=v;w;w=$a(w))b++;for(;0<y-b;)m=$a(m),y--;for(;0<b-y;)v=$a(v),b--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=$a(m),v=$a(v)}m=null}else m=null;f!==null&&oT(d,h,f,m,!1),g!==null&&_!==null&&oT(d,_,g,m,!0)}}e:{if(h=c?cl(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var x=oB;else if(JI(h))if(MP)x=uB;else{x=lB;var I=aB}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=cB);if(x&&(x=x(t,c))){OP(d,x,n,u);break e}I&&I(t,h,c),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&m0(h,"number",h.value)}switch(I=c?cl(c):window,t){case"focusin":(JI(I)||I.contentEditable==="true")&&(al=I,C0=c,Wu=null);break;case"focusout":Wu=C0=al=null;break;case"mousedown":k0=!0;break;case"contextmenu":case"mouseup":case"dragend":k0=!1,rT(d,n,u);break;case"selectionchange":if(fB)break;case"keydown":case"keyup":rT(d,n,u)}var T;if(nx)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ol?NP(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(PP&&n.locale!=="ko"&&(ol||E!=="onCompositionStart"?E==="onCompositionEnd"&&ol&&(T=AP()):(vs=u,Zw="value"in vs?vs.value:vs.textContent,ol=!0)),I=ug(c,E),0<I.length&&(E=new GI(E,t,null,n,u),d.push({event:E,listeners:I}),T?E.data=T:(T=DP(n),T!==null&&(E.data=T)))),(T=tB?nB(t,n):rB(t,n))&&(c=ug(c,"onBeforeInput"),0<c.length&&(u=new GI("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=T))}HP(d,e)})}function Sd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ug(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=md(t,n),s!=null&&r.unshift(Sd(t,s,i)),s=md(t,e),s!=null&&r.push(Sd(t,s,i))),t=t.return}return r}function $a(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=md(n,s),l!=null&&o.unshift(Sd(n,l,a))):i||(l=md(n,s),l!=null&&o.push(Sd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yB=/\r\n?/g,vB=/\u0000|\uFFFD/g;function aT(t){return(typeof t=="string"?t:""+t).replace(yB,`
`).replace(vB,"")}function Cf(t,e,n){if(e=aT(e),aT(t)!==e&&n)throw Error(K(425))}function dg(){}var A0=null,P0=null;function N0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var D0=typeof setTimeout=="function"?setTimeout:void 0,_B=typeof clearTimeout=="function"?clearTimeout:void 0,lT=typeof Promise=="function"?Promise:void 0,bB=typeof queueMicrotask=="function"?queueMicrotask:typeof lT<"u"?function(t){return lT.resolve(null).then(t).catch(wB)}:D0;function wB(t){setTimeout(function(){throw t})}function Kv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_d(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_d(e)}function As(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gc=Math.random().toString(36).slice(2),Jr="__reactFiber$"+gc,Ed="__reactProps$"+gc,Hi="__reactContainer$"+gc,O0="__reactEvents$"+gc,xB="__reactListeners$"+gc,SB="__reactHandles$"+gc;function Lo(t){var e=t[Jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hi]||n[Jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cT(t);t!==null;){if(n=t[Jr])return n;t=cT(t)}return e}t=n,n=t.parentNode}return null}function Th(t){return t=t[Jr]||t[Hi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Nm(t){return t[Ed]||null}var M0=[],ul=-1;function ro(t){return{current:t}}function st(t){0>ul||(t.current=M0[ul],M0[ul]=null,ul--)}function Ye(t,e){ul++,M0[ul]=t.current,t.current=e}var js={},In=ro(js),Yn=ro(!1),ea=js;function Ll(t,e){var n=t.type.contextTypes;if(!n)return js;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xn(t){return t=t.childContextTypes,t!=null}function hg(){st(Yn),st(In)}function uT(t,e,n){if(In.current!==js)throw Error(K(168));Ye(In,e),Ye(Yn,n)}function KP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,aU(t)||"Unknown",i));return vt({},n,r)}function fg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||js,ea=In.current,Ye(In,t),Ye(Yn,Yn.current),!0}function dT(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=KP(t,e,ea),r.__reactInternalMemoizedMergedChildContext=t,st(Yn),st(In),Ye(In,t)):st(Yn),Ye(Yn,n)}var Ci=null,Dm=!1,Gv=!1;function GP(t){Ci===null?Ci=[t]:Ci.push(t)}function EB(t){Dm=!0,GP(t)}function io(){if(!Gv&&Ci!==null){Gv=!0;var t=0,e=Be;try{var n=Ci;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ci=null,Dm=!1}catch(i){throw Ci!==null&&(Ci=Ci.slice(t+1)),_P(Qw,io),i}finally{Be=e,Gv=!1}}return null}var dl=[],hl=0,pg=null,gg=0,br=[],wr=0,ta=null,Pi=1,Ni="";function Eo(t,e){dl[hl++]=gg,dl[hl++]=pg,pg=t,gg=e}function QP(t,e,n){br[wr++]=Pi,br[wr++]=Ni,br[wr++]=ta,ta=t;var r=Pi;t=Ni;var i=32-Vr(r)-1;r&=~(1<<i),n+=1;var s=32-Vr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pi=1<<32-Vr(e)+i|n<<i|r,Ni=s+t}else Pi=1<<s|n<<i|r,Ni=t}function ix(t){t.return!==null&&(Eo(t,1),QP(t,1,0))}function sx(t){for(;t===pg;)pg=dl[--hl],dl[hl]=null,gg=dl[--hl],dl[hl]=null;for(;t===ta;)ta=br[--wr],br[wr]=null,Ni=br[--wr],br[wr]=null,Pi=br[--wr],br[wr]=null}var cr=null,ar=null,ut=!1,Mr=null;function YP(t,e){var n=Sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cr=t,ar=As(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cr=t,ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ta!==null?{id:Pi,overflow:Ni}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cr=t,ar=null,!0):!1;default:return!1}}function L0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function V0(t){if(ut){var e=ar;if(e){var n=e;if(!hT(t,e)){if(L0(t))throw Error(K(418));e=As(n.nextSibling);var r=cr;e&&hT(t,e)?YP(r,n):(t.flags=t.flags&-4097|2,ut=!1,cr=t)}}else{if(L0(t))throw Error(K(418));t.flags=t.flags&-4097|2,ut=!1,cr=t}}}function fT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cr=t}function kf(t){if(t!==cr)return!1;if(!ut)return fT(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!N0(t.type,t.memoizedProps)),e&&(e=ar)){if(L0(t))throw XP(),Error(K(418));for(;e;)YP(t,e),e=As(e.nextSibling)}if(fT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ar=As(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ar=null}}else ar=cr?As(t.stateNode.nextSibling):null;return!0}function XP(){for(var t=ar;t;)t=As(t.nextSibling)}function Vl(){ar=cr=null,ut=!1}function ox(t){Mr===null?Mr=[t]:Mr.push(t)}var IB=Xi.ReactCurrentBatchConfig;function Dr(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var mg=ro(null),yg=null,fl=null,ax=null;function lx(){ax=fl=yg=null}function cx(t){var e=mg.current;st(mg),t._currentValue=e}function F0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Sl(t,e){yg=t,ax=fl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qn=!0),t.firstContext=null)}function Rr(t){var e=t._currentValue;if(ax!==t)if(t={context:t,memoizedValue:e,next:null},fl===null){if(yg===null)throw Error(K(308));fl=t,yg.dependencies={lanes:0,firstContext:t}}else fl=fl.next=t;return e}var Vo=null;function ux(t){Vo===null?Vo=[t]:Vo.push(t)}function JP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ux(e)):(n.next=i.next,i.next=n),e.interleaved=n,qi(t,r)}function qi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hs=!1;function dx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ji(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qi(t,n)}return i=r.interleaved,i===null?(e.next=e,ux(r)):(e.next=i.next,i.next=e),r.interleaved=e,qi(t,n)}function Ep(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yw(t,n)}}function pT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vg(t,e,n,r){var i=t.updateQueue;hs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(h=e,f=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=vt({},d,h);break e;case 2:hs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ra|=o,t.lanes=o,t.memoizedState=d}}function gT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var eN=new JA.Component().refs;function j0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Om={isMounted:function(t){return(t=t._reactInternals)?Ia(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nn(),i=Ds(t),s=ji(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ps(t,s,i),e!==null&&(Fr(e,t,i,r),Ep(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nn(),i=Ds(t),s=ji(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ps(t,s,i),e!==null&&(Fr(e,t,i,r),Ep(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nn(),r=Ds(t),i=ji(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ps(t,i,r),e!==null&&(Fr(e,t,r,n),Ep(e,t,r))}};function mT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!wd(n,r)||!wd(i,s):!0}function tN(t,e,n){var r=!1,i=js,s=e.contextType;return typeof s=="object"&&s!==null?s=Rr(s):(i=Xn(e)?ea:In.current,r=e.contextTypes,s=(r=r!=null)?Ll(t,i):js),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Om,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function yT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Om.enqueueReplaceState(e,e.state,null)}function $0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=eN,dx(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Rr(s):(s=Xn(e)?ea:In.current,i.context=Ll(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(j0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Om.enqueueReplaceState(i,i.state,null),vg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===eN&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Af(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vT(t){var e=t._init;return e(t._payload)}function nN(t){function e(v,y){if(t){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Os(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,b,w){return y===null||y.tag!==6?(y=t_(b,v.mode,w),y.return=v,y):(y=i(y,b),y.return=v,y)}function l(v,y,b,w){var x=b.type;return x===sl?u(v,y,b.props.children,w,b.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ds&&vT(x)===y.type)?(w=i(y,b.props),w.ref=Wc(v,y,b),w.return=v,w):(w=Ap(b.type,b.key,b.props,null,v.mode,w),w.ref=Wc(v,y,b),w.return=v,w)}function c(v,y,b,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=n_(b,v.mode,w),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function u(v,y,b,w,x){return y===null||y.tag!==7?(y=qo(b,v.mode,w,x),y.return=v,y):(y=i(y,b),y.return=v,y)}function d(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=t_(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _f:return b=Ap(y.type,y.key,y.props,null,v.mode,b),b.ref=Wc(v,null,y),b.return=v,b;case il:return y=n_(y,v.mode,b),y.return=v,y;case ds:var w=y._init;return d(v,w(y._payload),b)}if(bu(y)||jc(y))return y=qo(y,v.mode,b,null),y.return=v,y;Af(v,y)}return null}function h(v,y,b,w){var x=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return x!==null?null:a(v,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _f:return b.key===x?l(v,y,b,w):null;case il:return b.key===x?c(v,y,b,w):null;case ds:return x=b._init,h(v,y,x(b._payload),w)}if(bu(b)||jc(b))return x!==null?null:u(v,y,b,w,null);Af(v,b)}return null}function f(v,y,b,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(b)||null,a(y,v,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _f:return v=v.get(w.key===null?b:w.key)||null,l(y,v,w,x);case il:return v=v.get(w.key===null?b:w.key)||null,c(y,v,w,x);case ds:var I=w._init;return f(v,y,b,I(w._payload),x)}if(bu(w)||jc(w))return v=v.get(b)||null,u(y,v,w,x,null);Af(y,w)}return null}function g(v,y,b,w){for(var x=null,I=null,T=y,E=y=0,A=null;T!==null&&E<b.length;E++){T.index>E?(A=T,T=null):A=T.sibling;var D=h(v,T,b[E],w);if(D===null){T===null&&(T=A);break}t&&T&&D.alternate===null&&e(v,T),y=s(D,y,E),I===null?x=D:I.sibling=D,I=D,T=A}if(E===b.length)return n(v,T),ut&&Eo(v,E),x;if(T===null){for(;E<b.length;E++)T=d(v,b[E],w),T!==null&&(y=s(T,y,E),I===null?x=T:I.sibling=T,I=T);return ut&&Eo(v,E),x}for(T=r(v,T);E<b.length;E++)A=f(T,v,E,b[E],w),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?E:A.key),y=s(A,y,E),I===null?x=A:I.sibling=A,I=A);return t&&T.forEach(function(V){return e(v,V)}),ut&&Eo(v,E),x}function m(v,y,b,w){var x=jc(b);if(typeof x!="function")throw Error(K(150));if(b=x.call(b),b==null)throw Error(K(151));for(var I=x=null,T=y,E=y=0,A=null,D=b.next();T!==null&&!D.done;E++,D=b.next()){T.index>E?(A=T,T=null):A=T.sibling;var V=h(v,T,D.value,w);if(V===null){T===null&&(T=A);break}t&&T&&V.alternate===null&&e(v,T),y=s(V,y,E),I===null?x=V:I.sibling=V,I=V,T=A}if(D.done)return n(v,T),ut&&Eo(v,E),x;if(T===null){for(;!D.done;E++,D=b.next())D=d(v,D.value,w),D!==null&&(y=s(D,y,E),I===null?x=D:I.sibling=D,I=D);return ut&&Eo(v,E),x}for(T=r(v,T);!D.done;E++,D=b.next())D=f(T,v,E,D.value,w),D!==null&&(t&&D.alternate!==null&&T.delete(D.key===null?E:D.key),y=s(D,y,E),I===null?x=D:I.sibling=D,I=D);return t&&T.forEach(function(H){return e(v,H)}),ut&&Eo(v,E),x}function _(v,y,b,w){if(typeof b=="object"&&b!==null&&b.type===sl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case _f:e:{for(var x=b.key,I=y;I!==null;){if(I.key===x){if(x=b.type,x===sl){if(I.tag===7){n(v,I.sibling),y=i(I,b.props.children),y.return=v,v=y;break e}}else if(I.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ds&&vT(x)===I.type){n(v,I.sibling),y=i(I,b.props),y.ref=Wc(v,I,b),y.return=v,v=y;break e}n(v,I);break}else e(v,I);I=I.sibling}b.type===sl?(y=qo(b.props.children,v.mode,w,b.key),y.return=v,v=y):(w=Ap(b.type,b.key,b.props,null,v.mode,w),w.ref=Wc(v,y,b),w.return=v,v=w)}return o(v);case il:e:{for(I=b.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=n_(b,v.mode,w),y.return=v,v=y}return o(v);case ds:return I=b._init,_(v,y,I(b._payload),w)}if(bu(b))return g(v,y,b,w);if(jc(b))return m(v,y,b,w);Af(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,b),y.return=v,v=y):(n(v,y),y=t_(b,v.mode,w),y.return=v,v=y),o(v)):n(v,y)}return _}var Fl=nN(!0),rN=nN(!1),Rh={},di=ro(Rh),Id=ro(Rh),Td=ro(Rh);function Fo(t){if(t===Rh)throw Error(K(174));return t}function hx(t,e){switch(Ye(Td,e),Ye(Id,t),Ye(di,Rh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:v0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=v0(e,t)}st(di),Ye(di,e)}function jl(){st(di),st(Id),st(Td)}function iN(t){Fo(Td.current);var e=Fo(di.current),n=v0(e,t.type);e!==n&&(Ye(Id,t),Ye(di,n))}function fx(t){Id.current===t&&(st(di),st(Id))}var gt=ro(0);function _g(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qv=[];function px(){for(var t=0;t<Qv.length;t++)Qv[t]._workInProgressVersionPrimary=null;Qv.length=0}var Ip=Xi.ReactCurrentDispatcher,Yv=Xi.ReactCurrentBatchConfig,na=0,mt=null,Ut=null,Gt=null,bg=!1,Hu=!1,Rd=0,TB=0;function mn(){throw Error(K(321))}function gx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ur(t[n],e[n]))return!1;return!0}function mx(t,e,n,r,i,s){if(na=s,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ip.current=t===null||t.memoizedState===null?AB:PB,t=n(r,i),Hu){s=0;do{if(Hu=!1,Rd=0,25<=s)throw Error(K(301));s+=1,Gt=Ut=null,e.updateQueue=null,Ip.current=NB,t=n(r,i)}while(Hu)}if(Ip.current=wg,e=Ut!==null&&Ut.next!==null,na=0,Gt=Ut=mt=null,bg=!1,e)throw Error(K(300));return t}function yx(){var t=Rd!==0;return Rd=0,t}function Gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?mt.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Cr(){if(Ut===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=Ut.next;var e=Gt===null?mt.memoizedState:Gt.next;if(e!==null)Gt=e,Ut=t;else{if(t===null)throw Error(K(310));Ut=t,t={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Gt===null?mt.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function Cd(t,e){return typeof e=="function"?e(t):e}function Xv(t){var e=Cr(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=Ut,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((na&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,mt.lanes|=u,ra|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ur(r,e.memoizedState)||(qn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,mt.lanes|=s,ra|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jv(t){var e=Cr(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ur(s,e.memoizedState)||(qn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function sN(){}function oN(t,e){var n=mt,r=Cr(),i=e(),s=!Ur(r.memoizedState,i);if(s&&(r.memoizedState=i,qn=!0),r=r.queue,vx(cN.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Gt!==null&&Gt.memoizedState.tag&1){if(n.flags|=2048,kd(9,lN.bind(null,n,r,i,e),void 0,null),Xt===null)throw Error(K(349));na&30||aN(n,e,i)}return i}function aN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lN(t,e,n,r){e.value=n,e.getSnapshot=r,uN(e)&&dN(t)}function cN(t,e,n){return n(function(){uN(e)&&dN(t)})}function uN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ur(t,n)}catch{return!0}}function dN(t){var e=qi(t,1);e!==null&&Fr(e,t,1,-1)}function _T(t){var e=Gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cd,lastRenderedState:t},e.queue=t,t=t.dispatch=kB.bind(null,mt,t),[e.memoizedState,t]}function kd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hN(){return Cr().memoizedState}function Tp(t,e,n,r){var i=Gr();mt.flags|=t,i.memoizedState=kd(1|e,n,void 0,r===void 0?null:r)}function Mm(t,e,n,r){var i=Cr();r=r===void 0?null:r;var s=void 0;if(Ut!==null){var o=Ut.memoizedState;if(s=o.destroy,r!==null&&gx(r,o.deps)){i.memoizedState=kd(e,n,s,r);return}}mt.flags|=t,i.memoizedState=kd(1|e,n,s,r)}function bT(t,e){return Tp(8390656,8,t,e)}function vx(t,e){return Mm(2048,8,t,e)}function fN(t,e){return Mm(4,2,t,e)}function pN(t,e){return Mm(4,4,t,e)}function gN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mN(t,e,n){return n=n!=null?n.concat([t]):null,Mm(4,4,gN.bind(null,e,t),n)}function _x(){}function yN(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vN(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _N(t,e,n){return na&21?(Ur(n,e)||(n=xP(),mt.lanes|=n,ra|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qn=!0),t.memoizedState=n)}function RB(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=Yv.transition;Yv.transition={};try{t(!1),e()}finally{Be=n,Yv.transition=r}}function bN(){return Cr().memoizedState}function CB(t,e,n){var r=Ds(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wN(t))xN(e,n);else if(n=JP(t,e,n,r),n!==null){var i=Nn();Fr(n,t,r,i),SN(n,e,r)}}function kB(t,e,n){var r=Ds(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wN(t))xN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ur(a,o)){var l=e.interleaved;l===null?(i.next=i,ux(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=JP(t,e,i,r),n!==null&&(i=Nn(),Fr(n,t,r,i),SN(n,e,r))}}function wN(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function xN(t,e){Hu=bg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yw(t,n)}}var wg={readContext:Rr,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},AB={readContext:Rr,useCallback:function(t,e){return Gr().memoizedState=[t,e===void 0?null:e],t},useContext:Rr,useEffect:bT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tp(4194308,4,gN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tp(4,2,t,e)},useMemo:function(t,e){var n=Gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=CB.bind(null,mt,t),[r.memoizedState,t]},useRef:function(t){var e=Gr();return t={current:t},e.memoizedState=t},useState:_T,useDebugValue:_x,useDeferredValue:function(t){return Gr().memoizedState=t},useTransition:function(){var t=_T(!1),e=t[0];return t=RB.bind(null,t[1]),Gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mt,i=Gr();if(ut){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Xt===null)throw Error(K(349));na&30||aN(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,bT(cN.bind(null,r,s,t),[t]),r.flags|=2048,kd(9,lN.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Gr(),e=Xt.identifierPrefix;if(ut){var n=Ni,r=Pi;n=(r&~(1<<32-Vr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PB={readContext:Rr,useCallback:yN,useContext:Rr,useEffect:vx,useImperativeHandle:mN,useInsertionEffect:fN,useLayoutEffect:pN,useMemo:vN,useReducer:Xv,useRef:hN,useState:function(){return Xv(Cd)},useDebugValue:_x,useDeferredValue:function(t){var e=Cr();return _N(e,Ut.memoizedState,t)},useTransition:function(){var t=Xv(Cd)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:sN,useSyncExternalStore:oN,useId:bN,unstable_isNewReconciler:!1},NB={readContext:Rr,useCallback:yN,useContext:Rr,useEffect:vx,useImperativeHandle:mN,useInsertionEffect:fN,useLayoutEffect:pN,useMemo:vN,useReducer:Jv,useRef:hN,useState:function(){return Jv(Cd)},useDebugValue:_x,useDeferredValue:function(t){var e=Cr();return Ut===null?e.memoizedState=t:_N(e,Ut.memoizedState,t)},useTransition:function(){var t=Jv(Cd)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:sN,useSyncExternalStore:oN,useId:bN,unstable_isNewReconciler:!1};function $l(t,e){try{var n="",r=e;do n+=oU(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Zv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function U0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DB=typeof WeakMap=="function"?WeakMap:Map;function EN(t,e,n){n=ji(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sg||(Sg=!0,X0=r),U0(t,e)},n}function IN(t,e,n){n=ji(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){U0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){U0(t,e),typeof r!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function wT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=KB.bind(null,t,e,n),e.then(t,t))}function xT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ST(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ji(-1,1),e.tag=2,Ps(n,e,1))),n.lanes|=1),t)}var OB=Xi.ReactCurrentOwner,qn=!1;function Rn(t,e,n,r){e.child=t===null?rN(e,null,n,r):Fl(e,t.child,n,r)}function ET(t,e,n,r,i){n=n.render;var s=e.ref;return Sl(e,i),r=mx(t,e,n,r,s,i),n=yx(),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ki(t,e,i)):(ut&&n&&ix(e),e.flags|=1,Rn(t,e,r,i),e.child)}function IT(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Rx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,TN(t,e,s,r,i)):(t=Ap(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wd,n(o,r)&&t.ref===e.ref)return Ki(t,e,i)}return e.flags|=1,t=Os(s,r),t.ref=e.ref,t.return=e,e.child=t}function TN(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(wd(s,r)&&t.ref===e.ref)if(qn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(qn=!0);else return e.lanes=t.lanes,Ki(t,e,i)}return B0(t,e,n,r,i)}function RN(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(gl,ir),ir|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(gl,ir),ir|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ye(gl,ir),ir|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ye(gl,ir),ir|=r;return Rn(t,e,i,n),e.child}function CN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function B0(t,e,n,r,i){var s=Xn(n)?ea:In.current;return s=Ll(e,s),Sl(e,i),n=mx(t,e,n,r,s,i),r=yx(),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ki(t,e,i)):(ut&&r&&ix(e),e.flags|=1,Rn(t,e,n,i),e.child)}function TT(t,e,n,r,i){if(Xn(n)){var s=!0;fg(e)}else s=!1;if(Sl(e,i),e.stateNode===null)Rp(t,e),tN(e,n,r),$0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Rr(c):(c=Xn(n)?ea:In.current,c=Ll(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&yT(e,o,r,c),hs=!1;var h=e.memoizedState;o.state=h,vg(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Yn.current||hs?(typeof u=="function"&&(j0(e,n,u,r),l=e.memoizedState),(a=hs||mT(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Dr(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rr(l):(l=Xn(n)?ea:In.current,l=Ll(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&yT(e,o,r,l),hs=!1,h=e.memoizedState,o.state=h,vg(e,r,o,i);var g=e.memoizedState;a!==d||h!==g||Yn.current||hs?(typeof f=="function"&&(j0(e,n,f,r),g=e.memoizedState),(c=hs||mT(e,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return z0(t,e,n,r,s,i)}function z0(t,e,n,r,i,s){CN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&dT(e,n,!1),Ki(t,e,s);r=e.stateNode,OB.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fl(e,t.child,null,s),e.child=Fl(e,null,a,s)):Rn(t,e,a,s),e.memoizedState=r.state,i&&dT(e,n,!0),e.child}function kN(t){var e=t.stateNode;e.pendingContext?uT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uT(t,e.context,!1),hx(t,e.containerInfo)}function RT(t,e,n,r,i){return Vl(),ox(i),e.flags|=256,Rn(t,e,n,r),e.child}var W0={dehydrated:null,treeContext:null,retryLane:0};function H0(t){return{baseLanes:t,cachePool:null,transitions:null}}function AN(t,e,n){var r=e.pendingProps,i=gt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ye(gt,i&1),t===null)return V0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Fm(o,r,0,null),t=qo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=H0(n),e.memoizedState=W0,t):bx(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return MB(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Os(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Os(a,s):(s=qo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?H0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=W0,r}return s=t.child,t=s.sibling,r=Os(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bx(t,e){return e=Fm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pf(t,e,n,r){return r!==null&&ox(r),Fl(e,t.child,null,n),t=bx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MB(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Zv(Error(K(422))),Pf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Fm({mode:"visible",children:r.children},i,0,null),s=qo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Fl(e,t.child,null,o),e.child.memoizedState=H0(o),e.memoizedState=W0,s);if(!(e.mode&1))return Pf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(K(419)),r=Zv(s,r,void 0),Pf(t,e,o,r)}if(a=(o&t.childLanes)!==0,qn||a){if(r=Xt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qi(t,i),Fr(r,t,i,-1))}return Tx(),r=Zv(Error(K(421))),Pf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=GB.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ar=As(i.nextSibling),cr=e,ut=!0,Mr=null,t!==null&&(br[wr++]=Pi,br[wr++]=Ni,br[wr++]=ta,Pi=t.id,Ni=t.overflow,ta=e),e=bx(e,r.children),e.flags|=4096,e)}function CT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),F0(t.return,e,n)}function e_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function PN(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Rn(t,e,r.children,n),r=gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&CT(t,n,e);else if(t.tag===19)CT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ye(gt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_g(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),e_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_g(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}e_(e,!0,n,null,s);break;case"together":e_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ki(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ra|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LB(t,e,n){switch(e.tag){case 3:kN(e),Vl();break;case 5:iN(e);break;case 1:Xn(e.type)&&fg(e);break;case 4:hx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ye(mg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ye(gt,gt.current&1),e.flags|=128,null):n&e.child.childLanes?AN(t,e,n):(Ye(gt,gt.current&1),t=Ki(t,e,n),t!==null?t.sibling:null);Ye(gt,gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(gt,gt.current),r)break;return null;case 22:case 23:return e.lanes=0,RN(t,e,n)}return Ki(t,e,n)}var NN,q0,DN,ON;NN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};q0=function(){};DN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Fo(di.current);var s=null;switch(n){case"input":i=p0(t,i),r=p0(t,r),s=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),s=[];break;case"textarea":i=y0(t,i),r=y0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dg)}_0(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pd.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&et("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};ON=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hc(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function VB(t,e,n){var r=e.pendingProps;switch(sx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(e),null;case 1:return Xn(e.type)&&hg(),yn(e),null;case 3:return r=e.stateNode,jl(),st(Yn),st(In),px(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mr!==null&&(eb(Mr),Mr=null))),q0(t,e),yn(e),null;case 5:fx(e);var i=Fo(Td.current);if(n=e.type,t!==null&&e.stateNode!=null)DN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return yn(e),null}if(t=Fo(di.current),kf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Jr]=e,r[Ed]=s,t=(e.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(i=0;i<xu.length;i++)et(xu[i],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":VI(r,s),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},et("invalid",r);break;case"textarea":jI(r,s),et("invalid",r)}_0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Cf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Cf(r.textContent,a,t),i=["children",""+a]):pd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&et("scroll",r)}switch(n){case"input":bf(r),FI(r,s,!0);break;case"textarea":bf(r),$I(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=dg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Jr]=e,t[Ed]=r,NN(t,e,!1,!1),e.stateNode=t;e:{switch(o=b0(n,r),n){case"dialog":et("cancel",t),et("close",t),i=r;break;case"iframe":case"object":case"embed":et("load",t),i=r;break;case"video":case"audio":for(i=0;i<xu.length;i++)et(xu[i],t);i=r;break;case"source":et("error",t),i=r;break;case"img":case"image":case"link":et("error",t),et("load",t),i=r;break;case"details":et("toggle",t),i=r;break;case"input":VI(t,r),i=p0(t,r),et("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),et("invalid",t);break;case"textarea":jI(t,r),i=y0(t,r),et("invalid",t);break;default:i=r}_0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uP(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lP(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gd(t,l):typeof l=="number"&&gd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&et("scroll",t):l!=null&&Ww(t,s,l,o))}switch(n){case"input":bf(t),FI(t,r,!1);break;case"textarea":bf(t),$I(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?_l(t,!!r.multiple,s,!1):r.defaultValue!=null&&_l(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yn(e),null;case 6:if(t&&e.stateNode!=null)ON(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=Fo(Td.current),Fo(di.current),kf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jr]=e,(s=r.nodeValue!==n)&&(t=cr,t!==null))switch(t.tag){case 3:Cf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jr]=e,e.stateNode=r}return yn(e),null;case 13:if(st(gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&ar!==null&&e.mode&1&&!(e.flags&128))XP(),Vl(),e.flags|=98560,s=!1;else if(s=kf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Jr]=e}else Vl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yn(e),s=!1}else Mr!==null&&(eb(Mr),Mr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?Bt===0&&(Bt=3):Tx())),e.updateQueue!==null&&(e.flags|=4),yn(e),null);case 4:return jl(),q0(t,e),t===null&&xd(e.stateNode.containerInfo),yn(e),null;case 10:return cx(e.type._context),yn(e),null;case 17:return Xn(e.type)&&hg(),yn(e),null;case 19:if(st(gt),s=e.memoizedState,s===null)return yn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Hc(s,!1);else{if(Bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_g(t),o!==null){for(e.flags|=128,Hc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ye(gt,gt.current&1|2),e.child}t=t.sibling}s.tail!==null&&At()>Ul&&(e.flags|=128,r=!0,Hc(s,!1),e.lanes=4194304)}else{if(!r)if(t=_g(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ut)return yn(e),null}else 2*At()-s.renderingStartTime>Ul&&n!==1073741824&&(e.flags|=128,r=!0,Hc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=At(),e.sibling=null,n=gt.current,Ye(gt,r?n&1|2:n&1),e):(yn(e),null);case 22:case 23:return Ix(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ir&1073741824&&(yn(e),e.subtreeFlags&6&&(e.flags|=8192)):yn(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function FB(t,e){switch(sx(e),e.tag){case 1:return Xn(e.type)&&hg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jl(),st(Yn),st(In),px(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fx(e),null;case 13:if(st(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Vl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(gt),null;case 4:return jl(),null;case 10:return cx(e.type._context),null;case 22:case 23:return Ix(),null;case 24:return null;default:return null}}var Nf=!1,wn=!1,jB=typeof WeakSet=="function"?WeakSet:Set,oe=null;function pl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(t,e,r)}else n.current=null}function K0(t,e,n){try{n()}catch(r){bt(t,e,r)}}var kT=!1;function $B(t,e){if(A0=lg,t=FP(),rx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(P0={focusedElem:t,selectionRange:n},lg=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,_=g.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:Dr(e.type,m),_);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(w){bt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return g=kT,kT=!1,g}function qu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&K0(e,n,s)}i=i.next}while(i!==r)}}function Lm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function G0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function MN(t){var e=t.alternate;e!==null&&(t.alternate=null,MN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jr],delete e[Ed],delete e[O0],delete e[xB],delete e[SB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LN(t){return t.tag===5||t.tag===3||t.tag===4}function AT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Q0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dg));else if(r!==4&&(t=t.child,t!==null))for(Q0(t,e,n),t=t.sibling;t!==null;)Q0(t,e,n),t=t.sibling}function Y0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Y0(t,e,n),t=t.sibling;t!==null;)Y0(t,e,n),t=t.sibling}var sn=null,Or=!1;function os(t,e,n){for(n=n.child;n!==null;)VN(t,e,n),n=n.sibling}function VN(t,e,n){if(ui&&typeof ui.onCommitFiberUnmount=="function")try{ui.onCommitFiberUnmount(Cm,n)}catch{}switch(n.tag){case 5:wn||pl(n,e);case 6:var r=sn,i=Or;sn=null,os(t,e,n),sn=r,Or=i,sn!==null&&(Or?(t=sn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):sn.removeChild(n.stateNode));break;case 18:sn!==null&&(Or?(t=sn,n=n.stateNode,t.nodeType===8?Kv(t.parentNode,n):t.nodeType===1&&Kv(t,n),_d(t)):Kv(sn,n.stateNode));break;case 4:r=sn,i=Or,sn=n.stateNode.containerInfo,Or=!0,os(t,e,n),sn=r,Or=i;break;case 0:case 11:case 14:case 15:if(!wn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&K0(n,e,o),i=i.next}while(i!==r)}os(t,e,n);break;case 1:if(!wn&&(pl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){bt(n,e,a)}os(t,e,n);break;case 21:os(t,e,n);break;case 22:n.mode&1?(wn=(r=wn)||n.memoizedState!==null,os(t,e,n),wn=r):os(t,e,n);break;default:os(t,e,n)}}function PT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jB),e.forEach(function(r){var i=QB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Pr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:sn=a.stateNode,Or=!1;break e;case 3:sn=a.stateNode.containerInfo,Or=!0;break e;case 4:sn=a.stateNode.containerInfo,Or=!0;break e}a=a.return}if(sn===null)throw Error(K(160));VN(s,o,i),sn=null,Or=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){bt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FN(e,t),e=e.sibling}function FN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pr(e,t),qr(t),r&4){try{qu(3,t,t.return),Lm(3,t)}catch(m){bt(t,t.return,m)}try{qu(5,t,t.return)}catch(m){bt(t,t.return,m)}}break;case 1:Pr(e,t),qr(t),r&512&&n!==null&&pl(n,n.return);break;case 5:if(Pr(e,t),qr(t),r&512&&n!==null&&pl(n,n.return),t.flags&32){var i=t.stateNode;try{gd(i,"")}catch(m){bt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&sP(i,s),b0(a,o);var c=b0(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?uP(i,d):u==="dangerouslySetInnerHTML"?lP(i,d):u==="children"?gd(i,d):Ww(i,u,d,c)}switch(a){case"input":g0(i,s);break;case"textarea":oP(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?_l(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?_l(i,!!s.multiple,s.defaultValue,!0):_l(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ed]=s}catch(m){bt(t,t.return,m)}}break;case 6:if(Pr(e,t),qr(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){bt(t,t.return,m)}}break;case 3:if(Pr(e,t),qr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_d(e.containerInfo)}catch(m){bt(t,t.return,m)}break;case 4:Pr(e,t),qr(t);break;case 13:Pr(e,t),qr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Sx=At())),r&4&&PT(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(wn=(c=wn)||u,Pr(e,t),wn=c):Pr(e,t),qr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(oe=t,u=t.child;u!==null;){for(d=oe=u;oe!==null;){switch(h=oe,f=h.child,h.tag){case 0:case 11:case 14:case 15:qu(4,h,h.return);break;case 1:pl(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){bt(r,n,m)}}break;case 5:pl(h,h.return);break;case 22:if(h.memoizedState!==null){DT(d);continue}}f!==null?(f.return=h,oe=f):DT(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cP("display",o))}catch(m){bt(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){bt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Pr(e,t),qr(t),r&4&&PT(t);break;case 21:break;default:Pr(e,t),qr(t)}}function qr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LN(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gd(i,""),r.flags&=-33);var s=AT(t);Y0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=AT(t);Q0(t,a,o);break;default:throw Error(K(161))}}catch(l){bt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UB(t,e,n){oe=t,jN(t)}function jN(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Nf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||wn;a=Nf;var c=wn;if(Nf=o,(wn=l)&&!c)for(oe=i;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?OT(i):l!==null?(l.return=o,oe=l):OT(i);for(;s!==null;)oe=s,jN(s),s=s.sibling;oe=i,Nf=a,wn=c}NT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,oe=s):NT(t)}}function NT(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wn||Lm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Dr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&_d(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}wn||e.flags&512&&G0(e)}catch(h){bt(e,e.return,h)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function DT(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function OT(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lm(4,e)}catch(l){bt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){bt(e,i,l)}}var s=e.return;try{G0(e)}catch(l){bt(e,s,l)}break;case 5:var o=e.return;try{G0(e)}catch(l){bt(e,o,l)}}}catch(l){bt(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var BB=Math.ceil,xg=Xi.ReactCurrentDispatcher,wx=Xi.ReactCurrentOwner,Tr=Xi.ReactCurrentBatchConfig,Oe=0,Xt=null,Ft=null,dn=0,ir=0,gl=ro(0),Bt=0,Ad=null,ra=0,Vm=0,xx=0,Ku=null,Wn=null,Sx=0,Ul=1/0,Ri=null,Sg=!1,X0=null,Ns=null,Df=!1,_s=null,Eg=0,Gu=0,J0=null,Cp=-1,kp=0;function Nn(){return Oe&6?At():Cp!==-1?Cp:Cp=At()}function Ds(t){return t.mode&1?Oe&2&&dn!==0?dn&-dn:IB.transition!==null?(kp===0&&(kp=xP()),kp):(t=Be,t!==0||(t=window.event,t=t===void 0?16:kP(t.type)),t):1}function Fr(t,e,n,r){if(50<Gu)throw Gu=0,J0=null,Error(K(185));Eh(t,n,r),(!(Oe&2)||t!==Xt)&&(t===Xt&&(!(Oe&2)&&(Vm|=n),Bt===4&&gs(t,dn)),Jn(t,r),n===1&&Oe===0&&!(e.mode&1)&&(Ul=At()+500,Dm&&io()))}function Jn(t,e){var n=t.callbackNode;IU(t,e);var r=ag(t,t===Xt?dn:0);if(r===0)n!==null&&zI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&zI(n),e===1)t.tag===0?EB(MT.bind(null,t)):GP(MT.bind(null,t)),bB(function(){!(Oe&6)&&io()}),n=null;else{switch(SP(r)){case 1:n=Qw;break;case 4:n=bP;break;case 16:n=og;break;case 536870912:n=wP;break;default:n=og}n=KN(n,$N.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $N(t,e){if(Cp=-1,kp=0,Oe&6)throw Error(K(327));var n=t.callbackNode;if(El()&&t.callbackNode!==n)return null;var r=ag(t,t===Xt?dn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ig(t,r);else{e=r;var i=Oe;Oe|=2;var s=BN();(Xt!==t||dn!==e)&&(Ri=null,Ul=At()+500,Ho(t,e));do try{HB();break}catch(a){UN(t,a)}while(!0);lx(),xg.current=s,Oe=i,Ft!==null?e=0:(Xt=null,dn=0,e=Bt)}if(e!==0){if(e===2&&(i=I0(t),i!==0&&(r=i,e=Z0(t,i))),e===1)throw n=Ad,Ho(t,0),gs(t,r),Jn(t,At()),n;if(e===6)gs(t,r);else{if(i=t.current.alternate,!(r&30)&&!zB(i)&&(e=Ig(t,r),e===2&&(s=I0(t),s!==0&&(r=s,e=Z0(t,s))),e===1))throw n=Ad,Ho(t,0),gs(t,r),Jn(t,At()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:Io(t,Wn,Ri);break;case 3:if(gs(t,r),(r&130023424)===r&&(e=Sx+500-At(),10<e)){if(ag(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=D0(Io.bind(null,t,Wn,Ri),e);break}Io(t,Wn,Ri);break;case 4:if(gs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Vr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=At()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BB(r/1960))-r,10<r){t.timeoutHandle=D0(Io.bind(null,t,Wn,Ri),r);break}Io(t,Wn,Ri);break;case 5:Io(t,Wn,Ri);break;default:throw Error(K(329))}}}return Jn(t,At()),t.callbackNode===n?$N.bind(null,t):null}function Z0(t,e){var n=Ku;return t.current.memoizedState.isDehydrated&&(Ho(t,e).flags|=256),t=Ig(t,e),t!==2&&(e=Wn,Wn=n,e!==null&&eb(e)),t}function eb(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function zB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ur(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gs(t,e){for(e&=~xx,e&=~Vm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vr(e),r=1<<n;t[n]=-1,e&=~r}}function MT(t){if(Oe&6)throw Error(K(327));El();var e=ag(t,0);if(!(e&1))return Jn(t,At()),null;var n=Ig(t,e);if(t.tag!==0&&n===2){var r=I0(t);r!==0&&(e=r,n=Z0(t,r))}if(n===1)throw n=Ad,Ho(t,0),gs(t,e),Jn(t,At()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Io(t,Wn,Ri),Jn(t,At()),null}function Ex(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(Ul=At()+500,Dm&&io())}}function ia(t){_s!==null&&_s.tag===0&&!(Oe&6)&&El();var e=Oe;Oe|=1;var n=Tr.transition,r=Be;try{if(Tr.transition=null,Be=1,t)return t()}finally{Be=r,Tr.transition=n,Oe=e,!(Oe&6)&&io()}}function Ix(){ir=gl.current,st(gl)}function Ho(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_B(n)),Ft!==null)for(n=Ft.return;n!==null;){var r=n;switch(sx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hg();break;case 3:jl(),st(Yn),st(In),px();break;case 5:fx(r);break;case 4:jl();break;case 13:st(gt);break;case 19:st(gt);break;case 10:cx(r.type._context);break;case 22:case 23:Ix()}n=n.return}if(Xt=t,Ft=t=Os(t.current,null),dn=ir=e,Bt=0,Ad=null,xx=Vm=ra=0,Wn=Ku=null,Vo!==null){for(e=0;e<Vo.length;e++)if(n=Vo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Vo=null}return t}function UN(t,e){do{var n=Ft;try{if(lx(),Ip.current=wg,bg){for(var r=mt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bg=!1}if(na=0,Gt=Ut=mt=null,Hu=!1,Rd=0,wx.current=null,n===null||n.return===null){Bt=1,Ad=e,Ft=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=dn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=xT(o);if(f!==null){f.flags&=-257,ST(f,o,a,s,e),f.mode&1&&wT(s,c,e),e=f,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){wT(s,c,e),Tx();break e}l=Error(K(426))}}else if(ut&&a.mode&1){var _=xT(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),ST(_,o,a,s,e),ox($l(l,a));break e}}s=l=$l(l,a),Bt!==4&&(Bt=2),Ku===null?Ku=[s]:Ku.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=EN(s,l,e);pT(s,v);break e;case 1:a=l;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ns===null||!Ns.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=IN(s,a,e);pT(s,w);break e}}s=s.return}while(s!==null)}WN(n)}catch(x){e=x,Ft===n&&n!==null&&(Ft=n=n.return);continue}break}while(!0)}function BN(){var t=xg.current;return xg.current=wg,t===null?wg:t}function Tx(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Xt===null||!(ra&268435455)&&!(Vm&268435455)||gs(Xt,dn)}function Ig(t,e){var n=Oe;Oe|=2;var r=BN();(Xt!==t||dn!==e)&&(Ri=null,Ho(t,e));do try{WB();break}catch(i){UN(t,i)}while(!0);if(lx(),Oe=n,xg.current=r,Ft!==null)throw Error(K(261));return Xt=null,dn=0,Bt}function WB(){for(;Ft!==null;)zN(Ft)}function HB(){for(;Ft!==null&&!mU();)zN(Ft)}function zN(t){var e=qN(t.alternate,t,ir);t.memoizedProps=t.pendingProps,e===null?WN(t):Ft=e,wx.current=null}function WN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FB(n,e),n!==null){n.flags&=32767,Ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bt=6,Ft=null;return}}else if(n=VB(n,e,ir),n!==null){Ft=n;return}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=t}while(e!==null);Bt===0&&(Bt=5)}function Io(t,e,n){var r=Be,i=Tr.transition;try{Tr.transition=null,Be=1,qB(t,e,n,r)}finally{Tr.transition=i,Be=r}return null}function qB(t,e,n,r){do El();while(_s!==null);if(Oe&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(TU(t,s),t===Xt&&(Ft=Xt=null,dn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Df||(Df=!0,KN(og,function(){return El(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Tr.transition,Tr.transition=null;var o=Be;Be=1;var a=Oe;Oe|=4,wx.current=null,$B(t,n),FN(n,t),hB(P0),lg=!!A0,P0=A0=null,t.current=n,UB(n),yU(),Oe=a,Be=o,Tr.transition=s}else t.current=n;if(Df&&(Df=!1,_s=t,Eg=i),s=t.pendingLanes,s===0&&(Ns=null),bU(n.stateNode),Jn(t,At()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sg)throw Sg=!1,t=X0,X0=null,t;return Eg&1&&t.tag!==0&&El(),s=t.pendingLanes,s&1?t===J0?Gu++:(Gu=0,J0=t):Gu=0,io(),null}function El(){if(_s!==null){var t=SP(Eg),e=Tr.transition,n=Be;try{if(Tr.transition=null,Be=16>t?16:t,_s===null)var r=!1;else{if(t=_s,_s=null,Eg=0,Oe&6)throw Error(K(331));var i=Oe;for(Oe|=4,oe=t.current;oe!==null;){var s=oe,o=s.child;if(oe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(oe=c;oe!==null;){var u=oe;switch(u.tag){case 0:case 11:case 15:qu(8,u,s)}var d=u.child;if(d!==null)d.return=u,oe=d;else for(;oe!==null;){u=oe;var h=u.sibling,f=u.return;if(MN(u),u===c){oe=null;break}if(h!==null){h.return=f,oe=h;break}oe=f}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,oe=o;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qu(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,oe=v;break e}oe=s.return}}var y=t.current;for(oe=y;oe!==null;){o=oe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,oe=b;else e:for(o=y;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lm(9,a)}}catch(x){bt(a,a.return,x)}if(a===o){oe=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,oe=w;break e}oe=a.return}}if(Oe=i,io(),ui&&typeof ui.onPostCommitFiberRoot=="function")try{ui.onPostCommitFiberRoot(Cm,t)}catch{}r=!0}return r}finally{Be=n,Tr.transition=e}}return!1}function LT(t,e,n){e=$l(n,e),e=EN(t,e,1),t=Ps(t,e,1),e=Nn(),t!==null&&(Eh(t,1,e),Jn(t,e))}function bt(t,e,n){if(t.tag===3)LT(t,t,n);else for(;e!==null;){if(e.tag===3){LT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ns===null||!Ns.has(r))){t=$l(n,t),t=IN(e,t,1),e=Ps(e,t,1),t=Nn(),e!==null&&(Eh(e,1,t),Jn(e,t));break}}e=e.return}}function KB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nn(),t.pingedLanes|=t.suspendedLanes&n,Xt===t&&(dn&n)===n&&(Bt===4||Bt===3&&(dn&130023424)===dn&&500>At()-Sx?Ho(t,0):xx|=n),Jn(t,e)}function HN(t,e){e===0&&(t.mode&1?(e=Sf,Sf<<=1,!(Sf&130023424)&&(Sf=4194304)):e=1);var n=Nn();t=qi(t,e),t!==null&&(Eh(t,e,n),Jn(t,n))}function GB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HN(t,n)}function QB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),HN(t,n)}var qN;qN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yn.current)qn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qn=!1,LB(t,e,n);qn=!!(t.flags&131072)}else qn=!1,ut&&e.flags&1048576&&QP(e,gg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rp(t,e),t=e.pendingProps;var i=Ll(e,In.current);Sl(e,n),i=mx(null,e,r,t,i,n);var s=yx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xn(r)?(s=!0,fg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dx(e),i.updater=Om,e.stateNode=i,i._reactInternals=e,$0(e,r,t,n),e=z0(null,e,r,!0,s,n)):(e.tag=0,ut&&s&&ix(e),Rn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=XB(r),t=Dr(r,t),i){case 0:e=B0(null,e,r,t,n);break e;case 1:e=TT(null,e,r,t,n);break e;case 11:e=ET(null,e,r,t,n);break e;case 14:e=IT(null,e,r,Dr(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dr(r,i),B0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dr(r,i),TT(t,e,r,i,n);case 3:e:{if(kN(e),t===null)throw Error(K(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ZP(t,e),vg(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=$l(Error(K(423)),e),e=RT(t,e,r,n,i);break e}else if(r!==i){i=$l(Error(K(424)),e),e=RT(t,e,r,n,i);break e}else for(ar=As(e.stateNode.containerInfo.firstChild),cr=e,ut=!0,Mr=null,n=rN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vl(),r===i){e=Ki(t,e,n);break e}Rn(t,e,r,n)}e=e.child}return e;case 5:return iN(e),t===null&&V0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,N0(r,i)?o=null:s!==null&&N0(r,s)&&(e.flags|=32),CN(t,e),Rn(t,e,o,n),e.child;case 6:return t===null&&V0(e),null;case 13:return AN(t,e,n);case 4:return hx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fl(e,null,r,n):Rn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dr(r,i),ET(t,e,r,i,n);case 7:return Rn(t,e,e.pendingProps,n),e.child;case 8:return Rn(t,e,e.pendingProps.children,n),e.child;case 12:return Rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ye(mg,r._currentValue),r._currentValue=o,s!==null)if(Ur(s.value,o)){if(s.children===i.children&&!Yn.current){e=Ki(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ji(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),F0(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),F0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Sl(e,n),i=Rr(i),r=r(i),e.flags|=1,Rn(t,e,r,n),e.child;case 14:return r=e.type,i=Dr(r,e.pendingProps),i=Dr(r.type,i),IT(t,e,r,i,n);case 15:return TN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dr(r,i),Rp(t,e),e.tag=1,Xn(r)?(t=!0,fg(e)):t=!1,Sl(e,n),tN(e,r,i),$0(e,r,i,n),z0(null,e,r,!0,t,n);case 19:return PN(t,e,n);case 22:return RN(t,e,n)}throw Error(K(156,e.tag))};function KN(t,e){return _P(t,e)}function YB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(t,e,n,r){return new YB(t,e,n,r)}function Rx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XB(t){if(typeof t=="function")return Rx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qw)return 11;if(t===Kw)return 14}return 2}function Os(t,e){var n=t.alternate;return n===null?(n=Sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ap(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Rx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case sl:return qo(n.children,i,s,e);case Hw:o=8,i|=8;break;case u0:return t=Sr(12,n,e,i|2),t.elementType=u0,t.lanes=s,t;case d0:return t=Sr(13,n,e,i),t.elementType=d0,t.lanes=s,t;case h0:return t=Sr(19,n,e,i),t.elementType=h0,t.lanes=s,t;case nP:return Fm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eP:o=10;break e;case tP:o=9;break e;case qw:o=11;break e;case Kw:o=14;break e;case ds:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Sr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function qo(t,e,n,r){return t=Sr(7,t,r,e),t.lanes=n,t}function Fm(t,e,n,r){return t=Sr(22,t,r,e),t.elementType=nP,t.lanes=n,t.stateNode={isHidden:!1},t}function t_(t,e,n){return t=Sr(6,t,null,e),t.lanes=n,t}function n_(t,e,n){return e=Sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lv(0),this.expirationTimes=Lv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cx(t,e,n,r,i,s,o,a,l){return t=new JB(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dx(s),t}function ZB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:il,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GN(t){if(!t)return js;t=t._reactInternals;e:{if(Ia(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(Xn(n))return KP(t,n,e)}return e}function QN(t,e,n,r,i,s,o,a,l){return t=Cx(n,r,!0,t,i,s,o,a,l),t.context=GN(null),n=t.current,r=Nn(),i=Ds(n),s=ji(r,i),s.callback=e??null,Ps(n,s,i),t.current.lanes=i,Eh(t,i,r),Jn(t,r),t}function jm(t,e,n,r){var i=e.current,s=Nn(),o=Ds(i);return n=GN(n),e.context===null?e.context=n:e.pendingContext=n,e=ji(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ps(i,e,o),t!==null&&(Fr(t,i,o,s),Ep(t,i,o)),o}function Tg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function VT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kx(t,e){VT(t,e),(t=t.alternate)&&VT(t,e)}function e5(){return null}var YN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ax(t){this._internalRoot=t}$m.prototype.render=Ax.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));jm(t,e,null,null)};$m.prototype.unmount=Ax.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ia(function(){jm(null,t,null,null)}),e[Hi]=null}};function $m(t){this._internalRoot=t}$m.prototype.unstable_scheduleHydration=function(t){if(t){var e=TP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ps.length&&e!==0&&e<ps[n].priority;n++);ps.splice(n,0,t),n===0&&CP(t)}};function Px(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function FT(){}function t5(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Tg(o);s.call(c)}}var o=QN(e,r,t,0,null,!1,!1,"",FT);return t._reactRootContainer=o,t[Hi]=o.current,xd(t.nodeType===8?t.parentNode:t),ia(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Tg(l);a.call(c)}}var l=Cx(t,0,!1,null,null,!1,!1,"",FT);return t._reactRootContainer=l,t[Hi]=l.current,xd(t.nodeType===8?t.parentNode:t),ia(function(){jm(e,l,n,r)}),l}function Bm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Tg(o);a.call(l)}}jm(e,o,t,i)}else o=t5(n,e,t,i,r);return Tg(o)}EP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wu(e.pendingLanes);n!==0&&(Yw(e,n|1),Jn(e,At()),!(Oe&6)&&(Ul=At()+500,io()))}break;case 13:ia(function(){var r=qi(t,1);if(r!==null){var i=Nn();Fr(r,t,1,i)}}),kx(t,1)}};Xw=function(t){if(t.tag===13){var e=qi(t,134217728);if(e!==null){var n=Nn();Fr(e,t,134217728,n)}kx(t,134217728)}};IP=function(t){if(t.tag===13){var e=Ds(t),n=qi(t,e);if(n!==null){var r=Nn();Fr(n,t,e,r)}kx(t,e)}};TP=function(){return Be};RP=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};x0=function(t,e,n){switch(e){case"input":if(g0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Nm(r);if(!i)throw Error(K(90));iP(r),g0(r,i)}}}break;case"textarea":oP(t,n);break;case"select":e=n.value,e!=null&&_l(t,!!n.multiple,e,!1)}};fP=Ex;pP=ia;var n5={usingClientEntryPoint:!1,Events:[Th,cl,Nm,dP,hP,Ex]},qc={findFiberByHostInstance:Lo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},r5={bundleType:qc.bundleType,version:qc.version,rendererPackageName:qc.rendererPackageName,rendererConfig:qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yP(t),t===null?null:t.stateNode},findFiberByHostInstance:qc.findFiberByHostInstance||e5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Of.isDisabled&&Of.supportsFiber)try{Cm=Of.inject(r5),ui=Of}catch{}}pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n5;pr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Px(e))throw Error(K(200));return ZB(t,e,null,n)};pr.createRoot=function(t,e){if(!Px(t))throw Error(K(299));var n=!1,r="",i=YN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cx(t,1,!1,null,null,n,!1,r,i),t[Hi]=e.current,xd(t.nodeType===8?t.parentNode:t),new Ax(e)};pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=yP(e),t=t===null?null:t.stateNode,t};pr.flushSync=function(t){return ia(t)};pr.hydrate=function(t,e,n){if(!Um(e))throw Error(K(200));return Bm(null,t,e,!0,n)};pr.hydrateRoot=function(t,e,n){if(!Px(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=YN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=QN(e,null,t,1,n??null,i,!1,s,o),t[Hi]=e.current,xd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $m(e)};pr.render=function(t,e,n){if(!Um(e))throw Error(K(200));return Bm(null,t,e,!1,n)};pr.unmountComponentAtNode=function(t){if(!Um(t))throw Error(K(40));return t._reactRootContainer?(ia(function(){Bm(null,null,t,!1,function(){t._reactRootContainer=null,t[Hi]=null})}),!0):!1};pr.unstable_batchedUpdates=Ex;pr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Um(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Bm(t,e,n,!1,r)};pr.version="18.2.0-next-9e3b772b8-20220608";function XN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XN)}catch(t){console.error(t)}}XN(),QA.exports=pr;var Nx=QA.exports;const i5=Vw(Nx);var jT=Nx;l0.createRoot=jT.createRoot,l0.hydrateRoot=jT.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pd(){return Pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pd.apply(this,arguments)}var bs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bs||(bs={}));const $T="popstate";function s5(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return tb("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ZN(i)}return a5(e,n,null,t)}function jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function JN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o5(){return Math.random().toString(36).substr(2,8)}function UT(t,e){return{usr:t.state,key:t.key,idx:e}}function tb(t,e,n,r){return n===void 0&&(n=null),Pd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mc(e):e,{state:n,key:e&&e.key||r||o5()})}function ZN(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function mc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function a5(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=bs.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Pd({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=bs.Pop;let _=u(),v=_==null?null:_-c;c=_,l&&l({action:a,location:m.location,delta:v})}function h(_,v){a=bs.Push;let y=tb(m.location,_,v);n&&n(y,_),c=u()+1;let b=UT(y,c),w=m.createHref(y);try{o.pushState(b,"",w)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(w)}s&&l&&l({action:a,location:m.location,delta:1})}function f(_,v){a=bs.Replace;let y=tb(m.location,_,v);n&&n(y,_),c=u();let b=UT(y,c),w=m.createHref(y);o.replaceState(b,"",w),s&&l&&l({action:a,location:m.location,delta:0})}function g(_){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof _=="string"?_:ZN(_);return y=y.replace(/ $/,"%20"),jt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let m={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($T,d),l=_,()=>{i.removeEventListener($T,d),l=null}},createHref(_){return e(i,_)},createURL:g,encodeLocation(_){let v=g(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:f,go(_){return o.go(_)}};return m}var BT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(BT||(BT={}));function l5(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?mc(e):e,i=nD(r.pathname||"/",n);if(i==null)return null;let s=eD(t);c5(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=w5(i);o=v5(s[a],l)}return o}function eD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(jt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ko([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(jt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),eD(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:m5(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of tD(s.path))i(s,o,l)}),e}function tD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=tD(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function c5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:y5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const u5=/^:[\w-]+$/,d5=3,h5=2,f5=1,p5=10,g5=-2,zT=t=>t==="*";function m5(t,e){let n=t.split("/"),r=n.length;return n.some(zT)&&(r+=g5),e&&(r+=h5),n.filter(i=>!zT(i)).reduce((i,s)=>i+(u5.test(s)?d5:s===""?f5:p5),r)}function y5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function v5(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=_5({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Ko([i,u.pathname]),pathnameBase:I5(Ko([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Ko([i,u.pathnameBase]))}return s}function _5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=b5(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[d];return f&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function b5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),JN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function w5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return JN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nD(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function x5(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?mc(t):t;return{pathname:n?n.startsWith("/")?n:S5(n,e):e,search:T5(r),hash:R5(i)}}function S5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function r_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function E5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rD(t,e){let n=E5(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function iD(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=mc(t):(i=Pd({},t),jt(!i.pathname||!i.pathname.includes("?"),r_("?","pathname","search",i)),jt(!i.pathname||!i.pathname.includes("#"),r_("#","pathname","hash",i)),jt(!i.search||!i.search.includes("#"),r_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=x5(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ko=t=>t.join("/").replace(/\/\/+/g,"/"),I5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function C5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sD=["post","put","patch","delete"];new Set(sD);const k5=["get",...sD];new Set(k5);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nd.apply(this,arguments)}const Dx=S.createContext(null),A5=S.createContext(null),Ch=S.createContext(null),zm=S.createContext(null),so=S.createContext({outlet:null,matches:[],isDataRoute:!1}),oD=S.createContext(null);function kh(){return S.useContext(zm)!=null}function Wm(){return kh()||jt(!1),S.useContext(zm).location}function aD(t){S.useContext(Ch).static||S.useLayoutEffect(t)}function P5(){let{isDataRoute:t}=S.useContext(so);return t?q5():N5()}function N5(){kh()||jt(!1);let t=S.useContext(Dx),{basename:e,future:n,navigator:r}=S.useContext(Ch),{matches:i}=S.useContext(so),{pathname:s}=Wm(),o=JSON.stringify(rD(i,n.v7_relativeSplatPath)),a=S.useRef(!1);return aD(()=>{a.current=!0}),S.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=iD(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ko([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}const D5=S.createContext(null);function O5(t){let e=S.useContext(so).outlet;return e&&S.createElement(D5.Provider,{value:t},e)}function M5(t,e){return L5(t,e)}function L5(t,e,n,r){kh()||jt(!1);let{navigator:i}=S.useContext(Ch),{matches:s}=S.useContext(so),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Wm(),u;if(e){var d;let _=typeof e=="string"?mc(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||jt(!1),u=_}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=l5(t,{pathname:f}),m=U5(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Ko([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Ko([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&m?S.createElement(zm.Provider,{value:{location:Nd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:bs.Pop}},m):m}function V5(){let t=H5(),e=C5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const F5=S.createElement(V5,null);class j5 extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(so.Provider,{value:this.props.routeContext},S.createElement(oD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $5(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(Dx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(so.Provider,{value:e},r)}function U5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||jt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,g=!1,m=null,_=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||F5,l&&(c<0&&h===0?(K5("route-fallback",!1),g=!0,_=null):c===h&&(g=!0,_=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),y=()=>{let b;return f?b=m:g?b=_:d.route.Component?b=S.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,S.createElement($5,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?S.createElement(j5,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var lD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lD||{}),Rg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rg||{});function B5(t){let e=S.useContext(Dx);return e||jt(!1),e}function z5(t){let e=S.useContext(A5);return e||jt(!1),e}function W5(t){let e=S.useContext(so);return e||jt(!1),e}function cD(t){let e=W5(),n=e.matches[e.matches.length-1];return n.route.id||jt(!1),n.route.id}function H5(){var t;let e=S.useContext(oD),n=z5(Rg.UseRouteError),r=cD(Rg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function q5(){let{router:t}=B5(lD.UseNavigateStable),e=cD(Rg.UseNavigateStable),n=S.useRef(!1);return aD(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nd({fromRouteId:e},s)))},[t,e])}const WT={};function K5(t,e,n){!e&&!WT[t]&&(WT[t]=!0)}function ml(t){let{to:e,replace:n,state:r,relative:i}=t;kh()||jt(!1);let{future:s,static:o}=S.useContext(Ch),{matches:a}=S.useContext(so),{pathname:l}=Wm(),c=P5(),u=iD(e,rD(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return S.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function nb(t){return O5(t.context)}function $t(t){jt(!1)}function G5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bs.Pop,navigator:s,static:o=!1,future:a}=t;kh()&&jt(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:s,static:o,future:Nd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=mc(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:g="default"}=r,m=S.useMemo(()=>{let _=nD(u,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:g},navigationType:i}},[l,u,d,h,f,g,i]);return m==null?null:S.createElement(Ch.Provider,{value:c},S.createElement(zm.Provider,{children:n,value:m}))}function Q5(t){let{children:e,location:n}=t;return M5(rb(e),n)}new Promise(()=>{});function rb(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,rb(r.props.children,s));return}r.type!==$t&&jt(!1),!r.props.index||!r.props.children||jt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=rb(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Y5="6";try{window.__reactRouterVersion=Y5}catch{}const X5="startTransition",HT=a0[X5];function J5(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=s5({window:i,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=S.useCallback(d=>{c&&HT?HT(()=>l(d)):l(d)},[l,c]);return S.useLayoutEffect(()=>o.listen(u),[o,u]),S.createElement(G5,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var qT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qT||(qT={}));var KT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(KT||(KT={}));var uD={};function Z5(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var e4=Z5,Te=e4;function t4(t){return!!t&&typeof t.then=="function"}var rt=t4;function n4(t,e){if(t!=null)return t;throw Te(e??"Got unexpected null or undefined")}var dt=n4;function Se(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Hm{getValue(){throw Te("BaseLoadable")}toPromise(){throw Te("BaseLoadable")}valueMaybe(){throw Te("BaseLoadable")}valueOrThrow(){throw Te(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Te("BaseLoadable")}promiseOrThrow(){throw Te(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Te("BaseLoadable")}errorOrThrow(){throw Te(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Te("BaseLoadable")}}class r4 extends Hm{constructor(e){super(),Se(this,"state","hasValue"),Se(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return rt(n)?sa(n):Bl(n)?n:Ah(n)}catch(n){return rt(n)?sa(n.next(()=>this.map(e))):qm(n)}}}class i4 extends Hm{constructor(e){super(),Se(this,"state","hasError"),Se(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class dD extends Hm{constructor(e){super(),Se(this,"state","loading"),Se(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return sa(this.contents.then(n=>{const r=e(n);if(Bl(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(rt(n))return n.then(()=>this.map(e).contents);throw n}))}}function Ah(t){return Object.freeze(new r4(t))}function qm(t){return Object.freeze(new i4(t))}function sa(t){return Object.freeze(new dD(t))}function hD(){return Object.freeze(new dD(new Promise(()=>{})))}function s4(t){return t.every(e=>e.state==="hasValue")?Ah(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?qm(dt(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):sa(Promise.all(t.map(e=>e.contents)))}function fD(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>Bl(i)?i:rt(i)?sa(i):Ah(i)),r=s4(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((s,o,a)=>({...s,[o]:i[a]}),{}))}function Bl(t){return t instanceof Hm}const o4={of:t=>rt(t)?sa(t):Bl(t)?t:Ah(t),error:t=>qm(t),loading:()=>hD(),all:fD,isLoadable:Bl};var Ta={loadableWithValue:Ah,loadableWithError:qm,loadableWithPromise:sa,loadableLoading:hD,loadableAll:fD,isLoadable:Bl,RecoilLoadable:o4},a4=Ta.loadableWithValue,l4=Ta.loadableWithError,c4=Ta.loadableWithPromise,u4=Ta.loadableLoading,d4=Ta.loadableAll,h4=Ta.isLoadable,f4=Ta.RecoilLoadable,Ph=Object.freeze({__proto__:null,loadableWithValue:a4,loadableWithError:l4,loadableWithPromise:c4,loadableLoading:u4,loadableAll:d4,isLoadable:h4,RecoilLoadable:f4});const ib={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function p4(t,e){var n,r;const i=(n=uD[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw Te(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function g4(t,e){var n;const r=(n=uD[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function m4(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(p4("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{ib.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),g4("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{ib.RECOIL_GKS_ENABLED.add(n)})}))}m4();var yc=ib;function Km(t){return yc.RECOIL_GKS_ENABLED.has(t)}Km.setPass=t=>{yc.RECOIL_GKS_ENABLED.add(t)};Km.setFail=t=>{yc.RECOIL_GKS_ENABLED.delete(t)};Km.clear=()=>{yc.RECOIL_GKS_ENABLED.clear()};var Ke=Km;function y4(t,e,{error:n}={}){return null}var v4=y4,Ox=v4,i_,s_,o_;const _4=(i_=Xe.createMutableSource)!==null&&i_!==void 0?i_:Xe.unstable_createMutableSource,pD=(s_=Xe.useMutableSource)!==null&&s_!==void 0?s_:Xe.unstable_useMutableSource,gD=(o_=Xe.useSyncExternalStore)!==null&&o_!==void 0?o_:Xe.unstable_useSyncExternalStore;function b4(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function w4(){return Ke("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Ke("recoil_sync_external_store")&&gD!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Ke("recoil_mutable_source")&&pD!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Ke("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Ke("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function x4(){return!1}var Nh={createMutableSource:_4,useMutableSource:pD,useSyncExternalStore:gD,currentRendererSupportsUseSyncExternalStore:b4,reactMode:w4,isFastRefreshEnabled:x4};class Mx{constructor(e){Se(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class mD extends Mx{}class yD extends Mx{}function S4(t){return t instanceof mD||t instanceof yD}var Gm={AbstractRecoilValue:Mx,RecoilState:mD,RecoilValueReadOnly:yD,isRecoilValue:S4},E4=Gm.AbstractRecoilValue,I4=Gm.RecoilState,T4=Gm.RecoilValueReadOnly,R4=Gm.isRecoilValue,zl=Object.freeze({__proto__:null,AbstractRecoilValue:E4,RecoilState:I4,RecoilValueReadOnly:T4,isRecoilValue:R4});function C4(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Qm=C4;class vD{}const k4=new vD,oa=new Map,Lx=new Map;function A4(t){return Qm(t,e=>dt(Lx.get(e)))}function P4(t){if(oa.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function N4(t){yc.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&P4(t.key),oa.set(t.key,t);const e=t.set==null?new zl.RecoilValueReadOnly(t.key):new zl.RecoilState(t.key);return Lx.set(t.key,e),e}class _D extends Error{}function D4(t){const e=oa.get(t);if(e==null)throw new _D(`Missing definition for RecoilValue: "${t}""`);return e}function O4(t){return oa.get(t)}const Cg=new Map;function M4(t){var e;if(!Ke("recoil_memory_managament_2020"))return;const n=oa.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;oa.delete(t),(r=bD(t))===null||r===void 0||r(),Cg.delete(t)}}function L4(t,e){Ke("recoil_memory_managament_2020")&&(e===void 0?Cg.delete(t):Cg.set(t,e))}function bD(t){return Cg.get(t)}var tr={nodes:oa,recoilValues:Lx,registerNode:N4,getNode:D4,getNodeMaybe:O4,deleteNodeConfigIfPossible:M4,setConfigDeletionHandler:L4,getConfigDeletionHandler:bD,recoilValuesForKeys:A4,NodeMissingError:_D,DefaultValue:vD,DEFAULT_VALUE:k4};function V4(t,e){e()}var F4={enqueueExecution:V4};function j4(t,e){return e={exports:{}},t(e,e.exports),e.exports}var $4=j4(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},n={},r=5,i=Math.pow(2,r),s=i-1,o=i/2,a=i/4,l={},c=function(P){return function(){return P}},u=n.hash=function(O){var P=typeof O>"u"?"undefined":e(O);if(P==="number")return O;P!=="string"&&(O+="");for(var q=0,ne=0,re=O.length;ne<re;++ne){var ae=O.charCodeAt(ne);q=(q<<5)-q+ae|0}return q},d=function(P){return P-=P>>1&1431655765,P=(P&858993459)+(P>>2&858993459),P=P+(P>>4)&252645135,P+=P>>8,P+=P>>16,P&127},h=function(P,q){return q>>>P&s},f=function(P){return 1<<P},g=function(P,q){return d(P&q-1)},m=function(P,q,ne,re){var ae=re;if(!P){var be=re.length;ae=new Array(be);for(var ye=0;ye<be;++ye)ae[ye]=re[ye]}return ae[q]=ne,ae},_=function(P,q,ne){var re=ne.length-1,ae=0,be=0,ye=ne;if(P)ae=be=q;else for(ye=new Array(re);ae<q;)ye[be++]=ne[ae++];for(++ae;ae<=re;)ye[be++]=ne[ae++];return P&&(ye.length=re),ye},v=function(P,q,ne,re){var ae=re.length;if(P){for(var be=ae;be>=q;)re[be--]=re[be];return re[q]=ne,re}for(var ye=0,ve=0,Re=new Array(ae+1);ye<q;)Re[ve++]=re[ye++];for(Re[q]=ne;ye<ae;)Re[++ve]=re[ye++];return Re},y=1,b=2,w=3,x=4,I={__hamt_isEmpty:!0},T=function(P){return P===I||P&&P.__hamt_isEmpty},E=function(P,q,ne,re){return{type:y,edit:P,hash:q,key:ne,value:re,_modify:M}},A=function(P,q,ne){return{type:b,edit:P,hash:q,children:ne,_modify:U}},D=function(P,q,ne){return{type:w,edit:P,mask:q,children:ne,_modify:F}},V=function(P,q,ne){return{type:x,edit:P,size:q,children:ne,_modify:ie}},H=function(P){return P===I||P.type===y||P.type===b},X=function(P,q,ne,re,ae){for(var be=[],ye=re,ve=0,Re=0;ye;++Re)ye&1&&(be[Re]=ae[ve++]),ye>>>=1;return be[q]=ne,V(P,ve+1,be)},Y=function(P,q,ne,re){for(var ae=new Array(q-1),be=0,ye=0,ve=0,Re=re.length;ve<Re;++ve)if(ve!==ne){var ct=re[ve];ct&&!T(ct)&&(ae[be++]=ct,ye|=1<<ve)}return D(P,ye,ae)},R=function O(P,q,ne,re,ae,be){if(ne===ae)return A(P,ne,[be,re]);var ye=h(q,ne),ve=h(q,ae);return D(P,f(ye)|f(ve),ye===ve?[O(P,q+r,ne,re,ae,be)]:ye<ve?[re,be]:[be,re])},C=function(P,q,ne,re,ae,be,ye,ve){for(var Re=ae.length,ct=0;ct<Re;++ct){var $n=ae[ct];if(ne(ye,$n.key)){var qt=$n.value,vr=be(qt);return vr===qt?ae:vr===l?(--ve.value,_(P,ct,ae)):m(P,ct,E(q,re,ye,vr),ae)}}var Ar=be();return Ar===l?ae:(++ve.value,m(P,Re,E(q,re,ye,Ar),ae))},j=function(P,q){return P===q.edit},M=function(P,q,ne,re,ae,be,ye){if(q(be,this.key)){var ve=re(this.value);return ve===this.value?this:ve===l?(--ye.value,I):j(P,this)?(this.value=ve,this):E(P,ae,be,ve)}var Re=re();return Re===l?this:(++ye.value,R(P,ne,this.hash,this,ae,E(P,ae,be,Re)))},U=function(P,q,ne,re,ae,be,ye){if(ae===this.hash){var ve=j(P,this),Re=C(ve,P,q,this.hash,this.children,re,be,ye);return Re===this.children?this:Re.length>1?A(P,this.hash,Re):Re[0]}var ct=re();return ct===l?this:(++ye.value,R(P,ne,this.hash,this,ae,E(P,ae,be,ct)))},F=function(P,q,ne,re,ae,be,ye){var ve=this.mask,Re=this.children,ct=h(ne,ae),$n=f(ct),qt=g(ve,$n),vr=ve&$n,Ar=vr?Re[qt]:I,ja=Ar._modify(P,q,ne+r,re,ae,be,ye);if(Ar===ja)return this;var yf=j(P,this),Vc=ve,Fc=void 0;if(vr&&T(ja)){if(Vc&=~$n,!Vc)return I;if(Re.length<=2&&H(Re[qt^1]))return Re[qt^1];Fc=_(yf,qt,Re)}else if(!vr&&!T(ja)){if(Re.length>=o)return X(P,ct,ja,ve,Re);Vc|=$n,Fc=v(yf,qt,ja,Re)}else Fc=m(yf,qt,ja,Re);return yf?(this.mask=Vc,this.children=Fc,this):D(P,Vc,Fc)},ie=function(P,q,ne,re,ae,be,ye){var ve=this.size,Re=this.children,ct=h(ne,ae),$n=Re[ct],qt=($n||I)._modify(P,q,ne+r,re,ae,be,ye);if($n===qt)return this;var vr=j(P,this),Ar=void 0;if(T($n)&&!T(qt))++ve,Ar=m(vr,ct,qt,Re);else if(!T($n)&&T(qt)){if(--ve,ve<=a)return Y(P,ve,ct,Re);Ar=m(vr,ct,I,Re)}else Ar=m(vr,ct,qt,Re);return vr?(this.size=ve,this.children=Ar,this):V(P,ve,Ar)};I._modify=function(O,P,q,ne,re,ae,be){var ye=ne();return ye===l?I:(++be.value,E(O,re,ae,ye))};function k(O,P,q,ne,re){this._editable=O,this._edit=P,this._config=q,this._root=ne,this._size=re}k.prototype.setTree=function(O,P){return this._editable?(this._root=O,this._size=P,this):O===this._root?this:new k(this._editable,this._edit,this._config,O,P)};var $=n.tryGetHash=function(O,P,q,ne){for(var re=ne._root,ae=0,be=ne._config.keyEq;;)switch(re.type){case y:return be(q,re.key)?re.value:O;case b:{if(P===re.hash)for(var ye=re.children,ve=0,Re=ye.length;ve<Re;++ve){var ct=ye[ve];if(be(q,ct.key))return ct.value}return O}case w:{var $n=h(ae,P),qt=f($n);if(re.mask&qt){re=re.children[g(re.mask,qt)],ae+=r;break}return O}case x:{if(re=re.children[h(ae,P)],re){ae+=r;break}return O}default:return O}};k.prototype.tryGetHash=function(O,P,q){return $(O,P,q,this)};var B=n.tryGet=function(O,P,q){return $(O,q._config.hash(P),P,q)};k.prototype.tryGet=function(O,P){return B(O,P,this)};var le=n.getHash=function(O,P,q){return $(void 0,O,P,q)};k.prototype.getHash=function(O,P){return le(O,P,this)},n.get=function(O,P){return $(void 0,P._config.hash(O),O,P)},k.prototype.get=function(O,P){return B(P,O,this)};var Q=n.has=function(O,P,q){return $(l,O,P,q)!==l};k.prototype.hasHash=function(O,P){return Q(O,P,this)};var ge=n.has=function(O,P){return Q(P._config.hash(O),O,P)};k.prototype.has=function(O){return ge(O,this)};var _e=function(P,q){return P===q};n.make=function(O){return new k(0,0,{keyEq:O&&O.keyEq||_e,hash:O&&O.hash||u},I,0)},n.empty=n.make();var de=n.isEmpty=function(O){return O&&!!T(O._root)};k.prototype.isEmpty=function(){return de(this)};var Ge=n.modifyHash=function(O,P,q,ne){var re={value:ne._size},ae=ne._root._modify(ne._editable?ne._edit:NaN,ne._config.keyEq,0,O,P,q,re);return ne.setTree(ae,re.value)};k.prototype.modifyHash=function(O,P,q){return Ge(q,O,P,this)};var _t=n.modify=function(O,P,q){return Ge(O,q._config.hash(P),P,q)};k.prototype.modify=function(O,P){return _t(P,O,this)};var Ve=n.setHash=function(O,P,q,ne){return Ge(c(q),O,P,ne)};k.prototype.setHash=function(O,P,q){return Ve(O,P,q,this)};var Ze=n.set=function(O,P,q){return Ve(q._config.hash(O),O,P,q)};k.prototype.set=function(O,P){return Ze(O,P,this)};var jn=c(l),Si=n.removeHash=function(O,P,q){return Ge(jn,O,P,q)};k.prototype.removeHash=k.prototype.deleteHash=function(O,P){return Si(O,P,this)};var yr=n.remove=function(O,P){return Si(P._config.hash(O),O,P)};k.prototype.remove=k.prototype.delete=function(O){return yr(O,this)};var nr=n.beginMutation=function(O){return new k(O._editable+1,O._edit+1,O._config,O._root,O._size)};k.prototype.beginMutation=function(){return nr(this)};var RI=n.endMutation=function(O){return O._editable=O._editable&&O._editable-1,O};k.prototype.endMutation=function(){return RI(this)};var x$=n.mutate=function(O,P){var q=nr(P);return O(q),RI(q)};k.prototype.mutate=function(O){return x$(O,this)};var Cv=function(P){return P&&CI(P[0],P[1],P[2],P[3],P[4])},CI=function(P,q,ne,re,ae){for(;ne<P;){var be=q[ne++];if(be&&!T(be))return kI(be,re,[P,q,ne,re,ae])}return Cv(ae)},kI=function(P,q,ne){switch(P.type){case y:return{value:q(P),rest:ne};case b:case x:case w:var re=P.children;return CI(re.length,re,0,q,ne);default:return Cv(ne)}},S$={done:!0};function kv(O){this.v=O}kv.prototype.next=function(){if(!this.v)return S$;var O=this.v;return this.v=Cv(O.rest),O},kv.prototype[Symbol.iterator]=function(){return this};var Av=function(P,q){return new kv(kI(P._root,q))},E$=function(P){return[P.key,P.value]},I$=n.entries=function(O){return Av(O,E$)};k.prototype.entries=k.prototype[Symbol.iterator]=function(){return I$(this)};var T$=function(P){return P.key},R$=n.keys=function(O){return Av(O,T$)};k.prototype.keys=function(){return R$(this)};var C$=function(P){return P.value},k$=n.values=k.prototype.values=function(O){return Av(O,C$)};k.prototype.values=function(){return k$(this)};var AI=n.fold=function(O,P,q){var ne=q._root;if(ne.type===y)return O(P,ne.value,ne.key);for(var re=[ne.children],ae=void 0;ae=re.pop();)for(var be=0,ye=ae.length;be<ye;){var ve=ae[be++];ve&&ve.type&&(ve.type===y?P=O(P,ve.value,ve.key):re.push(ve.children))}return P};k.prototype.fold=function(O,P){return AI(O,P,this)};var A$=n.forEach=function(O,P){return AI(function(q,ne,re){return O(ne,re,P)},null,P)};k.prototype.forEach=function(O){return A$(O,this)};var P$=n.count=function(O){return O._size};k.prototype.count=function(){return P$(this)},Object.defineProperty(k.prototype,"size",{get:k.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class U4{constructor(e){Se(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return Fx(this)}toMap(){return new Map(this._map)}}class Vx{constructor(e){if(Se(this,"_hamt",$4.empty.beginMutation()),e instanceof Vx){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return Fx(this)}toMap(){return new Map(this._hamt)}}function Fx(t){return Ke("recoil_hamt_2020")?new Vx(t):new U4(t)}var B4={persistentMap:Fx},z4=B4.persistentMap,W4=Object.freeze({__proto__:null,persistentMap:z4});function H4(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var Qu=H4;function q4(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var kg=q4;function K4(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function G4(t){return{nodeDeps:kg(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:kg(t.nodeToNodeSubscriptions,e=>new Set(e))}}function a_(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;i.set(t,e);const a=o==null?e:Qu(e,o);for(const l of a)s.has(l)||s.set(l,new Set),dt(s.get(l)).add(t);if(o){const l=Qu(o,e);for(const c of l){if(!s.has(c))return;const u=dt(s.get(c));u.delete(t),u.size===0&&s.delete(c)}}}function Q4(t,e,n,r){var i,s,o,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((s=l.previousTree)===null||s===void 0||s.version);const c=n.getGraph(r);if(a_(t,e,c),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const d=n.getGraph(l.currentTree.version);a_(t,e,d,c)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var u;const d=(u=l.nextTree)===null||u===void 0?void 0:u.version;if(d!==void 0){const h=n.getGraph(d);a_(t,e,h,c)}}}var Dh={cloneGraph:G4,graph:K4,saveDepsToStore:Q4};let Y4=0;const X4=()=>Y4++;let J4=0;const Z4=()=>J4++;let ez=0;const tz=()=>ez++;var Ym={getNextTreeStateVersion:X4,getNextStoreID:Z4,getNextComponentID:tz};const{persistentMap:GT}=W4,{graph:nz}=Dh,{getNextTreeStateVersion:wD}=Ym;function xD(){const t=wD();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:GT(),nonvalidatedAtoms:GT()}}function rz(){const t=xD();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,nz()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var SD={makeEmptyTreeState:xD,makeEmptyStoreState:rz,getNextTreeStateVersion:wD};class ED{}function iz(){return new ED}var Xm={RetentionZone:ED,retentionZone:iz};function sz(t,e){const n=new Set(t);return n.add(e),n}function oz(t,e){const n=new Set(t);return n.delete(e),n}function az(t,e,n){const r=new Map(t);return r.set(e,n),r}function lz(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function cz(t,e){const n=new Map(t);return n.delete(e),n}function uz(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var ID={setByAddingToSet:sz,setByDeletingFromSet:oz,mapBySettingInMap:az,mapByUpdatingInMap:lz,mapByDeletingFromMap:cz,mapByDeletingMultipleFromMap:uz};function*dz(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var jx=dz;function hz(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var TD=hz;const{getNode:Oh,getNodeMaybe:fz,recoilValuesForKeys:QT}=tr,{RetentionZone:YT}=Xm,{setByAddingToSet:pz}=ID,gz=Object.freeze(new Set);class mz extends Error{}function yz(t,e,n){if(!Ke("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(s){let o=r.get(s);o||r.set(s,o=new Set),o.add(e)}if(n instanceof YT)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!Ke("recoil_memory_managament_2020"))return;const{retention:s}=t.getState();function o(a){const l=s.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&s.nodesRetainedByZone.delete(a)}if(n instanceof YT)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function $x(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const s=Oh(n),o=yz(t,n,s.retainedBy),a=s.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),o()})}function vz(t,e,n){$x(t,t.getState().currentTree,e,n)}function _z(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function bz(t,e,n){return $x(t,e,n,"get"),Oh(n).get(t,e)}function RD(t,e,n){return Oh(n).peek(t,e)}function wz(t,e,n){var r;const i=fz(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:pz(t.dirtyAtoms,e)}}function xz(t,e,n,r){const i=Oh(n);if(i.set==null)throw new mz(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return $x(t,e,n,"set"),s(t,e,r)}function Sz(t,e,n){const r=t.getState(),i=t.getGraph(e.version),s=Oh(n).nodeType;return TD({type:s},{loadable:()=>RD(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>s==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return QT((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:QT(jx(CD(t,e,new Set([n])),l=>l!==n)),components:Qm((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function CD(t,e,n){const r=new Set,i=Array.from(n),s=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var o;r.add(a);const l=(o=s.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:gz;for(const c of l)r.has(c)||i.push(c)}return r}var oo={getNodeLoadable:bz,peekNodeLoadable:RD,setNodeValue:xz,initializeNode:vz,cleanUpNode:_z,setUnvalidatedAtomValue_DEPRECATED:wz,peekNodeInfo:Sz,getDownstreamNodes:CD};let kD=null;function Ez(t){kD=t}function Iz(){var t;(t=kD)===null||t===void 0||t()}var AD={setInvalidateMemoizedSnapshot:Ez,invalidateMemoizedSnapshot:Iz};const{getDownstreamNodes:Tz,getNodeLoadable:PD,setNodeValue:Rz}=oo,{getNextComponentID:Cz}=Ym,{getNode:kz,getNodeMaybe:ND}=tr,{DefaultValue:Ux}=tr,{reactMode:Az}=Nh,{AbstractRecoilValue:Pz,RecoilState:Nz,RecoilValueReadOnly:Dz,isRecoilValue:Oz}=zl,{invalidateMemoizedSnapshot:Mz}=AD;function Lz(t,{key:e},n=t.getState().currentTree){var r,i;const s=t.getState();n.version===s.currentTree.version||n.version===((r=s.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=s.previousTree)===null||i===void 0||i.version);const o=PD(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function Vz(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof Ux?n.delete(i):n.set(i,r)}),n}function Fz(t,e,{key:n},r){if(typeof r=="function"){const i=PD(t,e,n);if(i.state==="loading"){const s=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Te(s)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function jz(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:s}=n,o=Fz(t,e,i,s),a=Rz(t,e,i.key,o);for(const[l,c]of a.entries())sb(e,l,c)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:s}=n;sb(e,i,s)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:s}=n,o=ND(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,s),e.dirtyAtoms.add(i)}else Ox(`Unknown action ${n.type}`)}function sb(t,e,n){n.state==="hasValue"&&n.contents instanceof Ux?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function DD(t,e){t.replaceState(n=>{const r=OD(n);for(const i of e)jz(t,r,i);return MD(t,r),Mz(),r})}function Jm(t,e){if(Yu.length){const n=Yu[Yu.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else DD(t,[e])}const Yu=[];function $z(){const t=new Map;return Yu.push(t),()=>{for(const[e,n]of t)DD(e,n);Yu.pop()}}function OD(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function MD(t,e){const n=Tz(t,e,e.dirtyAtoms);for(const s of n){var r,i;(r=ND(s))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function LD(t,e,n){Jm(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function Uz(t,e,n){if(n instanceof Ux)return LD(t,e,n);Jm(t,{type:"setLoadable",recoilValue:e,loadable:n})}function Bz(t,e){Jm(t,{type:"markModified",recoilValue:e})}function zz(t,e,n){Jm(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function Wz(t,{key:e},n,r=null){const i=Cz(),s=t.getState();s.nodeToComponentSubscriptions.has(e)||s.nodeToComponentSubscriptions.set(e,new Map),dt(s.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const o=Az();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function Hz(t,e){var n;const{currentTree:r}=t.getState(),i=kz(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var bi={RecoilValueReadOnly:Dz,AbstractRecoilValue:Pz,RecoilState:Nz,getRecoilValueAsLoadable:Lz,setRecoilValue:LD,setRecoilValueLoadable:Uz,markRecoilValueModified:Bz,setUnvalidatedRecoilValue:zz,subscribeToRecoilValue:Wz,isRecoilValue:Oz,applyAtomValueWrites:Vz,batchStart:$z,writeLoadableToTreeState:sb,invalidateDownstreams:MD,copyTreeState:OD,refreshRecoilValue:Hz};function qz(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const s=i.value;if(e.call(n,s[1],s[0],t))return!0;i=r.next()}return!1}var Kz=qz;const{cleanUpNode:Gz}=oo,{deleteNodeConfigIfPossible:Qz,getNode:VD}=tr,{RetentionZone:FD}=Xm,Yz=12e4,jD=new Set;function $D(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const o of e)if(o instanceof FD)for(const a of e3(n,o))i.add(a);else i.add(o);const s=Xz(t,i);for(const o of s)Zz(t,r,o)}function Xz(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),s=new Set,o=new Set;return a(e),s;function a(l){const c=new Set,u=Jz(t,r,l,s,o);for(const g of u){var d;if(VD(g).retainedBy==="recoilRoot"){o.add(g);continue}if(((d=n.retention.referenceCounts.get(g))!==null&&d!==void 0?d:0)>0){o.add(g);continue}if(UD(g).some(_=>n.retention.referenceCounts.get(_))){o.add(g);continue}const m=i.nodeToNodeSubscriptions.get(g);if(m&&Kz(m,_=>o.has(_))){o.add(g);continue}s.add(g),c.add(g)}const h=new Set;for(const g of c)for(const m of(f=i.nodeDeps.get(g))!==null&&f!==void 0?f:jD){var f;s.has(m)||h.add(m)}h.size&&a(h)}}function Jz(t,e,n,r,i){const s=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(dt(n.values().next().value));return o;function l(c){if(r.has(c)||i.has(c)){n.delete(c);return}if(a.has(c))return;const u=s.nodeToNodeSubscriptions.get(c);if(u)for(const d of u)l(d);a.add(c),n.delete(c),o.push(c)}}function Zz(t,e,n){if(!Ke("recoil_memory_managament_2020"))return;Gz(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=UD(n);for(const l of i){var s;(s=r.retention.nodesRetainedByZone.get(l))===null||s===void 0||s.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const c of l){var a;(a=o.nodeToNodeSubscriptions.get(c))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}Qz(n)}function e3(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:jD}function UD(t){const e=VD(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof FD?[e]:e}function t3(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):$D(t,new Set([e]))}function n3(t,e,n){var r;if(!Ke("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,s=((r=i.get(e))!==null&&r!==void 0?r:0)+n;s===0?BD(t,e):i.set(e,s)}function BD(t,e){if(!Ke("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),t3(t,e)}function r3(t){if(!Ke("recoil_memory_managament_2020"))return;const e=t.getState();$D(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function i3(t){return t===void 0?"recoilRoot":t}var Ra={SUSPENSE_TIMEOUT_MS:Yz,updateRetainCount:n3,updateRetainCountToZero:BD,releaseScheduledRetainablesNow:r3,retainedByOptionWithDefault:i3};const{unstable_batchedUpdates:s3}=i5;var o3={unstable_batchedUpdates:s3};const{unstable_batchedUpdates:a3}=o3;var l3={unstable_batchedUpdates:a3};const{batchStart:c3}=bi,{unstable_batchedUpdates:u3}=l3;let Bx=u3||(t=>t());const d3=t=>{Bx=t},h3=()=>Bx,f3=t=>{Bx(()=>{let e=()=>{};try{e=c3(),t()}finally{e()}})};var Zm={getBatcher:h3,setBatcher:d3,batchUpdates:f3};function*p3(t){for(const e of t)for(const n of e)yield n}var zD=p3;const WD=typeof Window>"u"||typeof window>"u",g3=t=>!WD&&(t===window||t instanceof Window),m3=typeof navigator<"u"&&navigator.product==="ReactNative";var ey={isSSR:WD,isReactNative:m3,isWindow:g3};function y3(t,e){let n;return(...r)=>{n||(n={});const i=e(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=t(...r)),n[i]}}function v3(t,e){let n,r;return(...i)=>{const s=e(...i);return n===s||(n=s,r=t(...i)),r}}function _3(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var b3={memoizeWithArgsHash:y3,memoizeOneWithArgsHash:v3,memoizeOneWithArgsHashAndInvalidation:_3};const{batchUpdates:ob}=Zm,{initializeNode:w3,peekNodeInfo:x3}=oo,{graph:S3}=Dh,{getNextStoreID:E3}=Ym,{DEFAULT_VALUE:I3,recoilValues:XT,recoilValuesForKeys:JT}=tr,{AbstractRecoilValue:T3,getRecoilValueAsLoadable:R3,setRecoilValue:ZT,setUnvalidatedRecoilValue:C3}=bi,{updateRetainCount:Pp}=Ra,{setInvalidateMemoizedSnapshot:k3}=AD,{getNextTreeStateVersion:A3,makeEmptyStoreState:P3}=SD,{isSSR:N3}=ey,{memoizeOneWithArgsHashAndInvalidation:D3}=b3;class ty{constructor(e,n){Se(this,"_store",void 0),Se(this,"_refCount",1),Se(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),R3(this._store,r))),Se(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Se(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return JT(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,s=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?XT.values():r.isInitialized===!0?JT(zD([i,s])):jx(XT.values(),({key:o})=>!i.has(o)&&!s.has(o))}),Se(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),x3(this._store,this._store.getState().currentTree,r))),Se(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new ab(this,ob);return r(i),i}),Se(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new ab(this,ob);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:E3(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return dt(i.get(r));const s=S3();return i.set(r,s),s},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Te("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)w3(this._store,r,"get"),Pp(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){N3||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Ke("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Ke("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function HD(t,e,n=!1){const r=t.getState(),i=n?A3():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Qm(r.nodeCleanupFunctions.entries(),([s])=>[s,()=>{}]))}}function O3(t){const e=new ty(P3());return t!=null?e.map(t):e}const[e1,qD]=D3((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:dt(r.previousTree);return new ty(HD(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});k3(qD);function M3(t,e="latest"){const n=e1(t,e);return n.isRetained()?n:(qD(),e1(t,e))}class ab extends ty{constructor(e,n){super(HD(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),Se(this,"_batch",void 0),Se(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Pp(s,r.key,1),ZT(this.getStore_INTERNAL(),r,i)})}),Se(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Pp(i,r.key,1),ZT(this.getStore_INTERNAL(),r,I3)})}),Se(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();ob(()=>{for(const[s,o]of r.entries())Pp(i,s,1),C3(i,new T3(s),o)})}),this._batch=n}}var ny={Snapshot:ty,MutableSnapshot:ab,freshSnapshot:O3,cloneSnapshot:M3},L3=ny.Snapshot,V3=ny.MutableSnapshot,F3=ny.freshSnapshot,j3=ny.cloneSnapshot,ry=Object.freeze({__proto__:null,Snapshot:L3,MutableSnapshot:V3,freshSnapshot:F3,cloneSnapshot:j3});function $3(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var U3=$3;const{useRef:B3}=Xe;function z3(t){const e=B3(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var t1=z3;const{getNextTreeStateVersion:W3,makeEmptyStoreState:KD}=SD,{cleanUpNode:H3,getDownstreamNodes:q3,initializeNode:K3,setNodeValue:G3,setUnvalidatedAtomValue_DEPRECATED:Q3}=oo,{graph:Y3}=Dh,{cloneGraph:X3}=Dh,{getNextStoreID:GD}=Ym,{createMutableSource:l_,reactMode:QD}=Nh,{applyAtomValueWrites:J3}=bi,{releaseScheduledRetainablesNow:YD}=Ra,{freshSnapshot:Z3}=ry,{useCallback:e9,useContext:XD,useEffect:lb,useMemo:t9,useRef:n9,useState:r9}=Xe;function Kc(){throw Te("This component must be used inside a <RecoilRoot> component.")}const JD=Object.freeze({storeID:GD(),getState:Kc,replaceState:Kc,getGraph:Kc,subscribeToTransactions:Kc,addTransactionMetadata:Kc});let cb=!1;function n1(t){if(cb)throw Te("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Ke("recoil_memory_managament_2020")&&Ke("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&YD(t);const n=e.currentTree.version,r=W3();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,X3(dt(e.graphsByVersion.get(n))))}}const ZD=Xe.createContext({current:JD}),iy=()=>XD(ZD),eO=Xe.createContext(null);function i9(){return XD(eO)}function zx(t,e,n){const r=q3(t,n,n.dirtyAtoms);for(const i of r){const s=e.nodeToComponentSubscriptions.get(i);if(s)for(const[o,[a,l]]of s)l(n)}}function tO(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,s]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[o,a]of s)a(t);for(const[i,s]of e.transactionSubscriptions)s(t);(!QD().early||e.suspendedComponentResolvers.size>0)&&(zx(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function s9(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,tO(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):Ox("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Ke("recoil_memory_managament_2020")&&n==null&&YD(t)}finally{e.commitDepth--}}function o9({setNotifyBatcherOfChange:t}){const e=iy(),[,n]=r9([]);return t(()=>n({})),lb(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),lb(()=>{F4.enqueueExecution("Batcher",()=>{s9(e.current)})}),null}function a9(t,e){const n=KD();return e({set:(r,i)=>{const s=n.currentTree,o=G3(t,s,r.key,i),a=new Set(o.keys()),l=s.nonvalidatedAtoms.clone();for(const c of a)l.delete(c);n.currentTree={...s,dirtyAtoms:U3(s.dirtyAtoms,a),atomValues:J3(s.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,s)=>{n.currentTree=Q3(n.currentTree,s,i)})}}),n}function l9(t){const e=Z3(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let r1=0;function c9({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const s=f=>{const g=i.current.graphsByVersion;if(g.has(f))return dt(g.get(f));const m=Y3();return g.set(f,m),m},o=(f,g)=>{if(g==null){const{transactionSubscriptions:m}=d.current.getState(),_=r1++;return m.set(_,f),{release:()=>{m.delete(_)}}}else{const{nodeTransactionSubscriptions:m}=d.current.getState();m.has(g)||m.set(g,new Map);const _=r1++;return dt(m.get(g)).set(_,f),{release:()=>{const v=m.get(g);v&&(v.delete(_),v.size===0&&m.delete(g))}}}},a=f=>{n1(d.current);for(const g of Object.keys(f))dt(d.current.getState().nextTree).transactionMetadata[g]=f[g]},l=f=>{n1(d.current);const g=dt(i.current.nextTree);let m;try{cb=!0,m=f(g)}finally{cb=!1}m!==g&&(i.current.nextTree=m,QD().early&&zx(d.current,i.current,m),dt(c.current)())},c=n9(null),u=e9(f=>{c.current=f},[c]),d=t1(()=>n??{storeID:GD(),getState:()=>i.current,replaceState:l,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(d.current=n),i=t1(()=>t!=null?a9(d.current,t):e!=null?l9(e):KD());const h=t9(()=>l_==null?void 0:l_(i,()=>i.current.currentTree.version),[i]);return lb(()=>{const f=d.current;for(const g of new Set(f.getState().knownAtoms))K3(f,g,"get");return()=>{for(const g of f.getState().knownAtoms)H3(f,g)}},[d]),Xe.createElement(ZD.Provider,{value:d},Xe.createElement(eO.Provider,{value:h},Xe.createElement(o9,{setNotifyBatcherOfChange:u}),r))}function u9(t){const{override:e,...n}=t,r=iy();return e===!1&&r.current!==JD?t.children:Xe.createElement(c9,n)}function d9(){return iy().current.storeID}var Ji={RecoilRoot:u9,useStoreRef:iy,useRecoilMutableSource:i9,useRecoilStoreID:d9,notifyComponents_FOR_TESTING:zx,sendEndOfBatchNotifications_FOR_TESTING:tO};function h9(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var f9=h9;const{useEffect:p9,useRef:g9}=Xe;function m9(t){const e=g9();return p9(()=>{e.current=t}),e.current}var nO=m9;const{useStoreRef:y9}=Ji,{SUSPENSE_TIMEOUT_MS:v9}=Ra,{updateRetainCount:Gc}=Ra,{RetentionZone:_9}=Xm,{useEffect:b9,useRef:w9}=Xe,{isSSR:i1}=ey;function x9(t){if(Ke("recoil_memory_managament_2020"))return S9(t)}function S9(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof _9?o:o.key),r=y9();b9(()=>{if(!Ke("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!i1)window.clearTimeout(i.current),i.current=null;else for(const a of n)Gc(o,a,1);return()=>{for(const a of n)Gc(o,a,-1)}},[r,...n]);const i=w9(),s=nO(n);if(!i1&&(s===void 0||!f9(s,n))){const o=r.current;for(const a of n)Gc(o,a,1);if(s)for(const a of s)Gc(o,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)Gc(o,a,-1)},v9)}}var Wx=x9;function E9(){return"<component name not available>"}var Mh=E9;const{batchUpdates:I9}=Zm,{DEFAULT_VALUE:rO}=tr,{currentRendererSupportsUseSyncExternalStore:T9,reactMode:vc,useMutableSource:R9,useSyncExternalStore:C9}=Nh,{useRecoilMutableSource:k9,useStoreRef:wi}=Ji,{AbstractRecoilValue:ub,getRecoilValueAsLoadable:Lh,setRecoilValue:Ag,setUnvalidatedRecoilValue:A9,subscribeToRecoilValue:Wl}=bi,{useCallback:Zn,useEffect:Hl,useMemo:iO,useRef:Xu,useState:Hx}=Xe,{setByAddingToSet:P9}=ID,{isSSR:N9}=ey;function qx(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const s=n.current.getState().suspendedComponentResolvers;s.add(i),N9&&rt(t.contents)&&t.contents.finally(()=>{s.delete(i)})}):t.state==="hasError"?t.contents:Te(`Invalid value of loadable atom "${e.key}"`)}function D9(){const t=Mh(),e=wi(),[,n]=Hx([]),r=Xu(new Set);r.current=new Set;const i=Xu(new Set),s=Xu(new Map),o=Zn(l=>{const c=s.current.get(l);c&&(c.release(),s.current.delete(l))},[s]),a=Zn((l,c)=>{s.current.has(c)&&n([])},[]);return Hl(()=>{const l=e.current;Qu(r.current,i.current).forEach(c=>{if(s.current.has(c))return;const u=Wl(l,new ub(c),h=>a(h,c),t);s.current.set(c,u),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),c)}):a(l.getState(),c)}),Qu(i.current,r.current).forEach(c=>{o(c)}),i.current=r.current}),Hl(()=>{const l=s.current;return Qu(r.current,new Set(l.keys())).forEach(c=>{const u=Wl(e.current,new ub(c),d=>a(d,c),t);l.set(c,u)}),()=>l.forEach((c,u)=>o(u))},[t,e,o,a]),iO(()=>{function l(g){return m=>{Ag(e.current,g,m)}}function c(g){return()=>Ag(e.current,g,rO)}function u(g){var m;r.current.has(g.key)||(r.current=P9(r.current,g.key));const _=e.current.getState();return Lh(e.current,g,vc().early&&(m=_.nextTree)!==null&&m!==void 0?m:_.currentTree)}function d(g){const m=u(g);return qx(m,g,e)}function h(g){return[d(g),l(g)]}function f(g){return[u(g),l(g)]}return{getRecoilValue:d,getRecoilValueLoadable:u,getRecoilState:h,getRecoilStateLoadable:f,getSetRecoilState:l,getResetRecoilState:c}},[r,e])}const O9={current:0};function M9(t){const e=wi(),n=Mh(),r=Zn(()=>{var a;const l=e.current,c=l.getState(),u=vc().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return{loadable:Lh(l,t,u),key:t.key}},[e,t]),i=Zn(a=>{let l;return()=>{var c,u;const d=a();return(c=l)!==null&&c!==void 0&&c.loadable.is(d.loadable)&&((u=l)===null||u===void 0?void 0:u.key)===d.key?l:(l=d,d)}},[]),s=iO(()=>i(r),[r,i]),o=Zn(a=>{const l=e.current;return Wl(l,t,a,n).release},[e,t,n]);return C9(o,s,s).loadable}function L9(t){const e=wi(),n=Zn(()=>{var c;const u=e.current,d=u.getState(),h=vc().early&&(c=d.nextTree)!==null&&c!==void 0?c:d.currentTree;return Lh(u,t,h)},[e,t]),r=Zn(()=>n(),[n]),i=Mh(),s=Zn((c,u)=>{const d=e.current;return Wl(d,t,()=>{if(!Ke("recoil_suppress_rerender_in_callback"))return u();const f=n();l.current.is(f)||u(),l.current=f},i).release},[e,t,i,n]),o=k9();if(o==null)throw Te("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=R9(o,r,s),l=Xu(a);return Hl(()=>{l.current=a}),a}function db(t){const e=wi(),n=Mh(),r=Zn(()=>{var l;const c=e.current,u=c.getState(),d=vc().early&&(l=u.nextTree)!==null&&l!==void 0?l:u.currentTree;return Lh(c,t,d)},[e,t]),i=Zn(()=>({loadable:r(),key:t.key}),[r,t.key]),s=Zn(l=>{const c=i();return l.loadable.is(c.loadable)&&l.key===c.key?l:c},[i]);Hl(()=>{const l=Wl(e.current,t,c=>{a(s)},n);return a(s),l.release},[n,t,e,s]);const[o,a]=Hx(i);return o.key!==t.key?i().loadable:o.loadable}function V9(t){const e=wi(),[,n]=Hx([]),r=Mh(),i=Zn(()=>{var a;const l=e.current,c=l.getState(),u=vc().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return Lh(l,t,u)},[e,t]),s=i(),o=Xu(s);return Hl(()=>{o.current=s}),Hl(()=>{const a=e.current,l=a.getState(),c=Wl(a,t,d=>{var h;if(!Ke("recoil_suppress_rerender_in_callback"))return n([]);const f=i();(h=o.current)!==null&&h!==void 0&&h.is(f)||n(f),o.current=f},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var u;if(!Ke("recoil_suppress_rerender_in_callback"))return n([]);const d=i();(u=o.current)!==null&&u!==void 0&&u.is(d)||n(d),o.current=d}return c.release},[r,i,t,e]),s}function Kx(t){return Ke("recoil_memory_managament_2020")&&Wx(t),{TRANSITION_SUPPORT:db,SYNC_EXTERNAL_STORE:T9()?M9:db,MUTABLE_SOURCE:L9,LEGACY:V9}[vc().mode](t)}function sO(t){const e=wi(),n=Kx(t);return qx(n,t,e)}function sy(t){const e=wi();return Zn(n=>{Ag(e.current,t,n)},[e,t])}function F9(t){const e=wi();return Zn(()=>{Ag(e.current,t,rO)},[e,t])}function j9(t){return[sO(t),sy(t)]}function $9(t){return[Kx(t),sy(t)]}function U9(){const t=wi();return(e,n={})=>{I9(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>A9(t.current,new ub(i),r))})}}function oO(t){return Ke("recoil_memory_managament_2020")&&Wx(t),db(t)}function aO(t){const e=wi(),n=oO(t);return qx(n,t,e)}function B9(t){return[aO(t),sy(t)]}var z9={recoilComponentGetRecoilValueCount_FOR_TESTING:O9,useRecoilInterface:D9,useRecoilState:j9,useRecoilStateLoadable:$9,useRecoilValue:sO,useRecoilValueLoadable:Kx,useResetRecoilState:F9,useSetRecoilState:sy,useSetUnvalidatedAtomValues:U9,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:oO,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:aO,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:B9};function W9(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var H9=W9;function q9(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var K9=q9;function G9(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var Q9=G9;const{batchUpdates:Y9}=Zm,{DEFAULT_VALUE:X9,getNode:lO,nodes:J9}=tr,{useStoreRef:Gx}=Ji,{AbstractRecoilValue:Z9,setRecoilValueLoadable:e6}=bi,{SUSPENSE_TIMEOUT_MS:t6}=Ra,{cloneSnapshot:Pg}=ry,{useCallback:oy,useEffect:cO,useRef:s1,useState:n6}=Xe,{isSSR:o1}=ey;function ay(t){const e=Gx();cO(()=>e.current.subscribeToTransactions(t).release,[t,e])}function a1(t){const e=t.atomValues.toMap(),n=kg(H9(e,(r,i)=>{const o=lO(i).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return Q9(t.nonvalidatedAtoms.toMap(),n)}function r6(t){ay(oy(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=a1(r),s=a1(n),o=kg(J9,l=>{var c,u,d,h;return{persistence_UNSTABLE:{type:(c=(u=l.persistence_UNSTABLE)===null||u===void 0?void 0:u.type)!==null&&c!==void 0?c:"none",backButton:(d=(h=l.persistence_UNSTABLE)===null||h===void 0?void 0:h.backButton)!==null&&d!==void 0?d:!1}}}),a=K9(r.dirtyAtoms,l=>i.has(l)||s.has(l));t({atomValues:i,previousAtomValues:s,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function i6(t){ay(oy(e=>{const n=Pg(e,"latest"),r=Pg(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function s6(){const t=Gx(),[e,n]=n6(()=>Pg(t.current)),r=nO(e),i=s1(),s=s1();if(ay(oy(a=>n(Pg(a)),[])),cO(()=>{const a=e.retain();if(i.current&&!o1){var l;window.clearTimeout(i.current),i.current=null,(l=s.current)===null||l===void 0||l.call(s),s.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!o1){if(i.current){var o;window.clearTimeout(i.current),i.current=null,(o=s.current)===null||o===void 0||o.call(s),s.current=null}s.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=s.current)===null||a===void 0||a.call(s),s.current=null},t6)}return e}function uO(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,s=e.getStore_INTERNAL().getState().currentTree;Y9(()=>{const o=new Set;for(const c of[i.atomValues.keys(),s.atomValues.keys()])for(const u of c){var a,l;((a=i.atomValues.get(u))===null||a===void 0?void 0:a.contents)!==((l=s.atomValues.get(u))===null||l===void 0?void 0:l.contents)&&lO(u).shouldRestoreFromSnapshots&&o.add(u)}o.forEach(c=>{e6(t,new Z9(c),s.atomValues.has(c)?dt(s.atomValues.get(c)):X9)}),t.replaceState(c=>({...c,stateID:e.getID()}))})}function o6(){const t=Gx();return oy(e=>uO(t.current,e),[t])}var dO={useRecoilSnapshot:s6,gotoSnapshot:uO,useGotoRecoilSnapshot:o6,useRecoilTransactionObserver:i6,useTransactionObservation_DEPRECATED:r6,useTransactionSubscription_DEPRECATED:ay};const{peekNodeInfo:a6}=oo,{useStoreRef:l6}=Ji;function c6(){const t=l6();return({key:e})=>a6(t.current,t.current.getState().currentTree,e)}var u6=c6;const{reactMode:d6}=Nh,{RecoilRoot:h6,useStoreRef:f6}=Ji,{useMemo:p6}=Xe;function g6(){d6().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=f6().current;return p6(()=>{function e({children:n}){return Xe.createElement(h6,{store_INTERNAL:t},n)}return e},[t])}var m6=g6;const{loadableWithValue:y6}=Ph,{initializeNode:v6}=oo,{DEFAULT_VALUE:_6,getNode:b6}=tr,{copyTreeState:w6,getRecoilValueAsLoadable:x6,invalidateDownstreams:S6,writeLoadableToTreeState:E6}=bi;function l1(t){return b6(t.key).nodeType==="atom"}class I6{constructor(e,n){Se(this,"_store",void 0),Se(this,"_treeState",void 0),Se(this,"_changes",void 0),Se(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!l1(r))throw Te("Reading selectors within atomicUpdate is not supported");const i=x6(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:Te(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),Se(this,"set",(r,i)=>{if(!l1(r))throw Te("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const s=this.get(r);this._changes.set(r.key,i(s))}else v6(this._store,r.key,"set"),this._changes.set(r.key,i)}),Se(this,"reset",r=>{this.set(r,_6)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=w6(this._treeState);for(const[n,r]of this._changes)E6(e,n,y6(r));return S6(this._store,e),e}}function T6(t){return e=>{t.replaceState(n=>{const r=new I6(t,n);return e(r),r.newTreeState_INTERNAL()})}}var R6={atomicUpdater:T6},C6=R6.atomicUpdater,hO=Object.freeze({__proto__:null,atomicUpdater:C6});function k6(t,e){if(!t)throw new Error(e)}var A6=k6,Su=A6;const{atomicUpdater:P6}=hO,{batchUpdates:N6}=Zm,{DEFAULT_VALUE:D6}=tr,{useStoreRef:O6}=Ji,{refreshRecoilValue:M6,setRecoilValue:c1}=bi,{cloneSnapshot:L6}=ry,{gotoSnapshot:V6}=dO,{useCallback:F6}=Xe;class fO{}const j6=new fO;function pO(t,e,n,r){let i=j6,s;if(N6(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Te(a);const l=TD({...r??{},set:(u,d)=>c1(t,u,d),reset:u=>c1(t,u,D6),refresh:u=>M6(t,u),gotoSnapshot:u=>V6(t,u),transact_UNSTABLE:u=>P6(t)(u)},{snapshot:()=>{const u=L6(t);return s=u.retain(),u}}),c=e(l);if(typeof c!="function")throw Te(a);i=c(...n)}),i instanceof fO&&Su(!1),rt(i))i=i.finally(()=>{var a;(a=s)===null||a===void 0||a()});else{var o;(o=s)===null||o===void 0||o()}return i}function $6(t,e){const n=O6();return F6((...r)=>pO(n.current,t,r),e!=null?[...e,n]:void 0)}var gO={recoilCallback:pO,useRecoilCallback:$6};const{useStoreRef:U6}=Ji,{refreshRecoilValue:B6}=bi,{useCallback:z6}=Xe;function W6(t){const e=U6();return z6(()=>{const n=e.current;B6(n,t)},[t,e])}var H6=W6;const{atomicUpdater:q6}=hO,{useStoreRef:K6}=Ji,{useMemo:G6}=Xe;function Q6(t,e){const n=K6();return G6(()=>(...r)=>{q6(n.current)(s=>{t(s)(...r)})},e!=null?[...e,n]:void 0)}var Y6=Q6;class X6{constructor(e){Se(this,"value",void 0),this.value=e}}var J6={WrappedValue:X6},Z6=J6.WrappedValue,mO=Object.freeze({__proto__:null,WrappedValue:Z6});const{isFastRefreshEnabled:eW}=Nh;class u1 extends Error{}class tW{constructor(e){var n,r,i;Se(this,"_name",void 0),Se(this,"_numLeafs",void 0),Se(this,"_root",void 0),Se(this,"_onHit",void 0),Se(this,"_onSet",void 0),Se(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:s=>s}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var s,o,a,l;let c,u;for(const[_,v]of e){var d,h,f;const y=this._root;if((y==null?void 0:y.type)==="leaf")throw this.invalidCacheError();const b=c;if(c=b?b.branches.get(u):y,c=(d=c)!==null&&d!==void 0?d:{type:"branch",nodeKey:_,parent:b,branches:new Map,branchKey:u},c.type!=="branch"||c.nodeKey!==_)throw this.invalidCacheError();b==null||b.branches.set(u,c),r==null||(h=r.onNodeVisit)===null||h===void 0||h.call(r,c),u=this._mapNodeValue(v),this._root=(f=this._root)!==null&&f!==void 0?f:c}const g=c?(s=c)===null||s===void 0?void 0:s.branches.get(u):this._root;if(g!=null&&(g.type!=="leaf"||g.branchKey!==u))throw this.invalidCacheError();const m={type:"leaf",value:n,parent:c,branchKey:u};(o=c)===null||o===void 0||o.branches.set(u,m),this._root=(a=this._root)!==null&&a!==void 0?a:m,this._numLeafs++,this._onSet(m),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,m)};try{i()}catch(s){if(s instanceof u1)this.clear(),i();else throw s}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var s;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(s=r)===null||s===void 0?void 0:s.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=eW()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Ox(e+(this._name!=null?` - ${this._name}`:"")),new u1}}var nW={TreeCache:tW},rW=nW.TreeCache,yO=Object.freeze({__proto__:null,TreeCache:rW});class iW{constructor(e){var n;Se(this,"_maxSize",void 0),Se(this,"_size",void 0),Se(this,"_head",void 0),Se(this,"_tail",void 0),Se(this,"_map",void 0),Se(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const s=this.head(),o={key:e,right:s,left:null,value:n};s?s.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=dt(this._map.get(n)),i=r.right,s=r.left;i&&(i.left=r.left),s&&(s.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=s),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var sW={LRUCache:iW},oW=sW.LRUCache,vO=Object.freeze({__proto__:null,LRUCache:oW});const{LRUCache:aW}=vO,{TreeCache:lW}=yO;function cW({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new aW({maxSize:e}),i=new lW({name:t,mapNodeValue:n,onHit:s=>{r.set(s,!0)},onSet:s=>{const o=r.tail();r.set(s,!0),o&&i.size()>e&&i.delete(o.key)}});return i}var d1=cW;function Nr(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Te("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(rt(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,s)=>Nr(i,e,s.toString()))}]`;if(typeof t.toJSON=="function")return Nr(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[s,o]of t)i[typeof s=="string"?s:Nr(s,e)]=o;return Nr(i,e,n)}return t instanceof Set?Nr(Array.from(t).sort((i,s)=>Nr(i,e).localeCompare(Nr(s,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Nr(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${Nr(i,e)}:${Nr(t[i],e,i)}`).join(",")}}`}function uW(t,e={allowFunctions:!1}){return Nr(t,e)}var ly=uW;const{TreeCache:dW}=yO,Mf={equality:"reference",eviction:"keep-all",maxSize:1/0};function hW({equality:t=Mf.equality,eviction:e=Mf.eviction,maxSize:n=Mf.maxSize}=Mf,r){const i=fW(t);return pW(e,n,i,r)}function fW(t){switch(t){case"reference":return e=>e;case"value":return e=>ly(e)}throw Te(`Unrecognized equality policy ${t}`)}function pW(t,e,n,r){switch(t){case"keep-all":return new dW({name:r,mapNodeValue:n});case"lru":return d1({name:r,maxSize:dt(e),mapNodeValue:n});case"most-recent":return d1({name:r,maxSize:1,mapNodeValue:n})}throw Te(`Unrecognized eviction policy ${t}`)}var gW=hW;function mW(t){return()=>null}var yW={startPerfBlock:mW};const{isLoadable:vW,loadableWithError:Lf,loadableWithPromise:_W,loadableWithValue:c_}=Ph,{WrappedValue:_O}=mO,{getNodeLoadable:Vf,peekNodeLoadable:bW,setNodeValue:wW}=oo,{saveDepsToStore:xW}=Dh,{DEFAULT_VALUE:SW,getConfigDeletionHandler:EW,getNode:IW,registerNode:h1}=tr,{isRecoilValue:TW}=zl,{markRecoilValueModified:f1}=bi,{retainedByOptionWithDefault:RW}=Ra,{recoilCallback:CW}=gO,{startPerfBlock:kW}=yW;class bO{}const Qc=new bO,Yc=[],Ff=new Map,AW=(()=>{let t=0;return()=>t++})();function wO(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,s=t.set!=null?t.set:void 0,o=new Set,a=gW(i??{equality:"reference",eviction:"keep-all"},n),l=RW(t.retainedBy_UNSTABLE),c=new Map;let u=0;function d(){return!Ke("recoil_memory_managament_2020")||u>0}function h(k){return k.getState().knownSelectors.add(n),u++,()=>{u--}}function f(){return EW(n)!==void 0&&!d()}function g(k,$,B,le,Q){C($,le,Q),m(k,B)}function m(k,$){Y(k,$)&&X(k),v($,!0)}function _(k,$){Y(k,$)&&(dt(D(k)).stateVersions.clear(),v($,!1))}function v(k,$){const B=Ff.get(k);if(B!=null){for(const le of B)f1(le,dt(e));$&&Ff.delete(k)}}function y(k,$){let B=Ff.get($);B==null&&Ff.set($,B=new Set),B.add(k)}function b(k,$,B,le,Q,ge){return $.then(_e=>{if(!d())throw X(k),Qc;const de=c_(_e);return g(k,B,Q,de,le),_e}).catch(_e=>{if(!d())throw X(k),Qc;if(rt(_e))return w(k,_e,B,le,Q,ge);const de=Lf(_e);throw g(k,B,Q,de,le),_e})}function w(k,$,B,le,Q,ge){return $.then(_e=>{if(!d())throw X(k),Qc;ge.loadingDepKey!=null&&ge.loadingDepPromise===$?B.atomValues.set(ge.loadingDepKey,c_(_e)):k.getState().knownSelectors.forEach(Ve=>{B.atomValues.delete(Ve)});const de=T(k,B);if(de&&de.state!=="loading"){if((Y(k,Q)||D(k)==null)&&m(k,Q),de.state==="hasValue")return de.contents;throw de.contents}if(!Y(k,Q)){const Ve=A(k,B);if(Ve!=null)return Ve.loadingLoadable.contents}const[Ge,_t]=I(k,B,Q);if(Ge.state!=="loading"&&g(k,B,Q,Ge,_t),Ge.state==="hasError")throw Ge.contents;return Ge.contents}).catch(_e=>{if(_e instanceof bO)throw Qc;if(!d())throw X(k),Qc;const de=Lf(_e);throw g(k,B,Q,de,le),_e})}function x(k,$,B,le){var Q,ge,_e,de;if(Y(k,le)||$.version===((Q=k.getState())===null||Q===void 0||(ge=Q.currentTree)===null||ge===void 0?void 0:ge.version)||$.version===((_e=k.getState())===null||_e===void 0||(de=_e.nextTree)===null||de===void 0?void 0:de.version)){var Ge,_t,Ve;xW(n,B,k,(Ge=(_t=k.getState())===null||_t===void 0||(Ve=_t.nextTree)===null||Ve===void 0?void 0:Ve.version)!==null&&Ge!==void 0?Ge:k.getState().currentTree.version)}for(const Ze of B)o.add(Ze)}function I(k,$,B){const le=kW(n);let Q=!0,ge=!0;const _e=()=>{le(),ge=!1};let de,Ge=!1,_t;const Ve={loadingDepKey:null,loadingDepPromise:null},Ze=new Map;function jn({key:yr}){const nr=Vf(k,$,yr);switch(Ze.set(yr,nr),Q||(x(k,$,new Set(Ze.keys()),B),_(k,B)),nr.state){case"hasValue":return nr.contents;case"hasError":throw nr.contents;case"loading":throw Ve.loadingDepKey=yr,Ve.loadingDepPromise=nr.contents,nr.contents}throw Te("Invalid Loadable state")}const Si=yr=>(...nr)=>{if(ge)throw Te("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&Su(!1),CW(k,yr,nr,{node:e})};try{de=r({get:jn,getCallback:Si}),de=TW(de)?jn(de):de,vW(de)&&(de.state==="hasError"&&(Ge=!0),de=de.contents),rt(de)?de=b(k,de,$,Ze,B,Ve).finally(_e):_e(),de=de instanceof _O?de.value:de}catch(yr){de=yr,rt(de)?de=w(k,de,$,Ze,B,Ve).finally(_e):(Ge=!0,_e())}return Ge?_t=Lf(de):rt(de)?_t=_W(de):_t=c_(de),Q=!1,H(k,B,Ze),x(k,$,new Set(Ze.keys()),B),[_t,Ze]}function T(k,$){let B=$.atomValues.get(n);if(B!=null)return B;const le=new Set;try{B=a.get(ge=>(typeof ge!="string"&&Su(!1),Vf(k,$,ge).contents),{onNodeVisit:ge=>{ge.type==="branch"&&ge.nodeKey!==n&&le.add(ge.nodeKey)}})}catch(ge){throw Te(`Problem with cache lookup for selector "${n}": ${ge.message}`)}if(B){var Q;$.atomValues.set(n,B),x(k,$,le,(Q=D(k))===null||Q===void 0?void 0:Q.executionID)}return B}function E(k,$){const B=T(k,$);if(B!=null)return X(k),B;const le=A(k,$);if(le!=null){var Q;return((Q=le.loadingLoadable)===null||Q===void 0?void 0:Q.state)==="loading"&&y(k,le.executionID),le.loadingLoadable}const ge=AW(),[_e,de]=I(k,$,ge);return _e.state==="loading"?(V(k,ge,_e,de,$),y(k,ge)):(X(k),C($,_e,de)),_e}function A(k,$){const B=zD([c.has(k)?[dt(c.get(k))]:[],Qm(jx(c,([Q])=>Q!==k),([,Q])=>Q)]);function le(Q){for(const[ge,_e]of Q)if(!Vf(k,$,ge).is(_e))return!0;return!1}for(const Q of B){if(Q.stateVersions.get($.version)||!le(Q.depValuesDiscoveredSoFarDuringAsyncWork))return Q.stateVersions.set($.version,!0),Q;Q.stateVersions.set($.version,!1)}}function D(k){return c.get(k)}function V(k,$,B,le,Q){c.set(k,{depValuesDiscoveredSoFarDuringAsyncWork:le,executionID:$,loadingLoadable:B,stateVersions:new Map([[Q.version,!0]])})}function H(k,$,B){if(Y(k,$)){const le=D(k);le!=null&&(le.depValuesDiscoveredSoFarDuringAsyncWork=B)}}function X(k){c.delete(k)}function Y(k,$){var B;return $===((B=D(k))===null||B===void 0?void 0:B.executionID)}function R(k){return Array.from(k.entries()).map(([$,B])=>[$,B.contents])}function C(k,$,B){k.atomValues.set(n,$);try{a.set(R(B),$)}catch(le){throw Te(`Problem with setting cache for selector "${n}": ${le.message}`)}}function j(k){if(Yc.includes(n)){const $=`Recoil selector has circular dependencies: ${Yc.slice(Yc.indexOf(n)).join("  ")}`;return Lf(Te($))}Yc.push(n);try{return k()}finally{Yc.pop()}}function M(k,$){const B=$.atomValues.get(n);return B??a.get(le=>{var Q;return typeof le!="string"&&Su(!1),(Q=bW(k,$,le))===null||Q===void 0?void 0:Q.contents})}function U(k,$){return j(()=>E(k,$))}function F(k){k.atomValues.delete(n)}function ie(k,$){e==null&&Su(!1);for(const le of o){var B;const Q=IW(le);(B=Q.clearCache)===null||B===void 0||B.call(Q,k,$)}o.clear(),F($),a.clear(),f1(k,e)}return s!=null?e=h1({key:n,nodeType:"selector",peek:M,get:U,set:($,B,le)=>{let Q=!1;const ge=new Map;function _e({key:Ve}){if(Q)throw Te("Recoil: Async selector sets are not currently supported.");const Ze=Vf($,B,Ve);if(Ze.state==="hasValue")return Ze.contents;if(Ze.state==="loading"){const jn=`Getting value of asynchronous atom or selector "${Ve}" in a pending state while setting selector "${n}" is not yet supported.`;throw Te(jn)}else throw Ze.contents}function de(Ve,Ze){if(Q)throw Te("Recoil: Async selector sets are not currently supported.");const jn=typeof Ze=="function"?Ze(_e(Ve)):Ze;wW($,B,Ve.key,jn).forEach((yr,nr)=>ge.set(nr,yr))}function Ge(Ve){de(Ve,SW)}const _t=s({set:de,get:_e,reset:Ge},le);if(_t!==void 0)throw rt(_t)?Te("Recoil: Async selector sets are not currently supported."):Te("Recoil: selector set should be a void function.");return Q=!0,ge},init:h,invalidate:F,clearCache:ie,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=h1({key:n,nodeType:"selector",peek:M,get:U,init:h,invalidate:F,clearCache:ie,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}wO.value=t=>new _O(t);var ql=wO;const{isLoadable:PW,loadableWithError:u_,loadableWithPromise:d_,loadableWithValue:Ua}=Ph,{WrappedValue:xO}=mO,{peekNodeInfo:NW}=oo,{DEFAULT_VALUE:Ao,DefaultValue:fs,getConfigDeletionHandler:SO,registerNode:DW,setConfigDeletionHandler:OW}=tr,{isRecoilValue:MW}=zl,{getRecoilValueAsLoadable:LW,markRecoilValueModified:VW,setRecoilValue:p1,setRecoilValueLoadable:FW}=bi,{retainedByOptionWithDefault:jW}=Ra,Xc=t=>t instanceof xO?t.value:t;function $W(t){const{key:e,persistence_UNSTABLE:n}=t,r=jW(t.retainedBy_UNSTABLE);let i=0;function s(y){return d_(y.then(b=>(o=Ua(b),b)).catch(b=>{throw o=u_(b),b}))}let o=rt(t.default)?s(t.default):PW(t.default)?t.default.state==="loading"?s(t.default.contents):t.default:Ua(Xc(t.default));o.contents;let a;const l=new Map;function c(y){return y}function u(y,b){const w=b.then(x=>{var I,T;return((T=((I=y.getState().nextTree)!==null&&I!==void 0?I:y.getState().currentTree).atomValues.get(e))===null||T===void 0?void 0:T.contents)===w&&p1(y,v,x),x}).catch(x=>{var I,T;throw((T=((I=y.getState().nextTree)!==null&&I!==void 0?I:y.getState().currentTree).atomValues.get(e))===null||T===void 0?void 0:T.contents)===w&&FW(y,v,u_(x)),x});return w}function d(y,b,w){var x;i++;const I=()=>{var D;i--,(D=l.get(y))===null||D===void 0||D.forEach(V=>V()),l.delete(y)};if(y.getState().knownAtoms.add(e),o.state==="loading"){const D=()=>{var V;((V=y.getState().nextTree)!==null&&V!==void 0?V:y.getState().currentTree).atomValues.has(e)||VW(y,v)};o.contents.finally(D)}const T=(x=t.effects)!==null&&x!==void 0?x:t.effects_UNSTABLE;if(T!=null){let D=function(F){if(Y&&F.key===e){const ie=X;return ie instanceof fs?h(y,b):rt(ie)?d_(ie.then(k=>k instanceof fs?o.toPromise():k)):Ua(ie)}return LW(y,F)},V=function(F){return D(F).toPromise()},H=function(F){var ie;const k=NW(y,(ie=y.getState().nextTree)!==null&&ie!==void 0?ie:y.getState().currentTree,F.key);return Y&&F.key===e&&!(X instanceof fs)?{...k,isSet:!0,loadable:D(F)}:k},X=Ao,Y=!0,R=!1,C=null;const j=F=>ie=>{if(Y){const k=D(v),$=k.state==="hasValue"?k.contents:Ao;X=typeof ie=="function"?ie($):ie,rt(X)&&(X=X.then(B=>(C={effect:F,value:B},B)))}else{if(rt(ie))throw Te("Setting atoms to async values is not implemented.");typeof ie!="function"&&(C={effect:F,value:Xc(ie)}),p1(y,v,typeof ie=="function"?k=>{const $=Xc(ie(k));return C={effect:F,value:$},$}:Xc(ie))}},M=F=>()=>j(F)(Ao),U=F=>ie=>{var k;const{release:$}=y.subscribeToTransactions(B=>{var le;let{currentTree:Q,previousTree:ge}=B.getState();ge||(ge=Q);const _e=(le=Q.atomValues.get(e))!==null&&le!==void 0?le:o;if(_e.state==="hasValue"){var de,Ge,_t,Ve;const Ze=_e.contents,jn=(de=ge.atomValues.get(e))!==null&&de!==void 0?de:o,Si=jn.state==="hasValue"?jn.contents:Ao;((Ge=C)===null||Ge===void 0?void 0:Ge.effect)!==F||((_t=C)===null||_t===void 0?void 0:_t.value)!==Ze?ie(Ze,Si,!Q.atomValues.has(e)):((Ve=C)===null||Ve===void 0?void 0:Ve.effect)===F&&(C=null)}},e);l.set(y,[...(k=l.get(y))!==null&&k!==void 0?k:[],$])};for(const F of T)try{const ie=F({node:v,storeID:y.storeID,parentStoreID_UNSTABLE:y.parentStoreID,trigger:w,setSelf:j(F),resetSelf:M(F),onSet:U(F),getPromise:V,getLoadable:D,getInfo_UNSTABLE:H});if(ie!=null){var E;l.set(y,[...(E=l.get(y))!==null&&E!==void 0?E:[],ie])}}catch(ie){X=ie,R=!0}if(Y=!1,!(X instanceof fs)){var A;const F=R?u_(X):rt(X)?d_(u(y,X)):Ua(Xc(X));F.contents,b.atomValues.set(e,F),(A=y.getState().nextTree)===null||A===void 0||A.atomValues.set(e,F)}}return I}function h(y,b){var w,x;return(w=(x=b.atomValues.get(e))!==null&&x!==void 0?x:a)!==null&&w!==void 0?w:o}function f(y,b){if(b.atomValues.has(e))return dt(b.atomValues.get(e));if(b.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const w=b.nonvalidatedAtoms.get(e),x=n.validator(w,Ao);return a=x instanceof fs?o:Ua(x),a}else return o}function g(){a=void 0}function m(y,b,w){if(b.atomValues.has(e)){const x=dt(b.atomValues.get(e));if(x.state==="hasValue"&&w===x.contents)return new Map}else if(!b.nonvalidatedAtoms.has(e)&&w instanceof fs)return new Map;return a=void 0,new Map().set(e,Ua(w))}function _(){return SO(e)!==void 0&&i<=0}const v=DW({key:e,nodeType:"atom",peek:h,get:f,set:m,init:d,invalidate:g,shouldDeleteConfigOnRelease:_,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return v}function Qx(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return MW(n)?UW({...e,default:n}):$W({...e,default:n})}function UW(t){const e=Qx({...t,default:Ao,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof fs?r:dt(t.persistence_UNSTABLE).validator(r,Ao)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=ql({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof fs?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return OW(n.key,SO(t.key)),n}Qx.value=t=>new xO(t);var EO=Qx;class BW{constructor(e){var n;Se(this,"_map",void 0),Se(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var zW={MapCache:BW},WW=zW.MapCache,HW=Object.freeze({__proto__:null,MapCache:WW});const{LRUCache:g1}=vO,{MapCache:qW}=HW,jf={equality:"reference",eviction:"none",maxSize:1/0};function KW({equality:t=jf.equality,eviction:e=jf.eviction,maxSize:n=jf.maxSize}=jf){const r=GW(t);return QW(e,n,r)}function GW(t){switch(t){case"reference":return e=>e;case"value":return e=>ly(e)}throw Te(`Unrecognized equality policy ${t}`)}function QW(t,e,n){switch(t){case"keep-all":return new qW({mapKey:n});case"lru":return new g1({mapKey:n,maxSize:dt(e)});case"most-recent":return new g1({mapKey:n,maxSize:1})}throw Te(`Unrecognized eviction policy ${t}`)}var IO=KW;const{setConfigDeletionHandler:YW}=tr;function XW(t){var e,n;const r=IO({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s,o;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...c}=t,u="default"in t?t.default:new Promise(()=>{}),d=EO({...c,key:`${t.key}__${(s=ly(i))!==null&&s!==void 0?s:"void"}`,default:typeof u=="function"?u(i):u,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(i,d),YW(d.key,()=>{r.delete(i)}),d}}var JW=XW;const{setConfigDeletionHandler:ZW}=tr;let eH=0;function tH(t){var e,n;const r=IO({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s;let o;try{o=r.get(i)}catch(h){throw Te(`Problem with cache lookup for selector ${t.key}: ${h.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(s=ly(i,{allowFunctions:!0}))!==null&&s!==void 0?s:"void"}/${eH++}`,l=h=>t.get(i)(h),c=t.cachePolicy_UNSTABLE,u=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let d;if(t.set!=null){const h=t.set;d=ql({key:a,get:l,set:(g,m)=>h(i)(g,m),cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u})}else d=ql({key:a,get:l,cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u});return r.set(i,d),ZW(d.key,()=>{r.delete(i)}),d}}var ao=tH;const nH=ao({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function rH(t){return nH(t)}var iH=rH;const sH=ao({key:"__error",get:t=>()=>{throw Te(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function oH(t){return sH(t)}var aH=oH;function lH(t){return t}var cH=lH;const{loadableWithError:TO,loadableWithPromise:RO,loadableWithValue:CO}=Ph;function cy(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,s]of e.entries())try{n[i]=t(s)}catch(o){r[i]=o}return[n,r]}function uH(t){return t!=null&&!rt(t)}function uy(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function hb(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function Il(t,e,n){const r=n.map((i,s)=>i==null?CO(e[s]):rt(i)?RO(i):TO(i));return hb(t,r)}function dH(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const hH=ao({key:"__waitForNone",get:t=>({get:e})=>{const n=uy(t),[r,i]=cy(e,n);return Il(t,r,i)},dangerouslyAllowMutability:!0}),fH=ao({key:"__waitForAny",get:t=>({get:e})=>{const n=uy(t),[r,i]=cy(e,n);return i.some(s=>!rt(s))?Il(t,r,i):new Promise(s=>{for(const[o,a]of i.entries())rt(a)&&a.then(l=>{r[o]=l,i[o]=void 0,s(Il(t,r,i))}).catch(l=>{i[o]=l,s(Il(t,r,i))})})},dangerouslyAllowMutability:!0}),pH=ao({key:"__waitForAll",get:t=>({get:e})=>{const n=uy(t),[r,i]=cy(e,n);if(i.every(o=>o==null))return hb(t,r);const s=i.find(uH);if(s!=null)throw s;return Promise.all(i).then(o=>hb(t,dH(r,o)))},dangerouslyAllowMutability:!0}),gH=ao({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=uy(t),[r,i]=cy(e,n);return i.every(s=>!rt(s))?Il(t,r,i):Promise.all(i.map((s,o)=>rt(s)?s.then(a=>{r[o]=a,i[o]=void 0}).catch(a=>{r[o]=void 0,i[o]=a}):null)).then(()=>Il(t,r,i))},dangerouslyAllowMutability:!0}),mH=ao({key:"__noWait",get:t=>({get:e})=>{try{return ql.value(CO(e(t)))}catch(n){return ql.value(rt(n)?RO(n):TO(n))}},dangerouslyAllowMutability:!0});var yH={waitForNone:hH,waitForAny:fH,waitForAll:pH,waitForAllSettled:gH,noWait:mH};const{RecoilLoadable:vH}=Ph,{DefaultValue:_H}=tr,{RecoilRoot:bH,useRecoilStoreID:wH}=Ji,{isRecoilValue:xH}=zl,{retentionZone:SH}=Xm,{freshSnapshot:EH}=ry,{useRecoilState:IH,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:TH,useRecoilStateLoadable:RH,useRecoilValue:CH,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:kH,useRecoilValueLoadable:AH,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:PH,useResetRecoilState:NH,useSetRecoilState:DH}=z9,{useGotoRecoilSnapshot:OH,useRecoilSnapshot:MH,useRecoilTransactionObserver:LH}=dO,{useRecoilCallback:VH}=gO,{noWait:FH,waitForAll:jH,waitForAllSettled:$H,waitForAny:UH,waitForNone:BH}=yH;var dy={DefaultValue:_H,isRecoilValue:xH,RecoilLoadable:vH,RecoilEnv:yc,RecoilRoot:bH,useRecoilStoreID:wH,useRecoilBridgeAcrossReactRoots_UNSTABLE:m6,atom:EO,selector:ql,atomFamily:JW,selectorFamily:ao,constSelector:iH,errorSelector:aH,readOnlySelector:cH,noWait:FH,waitForNone:BH,waitForAny:UH,waitForAll:jH,waitForAllSettled:$H,useRecoilValue:CH,useRecoilValueLoadable:AH,useRecoilState:IH,useRecoilStateLoadable:RH,useSetRecoilState:DH,useResetRecoilState:NH,useGetRecoilValueInfo_UNSTABLE:u6,useRecoilRefresher_UNSTABLE:H6,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:PH,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:kH,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:TH,useRecoilCallback:VH,useRecoilTransaction_UNSTABLE:Y6,useGotoRecoilSnapshot:OH,useRecoilSnapshot:MH,useRecoilTransactionObserver_UNSTABLE:LH,snapshot_UNSTABLE:EH,useRetain:Wx,retentionZone:SH},zH=dy.RecoilRoot,Yx=dy.atom,Vh=dy.useRecoilValue,$s=dy.useRecoilState;const kO=Yx({key:"webSettings",default:{theme:"light"}}),lo=Yx({key:"cryptoData",default:{data:[],filterdData:[],updatedTime:null}}),Xx=Yx({key:"cryptoNews",default:{data:[],filterdData:[],updatedTime:null}});var m1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},PO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new HH;const h=s<<2|a>>4;if(r.push(h),c!==64){const f=a<<4&240|c>>2;if(r.push(f),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qH=function(t){const e=AO(t);return PO.encodeByteArray(e,!0)},Ng=function(t){return qH(t).replace(/\./g,"")},NO=function(t){try{return PO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Dg(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!KH(n)||(t[n]=Dg(t[n],e[n]));return t}function KH(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=()=>GH().__FIREBASE_DEFAULTS__,YH=()=>{if(typeof process>"u"||typeof m1>"u")return;const t=m1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NO(t[1]);return e&&JSON.parse(e)},Jx=()=>{try{return QH()||YH()||XH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DO=()=>{var t;return(t=Jx())===null||t===void 0?void 0:t.config},JH=t=>{var e;return(e=Jx())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ng(JSON.stringify(n)),Ng(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function Zx(){var t;const e=(t=Jx())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nq(){return typeof self=="object"&&self.self===self}function OO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MO(){const t=pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LO(){return!Zx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dd(){try{return typeof indexedDB=="object"}catch{return!1}}function rq(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq="FirebaseError";class Dn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iq,Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ca.prototype.create)}}class Ca{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?sq(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Dn(i,a,r)}}function sq(t,e){return t.replace(oq,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oq=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function aq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Od(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(v1(s)&&v1(o)){if(!Od(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function v1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Eu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VO(t,e){const n=new lq(t,e);return n.subscribe.bind(n)}class lq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cq(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=h_),i.error===void 0&&(i.error=h_),i.complete===void 0&&(i.complete=h_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function h_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZH;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hq(e))try{this.getOrInitializeService({instanceIdentifier:To})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=To){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=To){return this.instances.has(e)}getOptions(e=To){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=To){return this.component?this.component.multipleInstances?e:To:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dq(t){return t===To?void 0:t}function hq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=[];var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const FO={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},pq=Ce.INFO,gq={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},mq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let hy=class{constructor(e){this.name=e,this._logLevel=pq,this._logHandler=mq,this._userLogHandler=null,tS.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}};function yq(t){tS.forEach(e=>{e.setLogLevel(t)})}function vq(t,e){for(const n of tS){let r=null;e&&e.level&&(r=FO[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:Ce[s].toLowerCase(),message:a,args:o,type:i.name})}}}const _q=(t,e)=>e.some(n=>t instanceof n);let _1,b1;function bq(){return _1||(_1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wq(){return b1||(b1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jO=new WeakMap,fb=new WeakMap,$O=new WeakMap,f_=new WeakMap,nS=new WeakMap;function xq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ms(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jO.set(n,t)}).catch(()=>{}),nS.set(e,t),e}function Sq(t){if(fb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fb.set(t,e)}let pb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$O.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Eq(t){pb=t(pb)}function Iq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(p_(this),e,...n);return $O.set(r,e.sort?e.sort():[e]),Ms(r)}:wq().includes(t)?function(...e){return t.apply(p_(this),e),Ms(jO.get(this))}:function(...e){return Ms(t.apply(p_(this),e))}}function Tq(t){return typeof t=="function"?Iq(t):(t instanceof IDBTransaction&&Sq(t),_q(t,bq())?new Proxy(t,pb):t)}function Ms(t){if(t instanceof IDBRequest)return xq(t);if(f_.has(t))return f_.get(t);const e=Tq(t);return e!==t&&(f_.set(t,e),nS.set(e,t)),e}const p_=t=>nS.get(t);function Rq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ms(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ms(o.result),l.oldVersion,l.newVersion,Ms(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Cq=["get","getKey","getAll","getAllKeys","count"],kq=["put","add","delete","clear"],g_=new Map;function w1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(g_.get(e))return g_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Cq.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return g_.set(e,s),s}Eq(t=>({...t,get:(e,n,r)=>w1(e,n)||t.get(e,n,r),has:(e,n)=>!!w1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Pq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gb="@firebase/app",x1="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new hy("@firebase/app"),Nq="@firebase/app-compat",Dq="@firebase/analytics-compat",Oq="@firebase/analytics",Mq="@firebase/app-check-compat",Lq="@firebase/app-check",Vq="@firebase/auth",Fq="@firebase/auth-compat",jq="@firebase/database",$q="@firebase/database-compat",Uq="@firebase/functions",Bq="@firebase/functions-compat",zq="@firebase/installations",Wq="@firebase/installations-compat",Hq="@firebase/messaging",qq="@firebase/messaging-compat",Kq="@firebase/performance",Gq="@firebase/performance-compat",Qq="@firebase/remote-config",Yq="@firebase/remote-config-compat",Xq="@firebase/storage",Jq="@firebase/storage-compat",Zq="@firebase/firestore",e8="@firebase/firestore-compat",t8="firebase",n8="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]",r8={[gb]:"fire-core",[Nq]:"fire-core-compat",[Oq]:"fire-analytics",[Dq]:"fire-analytics-compat",[Lq]:"fire-app-check",[Mq]:"fire-app-check-compat",[Vq]:"fire-auth",[Fq]:"fire-auth-compat",[jq]:"fire-rtdb",[$q]:"fire-rtdb-compat",[Uq]:"fire-fn",[Bq]:"fire-fn-compat",[zq]:"fire-iid",[Wq]:"fire-iid-compat",[Hq]:"fire-fcm",[qq]:"fire-fcm-compat",[Kq]:"fire-perf",[Gq]:"fire-perf-compat",[Qq]:"fire-rc",[Yq]:"fire-rc-compat",[Xq]:"fire-gcs",[Jq]:"fire-gcs-compat",[Zq]:"fire-fst",[e8]:"fire-fst-compat","fire-js":"fire-js",[t8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Map,Md=new Map;function Og(t,e){try{t.container.addComponent(e)}catch(n){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function UO(t,e){t.container.addOrOverwriteComponent(e)}function zs(t){const e=t.name;if(Md.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;Md.set(e,t);for(const n of Bs.values())Og(n,t);return!0}function BO(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function i8(t,e,n=Us){BO(t,e).clearInstance(n)}function s8(){Md.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$i=new Ca("app","Firebase",o8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a8=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=n8;function rS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Us,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $i.create("bad-app-name",{appName:String(i)});if(n||(n=DO()),!n)throw $i.create("no-options");const s=Bs.get(i);if(s){if(Od(n,s.options)&&Od(r,s.config))return s;throw $i.create("duplicate-app",{appName:i})}const o=new fq(i);for(const l of Md.values())o.addComponent(l);const a=new a8(n,r,o);return Bs.set(i,a),a}function l8(t=Us){const e=Bs.get(t);if(!e&&t===Us&&DO())return rS();if(!e)throw $i.create("no-app",{appName:t});return e}function c8(){return Array.from(Bs.values())}async function zO(t){const e=t.name;Bs.has(e)&&(Bs.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function hi(t,e,n){var r;let i=(r=r8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(a.join(" "));return}zs(new mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function WO(t,e){if(t!==null&&typeof t!="function")throw $i.create("invalid-log-argument");vq(t,e)}function HO(t){yq(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8="firebase-heartbeat-database",d8=1,Ld="firebase-heartbeat-store";let m_=null;function qO(){return m_||(m_=Rq(u8,d8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ld)}catch(n){console.warn(n)}}}}).catch(t=>{throw $i.create("idb-open",{originalErrorMessage:t.message})})),m_}async function h8(t){try{const n=(await qO()).transaction(Ld),r=await n.objectStore(Ld).get(KO(t));return await n.done,r}catch(e){if(e instanceof Dn)aa.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});aa.warn(n.message)}}}async function S1(t,e){try{const r=(await qO()).transaction(Ld,"readwrite");await r.objectStore(Ld).put(e,KO(t)),await r.done}catch(n){if(n instanceof Dn)aa.warn(n.message);else{const r=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});aa.warn(r.message)}}}function KO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=1024,p8=30*24*60*60*1e3;class g8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new y8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=E1();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=p8}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=E1(),{heartbeatsToSend:r,unsentEntries:i}=m8(this._heartbeatsCache.heartbeats),s=Ng(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function E1(){return new Date().toISOString().substring(0,10)}function m8(t,e=f8){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),I1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),I1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class y8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dd()?rq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await h8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return S1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return S1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function I1(t){return Ng(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t){zs(new mi("platform-logger",e=>new Aq(e),"PRIVATE")),zs(new mi("heartbeat",e=>new g8(e),"PRIVATE")),hi(gb,x1,t),hi(gb,x1,"esm2017"),hi("fire-js","")}v8("");const _8=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Dn,SDK_VERSION:co,_DEFAULT_ENTRY_NAME:Us,_addComponent:Og,_addOrOverwriteComponent:UO,_apps:Bs,_clearComponents:s8,_components:Md,_getProvider:BO,_registerComponent:zs,_removeServiceInstance:i8,deleteApp:zO,getApp:l8,getApps:c8,initializeApp:rS,onLog:WO,registerVersion:hi,setLogLevel:HO},Symbol.toStringTag,{value:"Module"}));function iS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const Jc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ba={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function GO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w8=b8,x8=GO,QO=new Ca("auth","Firebase",GO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg=new hy("@firebase/auth");function S8(t,...e){Mg.logLevel<=Ce.WARN&&Mg.warn(`Auth (${co}): ${t}`,...e)}function Np(t,...e){Mg.logLevel<=Ce.ERROR&&Mg.error(`Auth (${co}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t,...e){throw sS(t,...e)}function hn(t,...e){return sS(t,...e)}function YO(t,e,n){const r=Object.assign(Object.assign({},x8()),{[e]:n});return new Ca("auth","Firebase",r).create(e,{appName:t.name})}function bc(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&gn(t,"argument-error"),YO(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QO.create(t,...e)}function G(t,e,...n){if(!t)throw sS(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Np(e),new Error(e)}function Br(t,e){t||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oS(){return T1()==="http:"||T1()==="https:"}function T1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oS()||OO()||"connection"in navigator)?navigator.onLine:!0}function I8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=tq()||eS()}get(){return E8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t,e){Br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8=new Fh(3e4,6e4);function Ct(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function kt(t,e,n,r,i={}){return JO(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=_c(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),XO.fetch()(ZO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function JO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},T8),e);try{const i=new k8(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Iu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Iu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Iu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Iu(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw YO(t,u,c);gn(t,u)}}catch(i){if(i instanceof Dn)throw i;gn(t,"network-request-failed",{message:String(i)})}}async function Zi(t,e,n,r,i={}){const s=await kt(t,e,n,r,i);return"mfaPendingCredential"in s&&gn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ZO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?aS(t.config,i):`${t.config.apiScheme}://${i}`}function C8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class k8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hn(this.auth,"network-request-failed")),R8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Iu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t){return t!==void 0&&t.getResponse!==void 0}function C1(t){return t!==void 0&&t.enterprise!==void 0}class A8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return C8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P8(t){return(await kt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function N8(t,e){return kt(t,"GET","/v2/recaptchaConfig",Ct(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D8(t,e){return kt(t,"POST","/v1/accounts:delete",e)}async function O8(t,e){return kt(t,"POST","/v1/accounts:update",e)}async function M8(t,e){return kt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L8(t,e=!1){const n=he(t),r=await n.getIdToken(e),i=fy(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ju(y_(i.auth_time)),issuedAtTime:Ju(y_(i.iat)),expirationTime:Ju(y_(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function y_(t){return Number(t)*1e3}function fy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Np("JWT malformed, contained fewer than 3 sections"),null;try{const i=NO(n);return i?JSON.parse(i):(Np("Failed to decode base64 JWT payload"),null)}catch(i){return Np("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function V8(t){const e=fy(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dn&&F8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function F8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ju(this.lastLoginAt),this.creationTime=Ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Gi(t,M8(n,{idToken:r}));G(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?B8(s.providerUserInfo):[],a=U8(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eM(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function $8(t){const e=he(t);await Fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function B8(t){return t.map(e=>{var{providerId:n}=e,r=iS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(t,e){const n=await JO(t,{},async()=>{const r=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ZO(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",XO.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W8(t,e){return kt(t,"POST","/v2/accounts:revokeToken",Ct(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V8(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return G(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await z8(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new jd;return r&&(G(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(G(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jd,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Go{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=iS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new j8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eM(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Gi(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return L8(this,e)}reload(){return $8(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Go(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Gi(this,D8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:I,stsTokenManager:T}=n;G(b&&T,e,"internal-error");const E=jd.fromJSON(this.name,T);G(typeof b=="string",e,"internal-error"),as(d,e.name),as(h,e.name),G(typeof w=="boolean",e,"internal-error"),G(typeof x=="boolean",e,"internal-error"),as(f,e.name),as(g,e.name),as(m,e.name),as(_,e.name),as(v,e.name),as(y,e.name);const A=new Go({uid:b,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:x,photoURL:g,phoneNumber:f,tenantId:m,stsTokenManager:E,createdAt:v,lastLoginAt:y});return I&&Array.isArray(I)&&(A.providerData=I.map(D=>Object.assign({},D))),_&&(A._redirectEventId=_),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new jd;i.updateFromServerResponse(n);const s=new Go({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fd(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Map;function lr(t){Br(t instanceof Function,"Expected a class definition");let e=k1.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tM.type="NONE";const Kl=tM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t,e,n){return`firebase:${t}:${e}:${n}`}class Tl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qo(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qo("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Go._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Tl(lr(Kl),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||lr(Kl);const o=Qo(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Go._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Tl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Tl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sM(e))return"Blackberry";if(oM(e))return"Webos";if(lS(e))return"Safari";if((e.includes("chrome/")||rM(e))&&!e.includes("edge/"))return"Chrome";if(jh(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nM(t=pt()){return/firefox\//i.test(t)}function lS(t=pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rM(t=pt()){return/crios\//i.test(t)}function iM(t=pt()){return/iemobile/i.test(t)}function jh(t=pt()){return/android/i.test(t)}function sM(t=pt()){return/blackberry/i.test(t)}function oM(t=pt()){return/webos/i.test(t)}function wc(t=pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function H8(t=pt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function q8(t=pt()){var e;return wc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function K8(){return MO()&&document.documentMode===10}function aM(t=pt()){return wc(t)||jh(t)||oM(t)||sM(t)||/windows phone/i.test(t)||iM(t)}function G8(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t,e=[]){let n;switch(t){case"Browser":n=A1(pt());break;case"Worker":n=`${A1(pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y8(t,e={}){return kt(t,"GET","/v2/passwordPolicy",Ct(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=6;class J8{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:X8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P1(this),this.idTokenSubscription=new P1(this),this.beforeStateQueue=new Q8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?he(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y8(this),n=new J8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ca("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await W8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&S8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function It(t){return he(t)}class P1{constructor(e){this.auth=e,this.observer=null,this.addObserver=VO(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eK(t){$h=t}function cS(t){return $h.loadJS(t)}function tK(){return $h.recaptchaV2Script}function nK(){return $h.recaptchaEnterpriseScript}function rK(){return $h.gapiScript}function cM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const iK="recaptcha-enterprise",sK="NO_RECAPTCHA";class oK{constructor(e){this.type=iK,this.auth=It(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{N8(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new A8(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;C1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(sK)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&C1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=nK();l.length!==0&&(l+=a),cS(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function N1(t,e,n,r=!1){const i=new oK(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function $d(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await N1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await N1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function aK(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lK(t,e,n){const r=It(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=uM(e),{host:o,port:a}=cK(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||uK()}function uM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cK(t){const e=uM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:D1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:D1(o)}}}function D1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uK(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e){return kt(t,"POST","/v1/accounts:resetPassword",Ct(t,e))}async function dK(t,e){return kt(t,"POST","/v1/accounts:update",e)}async function hK(t,e){return kt(t,"POST","/v1/accounts:signUp",e)}async function fK(t,e){return kt(t,"POST","/v1/accounts:update",Ct(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pK(t,e){return Zi(t,"POST","/v1/accounts:signInWithPassword",Ct(t,e))}async function py(t,e){return kt(t,"POST","/v1/accounts:sendOobCode",Ct(t,e))}async function gK(t,e){return py(t,e)}async function mK(t,e){return py(t,e)}async function yK(t,e){return py(t,e)}async function vK(t,e){return py(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _K(t,e){return Zi(t,"POST","/v1/accounts:signInWithEmailLink",Ct(t,e))}async function bK(t,e){return Zi(t,"POST","/v1/accounts:signInWithEmailLink",Ct(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends xc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ud(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ud(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $d(e,n,"signInWithPassword",pK);case"emailLink":return _K(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $d(e,r,"signUpPassword",hK);case"emailLink":return bK(e,{idToken:n,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ui(t,e){return Zi(t,"POST","/v1/accounts:signInWithIdp",Ct(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wK="http://localhost";class yi extends xc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=iS(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new yi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ui(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ui(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ui(e,n)}buildRequest(){const e={requestUri:wK,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_c(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xK(t,e){return kt(t,"POST","/v1/accounts:sendVerificationCode",Ct(t,e))}async function SK(t,e){return Zi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ct(t,e))}async function EK(t,e){const n=await Zi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ct(t,e));if(n.temporaryProof)throw Iu(t,"account-exists-with-different-credential",n);return n}const IK={USER_NOT_FOUND:"user-not-found"};async function TK(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Zi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ct(t,n),IK)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends xc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Yo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Yo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return SK(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return EK(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return TK(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Yo({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RK(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CK(t){const e=yl(Eu(t)).link,n=e?yl(Eu(e)).deep_link_id:null,r=yl(Eu(t)).deep_link_id;return(r?yl(Eu(r)).link:null)||r||n||e||t}class gy{constructor(e){var n,r,i,s,o,a;const l=yl(Eu(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=RK((i=l.mode)!==null&&i!==void 0?i:null);G(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=CK(e);try{return new gy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(e,n){return Ud._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gy.parseLink(n);return G(r,"argument-error"),Ud._fromEmailAndCode(e,r.code,r.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends es{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rl extends Sc{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return G("providerId"in n&&"signInMethod"in n,"argument-error"),yi._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return G(e.idToken||e.accessToken,"argument-error"),yi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Rl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Rl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Rl(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Sc{constructor(){super("facebook.com")}static credential(e){return yi._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yi._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Sc{constructor(){super("github.com")}static credential(e){return yi._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.GITHUB_SIGN_IN_METHOD="github.com";ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK="http://localhost";class Gl extends xc{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Ui(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ui(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ui(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Gl(r,s)}static _create(e,n){return new Gl(e,n)}buildRequest(){return{requestUri:kK,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK="saml.";class Lg extends es{constructor(e){G(e.startsWith(AK),"argument-error"),super(e)}static credentialFromResult(e){return Lg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Lg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Gl.fromJSON(e);return G(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Gl._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Sc{constructor(){super("twitter.com")}static credential(e,n){return yi._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.TWITTER_SIGN_IN_METHOD="twitter.com";ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(t,e){return Zi(t,"POST","/v1/accounts:signUp",Ct(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Go._fromIdTokenResponse(e,r,i),o=O1(r);return new kr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=O1(r);return new kr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function O1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PK(t){var e;const n=It(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new kr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await hM(n,{returnSecureToken:!0}),i=await kr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends Dn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vg(e,n,r,i)}}function fM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Vg._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NK(t,e){const n=he(t);await my(!0,n,e);const{providerUserInfo:r}=await O8(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=pM(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function uS(t,e,n=!1){const r=await Gi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return kr._forOperation(t,"link",r)}async function my(t,e,n){await Fd(e);const r=pM(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";G(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Gi(t,fM(r,i,e,t),n);G(s.idToken,r,"internal-error");const o=fy(s.idToken);G(o,r,"internal-error");const{sub:a}=o;return G(t.uid===a,r,"user-mismatch"),kr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&gn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(t,e,n=!1){const r="signIn",i=await fM(t,r,e),s=await kr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function yy(t,e){return mM(It(t),e)}async function yM(t,e){const n=he(t);return await my(!1,n,e.providerId),uS(n,e)}async function vM(t,e){return gM(he(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DK(t,e){return Zi(t,"POST","/v1/accounts:signInWithCustomToken",Ct(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OK(t,e){const n=It(t),r=await DK(n,{token:e,returnSecureToken:!0}),i=await kr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?dS._fromServerResponse(e,n):"totpInfo"in n?hS._fromServerResponse(e,n):gn(e,"internal-error")}}class dS extends Uh{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new dS(n)}}class hS extends Uh{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new hS(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t,e,n){var r;G(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),G(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(G(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(G(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(t){const e=It(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pS(t,e,n){const r=It(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&vy(r,i,n),await $d(r,i,"getOobCode",mK)}async function MK(t,e,n){await dM(he(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fS(t),r})}async function LK(t,e){await fK(he(t),{oobCode:e})}async function _M(t,e){const n=he(t),r=await dM(n,{oobCode:e}),i=r.requestType;switch(G(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(r.mfaInfo,n,"internal-error");default:G(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Uh._fromServerResponse(It(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function VK(t,e){const{data:n}=await _M(he(t),e);return n.email}async function bM(t,e,n){const r=It(t),o=await $d(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hM).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&fS(t),l}),a=await kr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function wM(t,e,n){return yy(he(t),uo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FK(t,e,n){const r=It(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){G(a.handleCodeInApp,r,"argument-error"),a&&vy(r,o,a)}s(i,n),await $d(r,i,"getOobCode",yK)}function jK(t,e){const n=gy.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function $K(t,e,n){const r=he(t),i=uo.credentialWithLink(e,n||Vd());return G(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),yy(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UK(t,e){return kt(t,"POST","/v1/accounts:createAuthUri",Ct(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BK(t,e){const n=oS()?Vd():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await UK(he(t),r);return i||[]}async function zK(t,e){const n=he(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&vy(n.auth,i,e);const{email:s}=await gK(n.auth,i);s!==t.email&&await t.reload()}async function WK(t,e,n){const r=he(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&vy(r.auth,s,n);const{email:o}=await vK(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HK(t,e){return kt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gS(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=he(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Gi(r,HK(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function qK(t,e){return SM(he(t),e,null)}function xM(t,e){return SM(he(t),null,e)}async function SM(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Gi(t,dK(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=fy(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Cl(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new GK(s,i);case"github.com":return new QK(s,i);case"google.com":return new YK(s,i);case"twitter.com":return new XK(s,i,t.screenName||null);case"custom":case"anonymous":return new Cl(s,null);default:return new Cl(s,r,i)}}class Cl{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class EM extends Cl{constructor(e,n,r,i){super(e,n,r),this.username=i}}class GK extends Cl{constructor(e,n){super(e,"facebook.com",n)}}class QK extends EM{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class YK extends Cl{constructor(e,n){super(e,"google.com",n)}}class XK extends EM{constructor(e,n,r){super(e,"twitter.com",n,r)}}function JK(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:KK(n)}function ZK(t,e,n,r){return he(t).onAuthStateChanged(e,n,r)}function IM(t){return he(t).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new jo("enroll",e,n)}static _fromMfaPendingCredential(e){return new jo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return jo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return jo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=It(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Uh._fromServerResponse(r,a));G(i.mfaPendingCredential,r,"internal-error");const o=jo._fromMfaPendingCredential(i.mfaPendingCredential);return new mS(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const c=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const u=await kr._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return G(n.user,r,"internal-error"),kr._forOperation(n.user,n.operationType,c);default:gn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function eG(t,e){var n;const r=he(t),i=e;return G(e.customData.operationType,r,"argument-error"),G((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),mS._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tG(t,e){return kt(t,"POST","/v2/accounts/mfaEnrollment:start",Ct(t,e))}function nG(t,e){return kt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Ct(t,e))}function rG(t,e){return kt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Ct(t,e))}class yS{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Uh._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new yS(e)}async getSession(){return jo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Gi(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Gi(this.user,rG(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const v_=new WeakMap;function iG(t){const e=he(t);return v_.has(e)||v_.set(e,yS._fromUser(e)),v_.get(e)}const Fg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fg,"1"),this.storage.removeItem(Fg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(){const t=pt();return lS(t)||wc(t)}const oG=1e3,aG=10;class RM extends TM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=sG()&&G8(),this.fallbackToPolling=aM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);K8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,aG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RM.type="LOCAL";const vS=RM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM extends TM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CM.type="SESSION";const la=CM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _y(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await lG(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_y.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Bh("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return window}function uG(t){Lt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(){return typeof Lt().WorkerGlobalScope<"u"&&typeof Lt().importScripts=="function"}async function dG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fG(){return _S()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="firebaseLocalStorageDb",pG=1,jg="firebaseLocalStorage",AM="fbase_key";class zh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function by(t,e){return t.transaction([jg],e?"readwrite":"readonly").objectStore(jg)}function gG(){const t=indexedDB.deleteDatabase(kM);return new zh(t).toPromise()}function mb(){const t=indexedDB.open(kM,pG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jg,{keyPath:AM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jg)?e(r):(r.close(),await gG(),e(await mb()))})})}async function M1(t,e,n){const r=by(t,!0).put({[AM]:e,value:n});return new zh(r).toPromise()}async function mG(t,e){const n=by(t,!1).get(e),r=await new zh(n).toPromise();return r===void 0?null:r.value}function L1(t,e){const n=by(t,!0).delete(e);return new zh(n).toPromise()}const yG=800,vG=3;class PM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _S()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_y._getInstance(fG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dG(),!this.activeServiceWorker)return;this.sender=new cG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mb();return await M1(e,Fg,"1"),await L1(e,Fg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>M1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>L1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=by(i,!1).getAll();return new zh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PM.type="LOCAL";const Bd=PM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(t,e){return kt(t,"POST","/v2/accounts/mfaSignIn:start",Ct(t,e))}function bG(t,e){return kt(t,"POST","/v2/accounts/mfaSignIn:finalize",Ct(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG=500,xG=6e4,$f=1e12;class SG{constructor(e){this.auth=e,this.counter=$f,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new EG(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||$f;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||$f;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||$f;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class EG{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;G(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=IG(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},xG)},wG))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function IG(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=cM("rcb"),TG=new Fh(3e4,6e4);class RG{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Lt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return G(CG(n),e,"argument-error"),this.shouldResolveImmediately(n)&&R1(Lt().grecaptcha)?Promise.resolve(Lt().grecaptcha):new Promise((r,i)=>{const s=Lt().setTimeout(()=>{i(hn(e,"network-request-failed"))},TG.get());Lt()[__]=()=>{Lt().clearTimeout(s),delete Lt()[__];const a=Lt().grecaptcha;if(!a||!R1(a)){i(hn(e,"internal-error"));return}const l=a.render;a.render=(c,u)=>{const d=l(c,u);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${tK()}?${_c({onload:__,render:"explicit",hl:n})}`;cS(o).catch(()=>{clearTimeout(s),i(hn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Lt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function CG(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class kG{async load(e){return new SG(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="recaptcha",AG={theme:"light",type:"image"};let PG=class{constructor(e,n,r=Object.assign({},AG)){this.parameters=r,this.type=NM,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=It(e),this.isInvisible=this.parameters.size==="invisible",G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;G(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kG:new RG,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Lt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){G(oS()&&!_S(),this.auth,"internal-error"),await NG(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await P8(this.auth);G(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function NG(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Yo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function DG(t,e,n){const r=It(t),i=await wy(r,e,he(n));return new bS(i,s=>yy(r,s))}async function OG(t,e,n){const r=he(t);await my(!1,r,"phone");const i=await wy(r.auth,e,he(n));return new bS(i,s=>yM(r,s))}async function MG(t,e,n){const r=he(t),i=await wy(r.auth,e,he(n));return new bS(i,s=>vM(r,s))}async function wy(t,e,n){var r;const i=await n.verify();try{G(typeof i=="string",t,"argument-error"),G(n.type===NM,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return G(o.type==="enroll",t,"internal-error"),(await tG(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{G(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return G(a,t,"missing-multi-factor-info"),(await _G(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await xK(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function LG(t,e){await uS(he(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca=class Dp{constructor(e){this.providerId=Dp.PROVIDER_ID,this.auth=It(e)}verifyPhoneNumber(e,n){return wy(this.auth,e,he(n))}static credential(e,n){return Yo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Dp.credentialFromTaggedObject(n)}static credentialFromError(e){return Dp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Yo._fromTokenResponse(n,r):null}};ca.PROVIDER_ID="phone";ca.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t,e){return e?lr(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS extends xc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ui(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ui(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VG(t){return mM(t.auth,new wS(t),t.bypassAuthState)}function FG(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),gM(n,new wS(t),t.bypassAuthState)}async function jG(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),uS(n,new wS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VG;case"linkViaPopup":case"linkViaRedirect":return jG;case"reauthViaPopup":case"reauthViaRedirect":return FG;default:gn(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $G=new Fh(2e3,1e4);async function UG(t,e,n){const r=It(t);bc(t,e,es);const i=ka(r,n);return new Di(r,"signInViaPopup",e,i).executeNotNull()}async function BG(t,e,n){const r=he(t);bc(r.auth,e,es);const i=ka(r.auth,n);return new Di(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function zG(t,e,n){const r=he(t);bc(r.auth,e,es);const i=ka(r.auth,n);return new Di(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Di extends DM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Di.currentPopupAction&&Di.currentPopupAction.cancel(),Di.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return G(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=Bh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Di.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$G.get())};e()}}Di.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WG="pendingRedirect",Zu=new Map;class HG extends DM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zu.get(this.auth._key());if(!e){try{const r=await qG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zu.set(this.auth._key(),e)}return this.bypassAuthState||Zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qG(t,e){const n=MM(e),r=OM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function xS(t,e){return OM(t)._set(MM(e),"true")}function KG(){Zu.clear()}function SS(t,e){Zu.set(t._key(),e)}function OM(t){return lr(t._redirectPersistence)}function MM(t){return Qo(WG,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GG(t,e,n){return QG(t,e,n)}async function QG(t,e,n){const r=It(t);bc(t,e,es),await r._initializationPromise;const i=ka(r,n);return await xS(i,r),i._openRedirect(r,e,"signInViaRedirect")}function YG(t,e,n){return XG(t,e,n)}async function XG(t,e,n){const r=he(t);bc(r.auth,e,es),await r.auth._initializationPromise;const i=ka(r.auth,n);await xS(i,r.auth);const s=await LM(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function JG(t,e,n){return ZG(t,e,n)}async function ZG(t,e,n){const r=he(t);bc(r.auth,e,es),await r.auth._initializationPromise;const i=ka(r.auth,n);await my(!1,r,e.providerId),await xS(i,r.auth);const s=await LM(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function e7(t,e){return await It(t)._initializationPromise,xy(t,e,!1)}async function xy(t,e,n=!1){const r=It(t),i=ka(r,e),o=await new HG(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function LM(t){const e=Bh(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=10*60*1e3;class VM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FM(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t7&&this.cachedEventUids.clear(),this.cachedEventUids.has(V1(e))}saveEventToCache(e){this.cachedEventUids.add(V1(e)),this.lastProcessedEventTime=Date.now()}}function V1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(t,e={}){return kt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i7=/^https?/;async function s7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jM(t);for(const n of e)try{if(o7(n))return}catch{}gn(t,"unauthorized-domain")}function o7(t){const e=Vd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!i7.test(n))return!1;if(r7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=new Fh(3e4,6e4);function F1(){const t=Lt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l7(t){return new Promise((e,n)=>{var r,i,s;function o(){F1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F1(),n(hn(t,"network-request-failed"))},timeout:a7.get()})}if(!((i=(r=Lt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Lt().gapi)===null||s===void 0)&&s.load)o();else{const a=cM("iframefcb");return Lt()[a]=()=>{gapi.load?o():n(hn(t,"network-request-failed"))},cS(`${rK()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Op=null,e})}let Op=null;function c7(t){return Op=Op||l7(t),Op}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=new Fh(5e3,15e3),d7="__/auth/iframe",h7="emulator/auth/iframe",f7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g7(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?aS(e,h7):`https://${t.config.authDomain}/${d7}`,r={apiKey:e.apiKey,appName:t.name,v:co},i=p7.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_c(r).slice(1)}`}async function m7(t){const e=await c7(t),n=Lt().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:g7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f7,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=hn(t,"network-request-failed"),a=Lt().setTimeout(()=>{s(o)},u7.get());function l(){Lt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v7=500,_7=600,b7="_blank",w7="http://localhost";class j1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x7(t,e,n,r=v7,i=_7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},y7),{width:r.toString(),height:i.toString(),top:s,left:o}),c=pt().toLowerCase();n&&(a=rM(c)?b7:n),nM(c)&&(e=e||w7,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(q8(c)&&a!=="_self")return S7(e||"",a),new j1(null);const d=window.open(e||"",a,u);G(d,t,"popup-blocked");try{d.focus()}catch{}return new j1(d)}function S7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7="__/auth/handler",I7="emulator/auth/handler",T7=encodeURIComponent("fac");async function yb(t,e,n,r,i,s){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:co,eventId:i};if(e instanceof es){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",aq(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Sc){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${T7}=${encodeURIComponent(l)}`:"";return`${R7(t)}?${_c(a).slice(1)}${c}`}function R7({config:t}){return t.emulator?aS(t,I7):`https://${t.authDomain}/${E7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="webStorageSupport";class C7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=la,this._completeRedirectFn=xy,this._overrideRedirectResult=SS}async _openPopup(e,n,r,i){var s;Br((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await yb(e,n,r,Vd(),i);return x7(e,o,Bh())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await yb(e,n,r,Vd(),i);return uG(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Br(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await m7(e),r=new VM(e);return n.register("authEvent",i=>(G(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(b_,{type:b_},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[b_];o!==void 0&&n(!!o),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aM()||lS()||wc()}}const k7=C7;class A7{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ii("unexpected MultiFactorSessionType")}}}class ES extends A7{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ES(e)}_finalizeEnroll(e,n,r){return nG(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return bG(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class $M{constructor(){}static assertion(e){return ES._fromCredential(e)}}$M.FACTOR_ID="phone";var $1="@firebase/auth",U1="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D7(t){zs(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lM(t)},c=new Z8(r,i,s,l);return aK(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zs(new mi("auth-internal",e=>{const n=It(e.getProvider("auth").getImmediate());return(r=>new P7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hi($1,U1,N7(t)),hi($1,U1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=5*60;JH("authIdTokenMaxAge");function M7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}eK({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=hn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",M7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D7("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e,n){this._delegate=e,this.firebase=n,Og(e,new mi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),zO(this._delegate)))}_getService(e,n=Us){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Us){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Og(this._delegate,e)}_addOrOverwriteComponent(e){UO(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},B1=new Ca("app-compat","Firebase",V7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:hi,setLogLevel:HO,onLog:WO,apps:null,SDK_VERSION:co,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:_8}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||Us,!y1(e,c))throw B1.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,u={}){const d=rS(c,u);if(y1(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,d=u.replace("-compat","");if(zs(c)&&c.type==="PUBLIC"){const h=(f=i())=>{if(typeof f[d]!="function")throw B1.create("invalid-app-argument",{appName:u});return f[d]()};c.serviceProps!==void 0&&Dg(h,c.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,u).apply(this,c.multipleInstances?f:[])}}return c.type==="PUBLIC"?n[d]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(){const t=F7(L7);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:UM,extendNamespace:e,createSubscribe:VO,ErrorFactory:Ca,deepExtend:Dg});function e(n){Dg(t,n)}return t}const j7=UM();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new hy("@firebase/app-compat"),$7="@firebase/app-compat",U7="0.2.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7(t){hi($7,U7,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(nq()&&self.firebase!==void 0){z1.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&z1.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Dt=j7;B7();var z7="firebase",W7="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dt.registerVersion(z7,W7,"app-compat");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=2e3;async function q7(t,e,n){var r;const{BuildInfo:i}=ua();Br(e.sessionId,"AuthEvent did not contain a session ID");const s=await X7(e.sessionId),o={};return wc()?o.ibi=i.packageName:jh()?o.apn=i.packageName:gn(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,yb(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function K7(t){const{BuildInfo:e}=ua(),n={};wc()?n.iosBundleId=e.packageName:jh()?n.androidPackageName=e.packageName:gn(t,"operation-not-supported-in-this-environment"),await jM(t,n)}function G7(t){const{cordova:e}=ua();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,H8()?"_blank":"_system","location=yes"),n(i)})})}async function Q7(t,e,n){const{cordova:r}=ua();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(hn(t,"redirect-cancelled-by-user"))},H7))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),jh()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}}function Y7(t){var e,n,r,i,s,o,a,l,c,u;const d=ua();G(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),G(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),G(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G(typeof((u=(c=d==null?void 0:d.cordova)===null||c===void 0?void 0:c.InAppBrowser)===null||u===void 0?void 0:u.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function X7(t){const e=J7(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function J7(t){if(Br(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7=20;class eQ extends VM{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function tQ(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:iQ(),postBody:null,tenantId:t.tenantId,error:hn(t,"no-auth-event")}}function nQ(t,e){return vb()._set(_b(t),e)}async function W1(t){const e=await vb()._get(_b(t));return e&&await vb()._remove(_b(t)),e}function rQ(t,e){var n,r;const i=oQ(e);if(i.includes("/__/auth/callback")){const s=Mp(i),o=s.firebaseError?sQ(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?hn(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function iQ(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Z7;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function vb(){return lr(vS)}function _b(t){return Qo("authEvent",t.config.apiKey,t.name)}function sQ(t){try{return JSON.parse(t)}catch{return null}}function oQ(t){const e=Mp(t),n=e.link?decodeURIComponent(e.link):void 0,r=Mp(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Mp(i).link||i||r||n||t}function Mp(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return yl(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aQ=500;class lQ{constructor(){this._redirectPersistence=la,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xy,this._overrideRedirectResult=SS}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new eQ(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){gn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){Y7(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),KG(),await this._originValidation(e);const o=tQ(e,r,i);await nQ(e,o);const a=await q7(e,o,n),l=await G7(a);return Q7(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=K7(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=ua(),o=setTimeout(async()=>{await W1(e),n.onEvent(H1())},aQ),a=async u=>{clearTimeout(o);const d=await W1(e);let h=null;d&&(u!=null&&u.url)&&(h=rQ(d,u.url)),n.onEvent(h||H1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,c=`${s.packageName.toLowerCase()}://`;ua().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(c)&&a({url:u}),typeof l=="function")try{l(u)}catch(d){console.error(d)}}}}const cQ=lQ;function H1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:hn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(t,e){It(t)._logFramework(e)}var dQ="@firebase/auth-compat",hQ="0.5.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ=1e3;function ed(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function pQ(){return ed()==="http:"||ed()==="https:"}function BM(t=pt()){return!!((ed()==="file:"||ed()==="ionic:"||ed()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gQ(){return eS()||Zx()}function mQ(){return MO()&&(document==null?void 0:document.documentMode)===11}function yQ(t=pt()){return/Edge\/\d+/.test(t)}function vQ(t=pt()){return mQ()||yQ(t)}function zM(){try{const t=self.localStorage,e=Bh();if(t)return t.setItem(e,"1"),t.removeItem(e),vQ()?Dd():!0}catch{return IS()&&Dd()}return!1}function IS(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function w_(){return(pQ()||OO()||BM())&&!gQ()&&zM()&&!IS()}function WM(){return BM()&&typeof document<"u"}async function _Q(){return WM()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},fQ);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function bQ(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or={LOCAL:"local",NONE:"none",SESSION:"session"},Zc=G,HM="persistence";function wQ(t,e){if(Zc(Object.values(or).includes(e),t,"invalid-persistence-type"),eS()){Zc(e!==or.SESSION,t,"unsupported-persistence-type");return}if(Zx()){Zc(e===or.NONE,t,"unsupported-persistence-type");return}if(IS()){Zc(e===or.NONE||e===or.LOCAL&&Dd(),t,"unsupported-persistence-type");return}Zc(e===or.NONE||zM(),t,"unsupported-persistence-type")}async function bb(t){await t._initializationPromise;const e=qM(),n=Qo(HM,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function xQ(t,e){const n=qM();if(!n)return[];const r=Qo(HM,t,e);switch(n.getItem(r)){case or.NONE:return[Kl];case or.LOCAL:return[Bd,la];case or.SESSION:return[la];default:return[]}}function qM(){var t;try{return((t=bQ())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ=G;class ws{constructor(){this.browserResolver=lr(k7),this.cordovaResolver=lr(cQ),this.underlyingResolver=null,this._redirectPersistence=la,this._completeRedirectFn=xy,this._overrideRedirectResult=SS}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return WM()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return SQ(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await _Q();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t){return t.unwrap()}function EQ(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IQ(t){return GM(t)}function TQ(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new RQ(t,eG(t,e))}else if(r){const i=GM(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function GM(t){const{_tokenResponse:e}=t instanceof Dn?t.customData:t;if(!e)return null;if(!(t instanceof Dn)&&"temporaryProof"in e&&"phoneNumber"in e)return ca.credentialFromResult(t);const n=e.providerId;if(!n||n===Jc.PASSWORD)return null;let r;switch(n){case Jc.GOOGLE:r=ei;break;case Jc.FACEBOOK:r=Zr;break;case Jc.GITHUB:r=ti;break;case Jc.TWITTER:r=ni;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Gl._create(n,a):yi._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Rl(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof Dn?r.credentialFromError(t):r.credentialFromResult(t)}function Bn(t,e){return e.catch(n=>{throw n instanceof Dn&&TQ(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:IQ(n),additionalUserInfo:JK(n),user:Sy.getOrCreate(i)}})}async function wb(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Bn(t,n.confirm(r))}}class RQ{constructor(e,n){this.resolver=n,this.auth=EQ(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Bn(KM(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sy=class Tu{constructor(e){this._delegate=e,this.multiFactor=iG(e)}static getOrCreate(e){return Tu.USER_MAP.has(e)||Tu.USER_MAP.set(e,new Tu(e)),Tu.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Bn(this.auth,yM(this._delegate,e))}async linkWithPhoneNumber(e,n){return wb(this.auth,OG(this._delegate,e,n))}async linkWithPopup(e){return Bn(this.auth,zG(this._delegate,e,ws))}async linkWithRedirect(e){return await bb(It(this.auth)),JG(this._delegate,e,ws)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Bn(this.auth,vM(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return wb(this.auth,MG(this._delegate,e,n))}reauthenticateWithPopup(e){return Bn(this.auth,BG(this._delegate,e,ws))}async reauthenticateWithRedirect(e){return await bb(It(this.auth)),YG(this._delegate,e,ws)}sendEmailVerification(e){return zK(this._delegate,e)}async unlink(e){return await NK(this._delegate,e),this}updateEmail(e){return qK(this._delegate,e)}updatePassword(e){return xM(this._delegate,e)}updatePhoneNumber(e){return LG(this._delegate,e)}updateProfile(e){return gS(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return WK(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Sy.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=G;class xb{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;eu(r,"invalid-api-key",{appName:e.name}),eu(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ws:void 0;this._delegate=n.initialize({options:{persistence:CQ(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(w8),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Sy.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){lK(this._delegate,e,n)}applyActionCode(e){return LK(this._delegate,e)}checkActionCode(e){return _M(this._delegate,e)}confirmPasswordReset(e,n){return MK(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Bn(this._delegate,bM(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return BK(this._delegate,e)}isSignInWithEmailLink(e){return jK(this._delegate,e)}async getRedirectResult(){eu(w_(),this._delegate,"operation-not-supported-in-this-environment");const e=await e7(this._delegate,ws);return e?Bn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){uQ(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=q1(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=q1(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return FK(this._delegate,e,n)}sendPasswordResetEmail(e,n){return pS(this._delegate,e,n||void 0)}async setPersistence(e){wQ(this._delegate,e);let n;switch(e){case or.SESSION:n=la;break;case or.LOCAL:n=await lr(Bd)._isAvailable()?Bd:vS;break;case or.NONE:n=Kl;break;default:return gn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Bn(this._delegate,PK(this._delegate))}signInWithCredential(e){return Bn(this._delegate,yy(this._delegate,e))}signInWithCustomToken(e){return Bn(this._delegate,OK(this._delegate,e))}signInWithEmailAndPassword(e,n){return Bn(this._delegate,wM(this._delegate,e,n))}signInWithEmailLink(e,n){return Bn(this._delegate,$K(this._delegate,e,n))}signInWithPhoneNumber(e,n){return wb(this._delegate,DG(this._delegate,e,n))}async signInWithPopup(e){return eu(w_(),this._delegate,"operation-not-supported-in-this-environment"),Bn(this._delegate,UG(this._delegate,e,ws))}async signInWithRedirect(e){return eu(w_(),this._delegate,"operation-not-supported-in-this-environment"),await bb(this._delegate),GG(this._delegate,e,ws)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return VK(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}xb.Persistence=or;function q1(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&Sy.getOrCreate(o)),error:e,complete:n}}function CQ(t,e){const n=xQ(t,e);if(typeof self<"u"&&!n.includes(Bd)&&n.push(Bd),typeof window<"u")for(const r of[vS,la])n.includes(r)||n.push(r);return n.includes(Kl)||n.push(Kl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.providerId="phone",this._delegate=new ca(KM(Dt.auth()))}static credential(e,n){return ca.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}TS.PHONE_SIGN_IN_METHOD=ca.PHONE_SIGN_IN_METHOD;TS.PROVIDER_ID=ca.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kQ=G;class AQ{constructor(e,n,r=Dt.app()){var i;kQ((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new PG(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQ="auth-compat";function NQ(t){t.INTERNAL.registerComponent(new mi(PQ,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new xb(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ba.EMAIL_SIGNIN,PASSWORD_RESET:Ba.PASSWORD_RESET,RECOVER_EMAIL:Ba.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ba.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ba.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ba.VERIFY_EMAIL}},EmailAuthProvider:uo,FacebookAuthProvider:Zr,GithubAuthProvider:ti,GoogleAuthProvider:ei,OAuthProvider:Rl,SAMLAuthProvider:Lg,PhoneAuthProvider:TS,PhoneMultiFactorGenerator:$M,RecaptchaVerifier:AQ,TwitterAuthProvider:ni,Auth:xb,AuthCredential:xc,Error:Dn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(dQ,hQ)}NQ(Dt);var DQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},te,RS=RS||{},we=DQ||self;function Ey(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Wh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function OQ(t){return Object.prototype.hasOwnProperty.call(t,x_)&&t[x_]||(t[x_]=++MQ)}var x_="closure_uid_"+(1e9*Math.random()>>>0),MQ=0;function LQ(t,e,n){return t.call.apply(t.bind,arguments)}function VQ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Sn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Sn=LQ:Sn=VQ,Sn.apply(null,arguments)}function Uf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function en(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ho(){this.s=this.s,this.o=this.o}var FQ=0;ho.prototype.s=!1;ho.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),FQ!=0)&&OQ(this)};ho.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QM=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function CS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function K1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ey(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function En(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}En.prototype.h=function(){this.defaultPrevented=!0};var jQ=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};we.addEventListener("test",n,e),we.removeEventListener("test",n,e)}catch{}return t}();function zd(t){return/^[\s\xa0]*$/.test(t)}function Iy(){var t=we.navigator;return t&&(t=t.userAgent)?t:""}function ri(t){return Iy().indexOf(t)!=-1}function kS(t){return kS[" "](t),t}kS[" "]=function(){};function $Q(t,e){var n=NY;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var UQ=ri("Opera"),Ql=ri("Trident")||ri("MSIE"),YM=ri("Edge"),Sb=YM||Ql,XM=ri("Gecko")&&!(Iy().toLowerCase().indexOf("webkit")!=-1&&!ri("Edge"))&&!(ri("Trident")||ri("MSIE"))&&!ri("Edge"),BQ=Iy().toLowerCase().indexOf("webkit")!=-1&&!ri("Edge");function JM(){var t=we.document;return t?t.documentMode:void 0}var Eb;e:{var S_="",E_=function(){var t=Iy();if(XM)return/rv:([^\);]+)(\)|;)/.exec(t);if(YM)return/Edge\/([\d\.]+)/.exec(t);if(Ql)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(BQ)return/WebKit\/(\S+)/.exec(t);if(UQ)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(E_&&(S_=E_?E_[1]:""),Ql){var I_=JM();if(I_!=null&&I_>parseFloat(S_)){Eb=String(I_);break e}}Eb=S_}var Ib;if(we.document&&Ql){var G1=JM();Ib=G1||parseInt(Eb,10)||void 0}else Ib=void 0;var zQ=Ib;function Wd(t,e){if(En.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(XM){e:{try{kS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:WQ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wd.$.h.call(this)}}en(Wd,En);var WQ={2:"touch",3:"pen",4:"mouse"};Wd.prototype.h=function(){Wd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Hh="closure_listenable_"+(1e6*Math.random()|0),HQ=0;function qQ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++HQ,this.fa=this.ia=!1}function Ty(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function AS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function KQ(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function ZM(t){const e={};for(const n in t)e[n]=t[n];return e}const Q1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eL(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Q1.length;s++)n=Q1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ry(t){this.src=t,this.g={},this.h=0}Ry.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Rb(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new qQ(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Tb(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=QM(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ty(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Rb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var PS="closure_lm_"+(1e6*Math.random()|0),T_={};function tL(t,e,n,r,i){if(r&&r.once)return rL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)tL(t,e[s],n,r,i);return null}return n=OS(n),t&&t[Hh]?t.O(e,n,Wh(r)?!!r.capture:!!r,i):nL(t,e,n,!1,r,i)}function nL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Wh(i)?!!i.capture:!!i,a=DS(t);if(a||(t[PS]=a=new Ry(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=GQ(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)jQ||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(sL(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function GQ(){function t(n){return e.call(t.src,t.listener,n)}const e=QQ;return t}function rL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)rL(t,e[s],n,r,i);return null}return n=OS(n),t&&t[Hh]?t.P(e,n,Wh(r)?!!r.capture:!!r,i):nL(t,e,n,!0,r,i)}function iL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)iL(t,e[s],n,r,i);else r=Wh(r)?!!r.capture:!!r,n=OS(n),t&&t[Hh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Rb(s,n,r,i),-1<n&&(Ty(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=DS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Rb(e,n,r,i)),(n=-1<t?e[t]:null)&&NS(n))}function NS(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Hh])Tb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(sL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=DS(e))?(Tb(n,t),n.h==0&&(n.src=null,e[PS]=null)):Ty(t)}}}function sL(t){return t in T_?T_[t]:T_[t]="on"+t}function QQ(t,e){if(t.fa)t=!0;else{e=new Wd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&NS(t),t=n.call(r,e)}return t}function DS(t){return t=t[PS],t instanceof Ry?t:null}var R_="__closure_events_fn_"+(1e9*Math.random()>>>0);function OS(t){return typeof t=="function"?t:(t[R_]||(t[R_]=function(e){return t.handleEvent(e)}),t[R_])}function Zt(){ho.call(this),this.i=new Ry(this),this.S=this,this.J=null}en(Zt,ho);Zt.prototype[Hh]=!0;Zt.prototype.removeEventListener=function(t,e,n,r){iL(this,t,e,n,r)};function fn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new En(e,t);else if(e instanceof En)e.target=e.target||t;else{var i=e;e=new En(r,t),eL(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Bf(o,r,!0,e)&&i}if(o=e.g=t,i=Bf(o,r,!0,e)&&i,i=Bf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Bf(o,r,!1,e)&&i}Zt.prototype.N=function(){if(Zt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ty(n[r]);delete t.g[e],t.h--}}this.J=null};Zt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Zt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Bf(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Tb(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var MS=we.JSON.stringify;class YQ{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function XQ(){var t=LS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class JQ{constructor(){this.h=this.g=null}add(e,n){const r=oL.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var oL=new YQ(()=>new ZQ,t=>t.reset());class ZQ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function eY(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function tY(t){we.setTimeout(()=>{throw t},0)}let Hd,qd=!1,LS=new JQ,aL=()=>{const t=we.Promise.resolve(void 0);Hd=()=>{t.then(nY)}};var nY=()=>{for(var t;t=XQ();){try{t.h.call(t.g)}catch(n){tY(n)}var e=oL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qd=!1};function Cy(t,e){Zt.call(this),this.h=t||1,this.g=e||we,this.j=Sn(this.qb,this),this.l=Date.now()}en(Cy,Zt);te=Cy.prototype;te.ga=!1;te.T=null;te.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fn(this,"tick"),this.ga&&(VS(this),this.start()))}};te.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function VS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}te.N=function(){Cy.$.N.call(this),VS(this),delete this.g};function FS(t,e,n){if(typeof t=="function")n&&(t=Sn(t,n));else if(t&&typeof t.handleEvent=="function")t=Sn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:we.setTimeout(t,e||0)}function lL(t){t.g=FS(()=>{t.g=null,t.i&&(t.i=!1,lL(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class rY extends ho{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lL(this)}N(){super.N(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kd(t){ho.call(this),this.h=t,this.g={}}en(Kd,ho);var Y1=[];function cL(t,e,n,r){Array.isArray(n)||(n&&(Y1[0]=n.toString()),n=Y1);for(var i=0;i<n.length;i++){var s=tL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function uL(t){AS(t.g,function(e,n){this.g.hasOwnProperty(n)&&NS(e)},t),t.g={}}Kd.prototype.N=function(){Kd.$.N.call(this),uL(this)};Kd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ky(){this.g=!0}ky.prototype.Ea=function(){this.g=!1};function iY(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function sY(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function vl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+aY(t,n)+(r?" "+r:"")})}function oY(t,e){t.info(function(){return"TIMEOUT: "+e})}ky.prototype.info=function(){};function aY(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return MS(n)}catch{return e}}var Aa={},X1=null;function Ay(){return X1=X1||new Zt}Aa.Ta="serverreachability";function dL(t){En.call(this,Aa.Ta,t)}en(dL,En);function Gd(t){const e=Ay();fn(e,new dL(e))}Aa.STAT_EVENT="statevent";function hL(t,e){En.call(this,Aa.STAT_EVENT,t),this.stat=e}en(hL,En);function Pn(t){const e=Ay();fn(e,new hL(e,t))}Aa.Ua="timingevent";function fL(t,e){En.call(this,Aa.Ua,t),this.size=e}en(fL,En);function qh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){t()},e)}var Py={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jS(){}jS.prototype.h=null;function J1(t){return t.h||(t.h=t.i())}function gL(){}var Kh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $S(){En.call(this,"d")}en($S,En);function US(){En.call(this,"c")}en(US,En);var Cb;function Ny(){}en(Ny,jS);Ny.prototype.g=function(){return new XMLHttpRequest};Ny.prototype.i=function(){return{}};Cb=new Ny;function Gh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Kd(this),this.P=lY,t=Sb?125:void 0,this.V=new Cy(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mL}function mL(){this.i=null,this.g="",this.h=!1}var lY=45e3,yL={},kb={};te=Gh.prototype;te.setTimeout=function(t){this.P=t};function Ab(t,e,n){t.L=1,t.A=Oy(Qi(e)),t.u=n,t.S=!0,vL(t,null)}function vL(t,e){t.G=Date.now(),Qh(t),t.B=Qi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),TL(n.i,"t",r),t.o=0,n=t.l.J,t.h=new mL,t.g=KL(t.l,n?e:null,!t.u),0<t.O&&(t.M=new rY(Sn(t.Pa,t,t.g),t.O)),cL(t.U,t.g,"readystatechange",t.nb),e=t.I?ZM(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Gd(),iY(t.j,t.v,t.B,t.m,t.W,t.u)}te.nb=function(t){t=t.target;const e=this.M;e&&si(t)==3?e.l():this.Pa(t)};te.Pa=function(t){try{if(t==this.g)e:{const u=si(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||Sb||this.g&&(this.h.h||this.g.ja()||nR(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Gd(3):Gd(2)),Dy(this);var n=this.g.da();this.ca=n;t:if(_L(this)){var r=nR(this.g);t="";var i=r.length,s=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$o(this),td(this);var o="";break t}this.h.i=new we.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,sY(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zd(a)){var c=a;break t}}c=null}if(n=c)vl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pb(this,n);else{this.i=!1,this.s=3,Pn(12),$o(this),td(this);break e}}this.S?(bL(this,u,o),Sb&&this.i&&u==3&&(cL(this.U,this.V,"tick",this.mb),this.V.start())):(vl(this.j,this.m,o,null),Pb(this,o)),u==4&&$o(this),this.i&&!this.J&&(u==4?zL(this.l,this):(this.i=!1,Qh(this)))}else kY(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Pn(12)):(this.s=0,Pn(13)),$o(this),td(this)}}}catch{}finally{}};function _L(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function bL(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=cY(t,n),i==kb){e==4&&(t.s=4,Pn(14),r=!1),vl(t.j,t.m,null,"[Incomplete Response]");break}else if(i==yL){t.s=4,Pn(15),vl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else vl(t.j,t.m,i,null),Pb(t,i);_L(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Pn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),KS(e),e.M=!0,Pn(11))):(vl(t.j,t.m,n,"[Invalid Chunked Response]"),$o(t),td(t))}te.mb=function(){if(this.g){var t=si(this.g),e=this.g.ja();this.o<e.length&&(Dy(this),bL(this,t,e),this.i&&t!=4&&Qh(this))}};function cY(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?kb:(n=Number(e.substring(n,r)),isNaN(n)?yL:(r+=1,r+n>e.length?kb:(e=e.slice(r,r+n),t.o=r+n,e)))}te.cancel=function(){this.J=!0,$o(this)};function Qh(t){t.Y=Date.now()+t.P,wL(t,t.P)}function wL(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=qh(Sn(t.lb,t),e)}function Dy(t){t.C&&(we.clearTimeout(t.C),t.C=null)}te.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(oY(this.j,this.B),this.L!=2&&(Gd(),Pn(17)),$o(this),this.s=2,td(this)):wL(this,this.Y-t)};function td(t){t.l.H==0||t.J||zL(t.l,t)}function $o(t){Dy(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,VS(t.V),uL(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Pb(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Nb(n.i,t))){if(!t.K&&Nb(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Bg(n),Fy(n);else break e;qS(n),Pn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=qh(Sn(n.ib,n),6e3));if(1>=kL(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Uo(n,11)}else if((t.K||n.g==t)&&Bg(n),!zd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(BS(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,tt(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=qL(r,r.J?r.pa:null,r.Y),o.K){AL(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Dy(a),Qh(a)),r.g=o}else UL(r);0<n.j.length&&jy(n)}else c[0]!="stop"&&c[0]!="close"||Uo(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Uo(n,7):HS(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Gd(4)}catch{}}function uY(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ey(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function dY(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ey(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function xL(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ey(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=dY(t),r=uY(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var SL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hY(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xo){this.h=t.h,$g(this,t.j),this.s=t.s,this.g=t.g,Ug(this,t.m),this.l=t.l;var e=t.i,n=new Qd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Z1(this,n),this.o=t.o}else t&&(e=String(t).match(SL))?(this.h=!1,$g(this,e[1]||"",!0),this.s=Ru(e[2]||""),this.g=Ru(e[3]||"",!0),Ug(this,e[4]),this.l=Ru(e[5]||"",!0),Z1(this,e[6]||"",!0),this.o=Ru(e[7]||"")):(this.h=!1,this.i=new Qd(null,this.h))}Xo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Cu(e,eR,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Cu(e,eR,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Cu(n,n.charAt(0)=="/"?gY:pY,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Cu(n,yY)),t.join("")};function Qi(t){return new Xo(t)}function $g(t,e,n){t.j=n?Ru(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ug(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Z1(t,e,n){e instanceof Qd?(t.i=e,vY(t.i,t.h)):(n||(e=Cu(e,mY)),t.i=new Qd(e,t.h))}function tt(t,e,n){t.i.set(e,n)}function Oy(t){return tt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ru(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,fY),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fY(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var eR=/[#\/\?@]/g,pY=/[#\?:]/g,gY=/[#\?]/g,mY=/[#\?@]/g,yY=/#/g;function Qd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fo(t){t.g||(t.g=new Map,t.h=0,t.i&&hY(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}te=Qd.prototype;te.add=function(t,e){fo(this),this.i=null,t=Ec(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function EL(t,e){fo(t),e=Ec(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function IL(t,e){return fo(t),e=Ec(t,e),t.g.has(e)}te.forEach=function(t,e){fo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};te.ta=function(){fo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};te.Z=function(t){fo(this);let e=[];if(typeof t=="string")IL(this,t)&&(e=e.concat(this.g.get(Ec(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};te.set=function(t,e){return fo(this),this.i=null,t=Ec(this,t),IL(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};te.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function TL(t,e,n){EL(t,e),0<n.length&&(t.i=null,t.g.set(Ec(t,e),CS(n)),t.h+=n.length)}te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ec(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function vY(t,e){e&&!t.j&&(fo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(EL(this,r),TL(this,i,n))},t)),t.j=e}var _Y=class{constructor(t,e){this.g=t,this.map=e}};function RL(t){this.l=t||bY,we.PerformanceNavigationTiming?(t=we.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(we.g&&we.g.Ka&&we.g.Ka()&&we.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bY=10;function CL(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function kL(t){return t.h?1:t.g?t.g.size:0}function Nb(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function BS(t,e){t.g?t.g.add(e):t.h=e}function AL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}RL.prototype.cancel=function(){if(this.i=PL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function PL(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return CS(t.i)}var wY=class{stringify(t){return we.JSON.stringify(t,void 0)}parse(t){return we.JSON.parse(t,void 0)}};function xY(){this.g=new wY}function SY(t,e,n){const r=n||"";try{xL(t,function(i,s){let o=i;Wh(i)&&(o=MS(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function EY(t,e){const n=new ky;if(we.Image){const r=new Image;r.onload=Uf(zf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Uf(zf,n,r,"TestLoadImage: error",!1,e),r.onabort=Uf(zf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Uf(zf,n,r,"TestLoadImage: timeout",!1,e),we.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function zf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function My(t){this.l=t.ec||null,this.j=t.ob||!1}en(My,jS);My.prototype.g=function(){return new Ly(this.l,this.j)};My.prototype.i=function(t){return function(){return t}}({});function Ly(t,e){Zt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=zS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}en(Ly,Zt);var zS=0;te=Ly.prototype;te.open=function(t,e){if(this.readyState!=zS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Yd(this)};te.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||we).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yh(this)),this.readyState=zS};te.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Yd(this)),this.g&&(this.readyState=3,Yd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof we.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;NL(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function NL(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}te.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Yh(this):Yd(this),this.readyState==3&&NL(this)}};te.Za=function(t){this.g&&(this.response=this.responseText=t,Yh(this))};te.Ya=function(t){this.g&&(this.response=t,Yh(this))};te.ka=function(){this.g&&Yh(this)};function Yh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Yd(t)}te.setRequestHeader=function(t,e){this.v.append(t,e)};te.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};te.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Yd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ly.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var IY=we.JSON.parse;function Tt(t){Zt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=DL,this.L=this.M=!1}en(Tt,Zt);var DL="",TY=/^https?$/i,RY=["POST","PUT"];te=Tt.prototype;te.Oa=function(t){this.M=t};te.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Cb.g(),this.C=this.u?J1(this.u):J1(Cb),this.g.onreadystatechange=Sn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){tR(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=we.FormData&&t instanceof we.FormData,!(0<=QM(RY,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{LL(this),0<this.B&&((this.L=CY(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sn(this.ua,this)):this.A=FS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){tR(this,s)}};function CY(t){return Ql&&typeof t.timeout=="number"&&t.ontimeout!==void 0}te.ua=function(){typeof RS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fn(this,"timeout"),this.abort(8))};function tR(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,OL(t),Vy(t)}function OL(t){t.F||(t.F=!0,fn(t,"complete"),fn(t,"error"))}te.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,fn(this,"complete"),fn(this,"abort"),Vy(this))};te.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vy(this,!0)),Tt.$.N.call(this)};te.La=function(){this.s||(this.G||this.v||this.l?ML(this):this.kb())};te.kb=function(){ML(this)};function ML(t){if(t.h&&typeof RS<"u"&&(!t.C[1]||si(t)!=4||t.da()!=2)){if(t.v&&si(t)==4)FS(t.La,0,t);else if(fn(t,"readystatechange"),si(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(SL)[1]||null;!i&&we.self&&we.self.location&&(i=we.self.location.protocol.slice(0,-1)),r=!TY.test(i?i.toLowerCase():"")}n=r}if(n)fn(t,"complete"),fn(t,"success");else{t.m=6;try{var s=2<si(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",OL(t)}}finally{Vy(t)}}}}function Vy(t,e){if(t.g){LL(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||fn(t,"ready");try{n.onreadystatechange=r}catch{}}}function LL(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(we.clearTimeout(t.A),t.A=null)}te.isActive=function(){return!!this.g};function si(t){return t.g?t.g.readyState:0}te.da=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}};te.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};te.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),IY(e)}};function nR(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case DL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function kY(t){const e={};t=(t.g&&2<=si(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(zd(t[r]))continue;var n=eY(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}KQ(e,function(r){return r.join(", ")})}te.Ia=function(){return this.m};te.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function VL(t){let e="";return AS(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function WS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=VL(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):tt(t,e,n))}function tu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function FL(t){this.Ga=0,this.j=[],this.l=new ky,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=tu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=tu("baseRetryDelayMs",5e3,t),this.hb=tu("retryDelaySeedMs",1e4,t),this.eb=tu("forwardChannelMaxRetries",2,t),this.xa=tu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new RL(t&&t.concurrentRequestLimit),this.Ja=new xY,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}te=FL.prototype;te.ra=8;te.H=1;function HS(t){if(jL(t),t.H==3){var e=t.W++,n=Qi(t.I);if(tt(n,"SID",t.K),tt(n,"RID",e),tt(n,"TYPE","terminate"),Xh(t,n),e=new Gh(t,t.l,e),e.L=2,e.A=Oy(Qi(n)),n=!1,we.navigator&&we.navigator.sendBeacon)try{n=we.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&we.Image&&(new Image().src=e.A,n=!0),n||(e.g=KL(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Qh(e)}HL(t)}function Fy(t){t.g&&(KS(t),t.g.cancel(),t.g=null)}function jL(t){Fy(t),t.u&&(we.clearTimeout(t.u),t.u=null),Bg(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&we.clearTimeout(t.m),t.m=null)}function jy(t){if(!CL(t.i)&&!t.m){t.m=!0;var e=t.Na;Hd||aL(),qd||(Hd(),qd=!0),LS.add(e,t),t.C=0}}function AY(t,e){return kL(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=qh(Sn(t.Na,t,e),WL(t,t.C)),t.C++,!0)}te.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Gh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=ZM(s),eL(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=$L(this,i,e),n=Qi(this.I),tt(n,"RID",t),tt(n,"CVER",22),this.F&&tt(n,"X-HTTP-Session-Id",this.F),Xh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(VL(s)))+"&"+e:this.o&&WS(n,this.o,s)),BS(this.i,i),this.bb&&tt(n,"TYPE","init"),this.P?(tt(n,"$req",e),tt(n,"SID","null"),i.aa=!0,Ab(i,n,null)):Ab(i,n,e),this.H=2}}else this.H==3&&(t?rR(this,t):this.j.length==0||CL(this.i)||rR(this))};function rR(t,e){var n;e?n=e.m:n=t.W++;const r=Qi(t.I);tt(r,"SID",t.K),tt(r,"RID",n),tt(r,"AID",t.V),Xh(t,r),t.o&&t.s&&WS(r,t.o,t.s),n=new Gh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=$L(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),BS(t.i,n),Ab(n,r,e)}function Xh(t,e){t.na&&AS(t.na,function(n,r){tt(e,r,n)}),t.h&&xL({},function(n,r){tt(e,r,n)})}function $L(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Sn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{SY(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function UL(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Hd||aL(),qd||(Hd(),qd=!0),LS.add(e,t),t.A=0}}function qS(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=qh(Sn(t.Ma,t),WL(t,t.A)),t.A++,!0)}te.Ma=function(){if(this.u=null,BL(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=qh(Sn(this.jb,this),t)}};te.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pn(10),Fy(this),BL(this))};function KS(t){t.B!=null&&(we.clearTimeout(t.B),t.B=null)}function BL(t){t.g=new Gh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Qi(t.wa);tt(e,"RID","rpc"),tt(e,"SID",t.K),tt(e,"AID",t.V),tt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&tt(e,"TO",t.qa),tt(e,"TYPE","xmlhttp"),Xh(t,e),t.o&&t.s&&WS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Oy(Qi(e)),n.u=null,n.S=!0,vL(n,t)}te.ib=function(){this.v!=null&&(this.v=null,Fy(this),qS(this),Pn(19))};function Bg(t){t.v!=null&&(we.clearTimeout(t.v),t.v=null)}function zL(t,e){var n=null;if(t.g==e){Bg(t),KS(t),t.g=null;var r=2}else if(Nb(t.i,e))n=e.F,AL(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Ay(),fn(r,new fL(r,n)),jy(t)}else UL(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&AY(t,e)||r==2&&qS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Uo(t,5);break;case 4:Uo(t,10);break;case 3:Uo(t,6);break;default:Uo(t,2)}}}function WL(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Uo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Sn(t.pb,t);n||(n=new Xo("//www.google.com/images/cleardot.gif"),we.location&&we.location.protocol=="http"||$g(n,"https"),Oy(n)),EY(n.toString(),r)}else Pn(2);t.H=0,t.h&&t.h.za(e),HL(t),jL(t)}te.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Pn(2)):(this.l.info("Failed to ping google.com"),Pn(1))};function HL(t){if(t.H=0,t.ma=[],t.h){const e=PL(t.i);(e.length!=0||t.j.length!=0)&&(K1(t.ma,e),K1(t.ma,t.j),t.i.i.length=0,CS(t.j),t.j.length=0),t.h.ya()}}function qL(t,e,n){var r=n instanceof Xo?Qi(n):new Xo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ug(r,r.m);else{var i=we.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Xo(null);r&&$g(s,r),e&&(s.g=e),i&&Ug(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&tt(r,n,e),tt(r,"VER",t.ra),Xh(t,r),r}function KL(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Tt(new My({ob:n})):new Tt(t.va),e.Oa(t.J),e}te.isActive=function(){return!!this.h&&this.h.isActive(this)};function GL(){}te=GL.prototype;te.Ba=function(){};te.Aa=function(){};te.za=function(){};te.ya=function(){};te.isActive=function(){return!0};te.Va=function(){};function zg(){if(Ql&&!(10<=Number(zQ)))throw Error("Environmental error: no available transport.")}zg.prototype.g=function(t,e){return new hr(t,e)};function hr(t,e){Zt.call(this),this.g=new FL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!zd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ic(this)}en(hr,Zt);hr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Pn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=qL(t,null,t.Y),jy(t)};hr.prototype.close=function(){HS(this.g)};hr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=MS(t),t=n);e.j.push(new _Y(e.fb++,t)),e.H==3&&jy(e)};hr.prototype.N=function(){this.g.h=null,delete this.j,HS(this.g),delete this.g,hr.$.N.call(this)};function QL(t){$S.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}en(QL,$S);function YL(){US.call(this),this.status=1}en(YL,US);function Ic(t){this.g=t}en(Ic,GL);Ic.prototype.Ba=function(){fn(this.g,"a")};Ic.prototype.Aa=function(t){fn(this.g,new QL(t))};Ic.prototype.za=function(t){fn(this.g,new YL)};Ic.prototype.ya=function(){fn(this.g,"b")};function PY(){this.blockSize=-1}function zr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}en(zr,PY);zr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function C_(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}zr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)C_(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){C_(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){C_(this,r),i=0;break}}this.h=i,this.i+=e};zr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ze(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var NY={};function GS(t){return-128<=t&&128>t?$Q(t,function(e){return new ze([e|0],0>e?-1:0)}):new ze([t|0],0>t?-1:0)}function oi(t){if(isNaN(t)||!isFinite(t))return kl;if(0>t)return ln(oi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Db;return new ze(e,0)}function XL(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ln(XL(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=oi(Math.pow(e,8)),r=kl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=oi(Math.pow(e,s)),r=r.R(s).add(oi(o))):(r=r.R(n),r=r.add(oi(o)))}return r}var Db=4294967296,kl=GS(0),Ob=GS(1),iR=GS(16777216);te=ze.prototype;te.ea=function(){if(xr(this))return-ln(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Db+r)*e,e*=Db}return t};te.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Oi(this))return"0";if(xr(this))return"-"+ln(this).toString(t);for(var e=oi(Math.pow(t,6)),n=this,r="";;){var i=Hg(n,e).g;n=Wg(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Oi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};te.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Oi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function xr(t){return t.h==-1}te.X=function(t){return t=Wg(this,t),xr(t)?-1:Oi(t)?0:1};function ln(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ze(n,~t.h).add(Ob)}te.abs=function(){return xr(this)?ln(this):this};te.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ze(n,n[n.length-1]&-2147483648?-1:0)};function Wg(t,e){return t.add(ln(e))}te.R=function(t){if(Oi(this)||Oi(t))return kl;if(xr(this))return xr(t)?ln(this).R(ln(t)):ln(ln(this).R(t));if(xr(t))return ln(this.R(ln(t)));if(0>this.X(iR)&&0>t.X(iR))return oi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Wf(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Wf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Wf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Wf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ze(n,0)};function Wf(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function nu(t,e){this.g=t,this.h=e}function Hg(t,e){if(Oi(e))throw Error("division by zero");if(Oi(t))return new nu(kl,kl);if(xr(t))return e=Hg(ln(t),e),new nu(ln(e.g),ln(e.h));if(xr(e))return e=Hg(t,ln(e)),new nu(ln(e.g),e.h);if(30<t.g.length){if(xr(t)||xr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ob,r=e;0>=r.X(t);)n=sR(n),r=sR(r);var i=za(n,1),s=za(r,1);for(r=za(r,2),n=za(n,2);!Oi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=za(r,1),n=za(n,1)}return e=Wg(t,i.R(e)),new nu(i,e)}for(i=kl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=oi(n),o=s.R(e);xr(o)||0<o.X(t);)n-=r,s=oi(n),o=s.R(e);Oi(s)&&(s=Ob),i=i.add(s),t=Wg(t,o)}return new nu(i,t)}te.gb=function(t){return Hg(this,t).h};te.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ze(n,this.h&t.h)};te.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ze(n,this.h|t.h)};te.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ze(n,this.h^t.h)};function sR(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ze(n,t.h)}function za(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ze(i,t.h)}zg.prototype.createWebChannel=zg.prototype.g;hr.prototype.send=hr.prototype.u;hr.prototype.open=hr.prototype.m;hr.prototype.close=hr.prototype.close;Py.NO_ERROR=0;Py.TIMEOUT=8;Py.HTTP_ERROR=6;pL.COMPLETE="complete";gL.EventType=Kh;Kh.OPEN="a";Kh.CLOSE="b";Kh.ERROR="c";Kh.MESSAGE="d";Zt.prototype.listen=Zt.prototype.O;Tt.prototype.listenOnce=Tt.prototype.P;Tt.prototype.getLastError=Tt.prototype.Sa;Tt.prototype.getLastErrorCode=Tt.prototype.Ia;Tt.prototype.getStatus=Tt.prototype.da;Tt.prototype.getResponseJson=Tt.prototype.Wa;Tt.prototype.getResponseText=Tt.prototype.ja;Tt.prototype.send=Tt.prototype.ha;Tt.prototype.setWithCredentials=Tt.prototype.Oa;zr.prototype.digest=zr.prototype.l;zr.prototype.reset=zr.prototype.reset;zr.prototype.update=zr.prototype.j;ze.prototype.add=ze.prototype.add;ze.prototype.multiply=ze.prototype.R;ze.prototype.modulo=ze.prototype.gb;ze.prototype.compare=ze.prototype.X;ze.prototype.toNumber=ze.prototype.ea;ze.prototype.toString=ze.prototype.toString;ze.prototype.getBits=ze.prototype.D;ze.fromNumber=oi;ze.fromString=XL;var DY=function(){return new zg},OY=function(){return Ay()},k_=Py,MY=pL,LY=Aa,oR={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Hf=gL,VY=Tt,FY=zr,Al=ze;const aR="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new hy("@firebase/firestore");function Za(){return Ws.logLevel}function jY(t){Ws.setLogLevel(t)}function W(t,...e){if(Ws.logLevel<=Ce.DEBUG){const n=e.map(QS);Ws.debug(`Firestore (${Tc}): ${t}`,...n)}}function Pt(t,...e){if(Ws.logLevel<=Ce.ERROR){const n=e.map(QS);Ws.error(`Firestore (${Tc}): ${t}`,...n)}}function Wr(t,...e){if(Ws.logLevel<=Ce.WARN){const n=e.map(QS);Ws.warn(`Firestore (${Tc}): ${t}`,...n)}}function QS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${Tc}) INTERNAL ASSERTION FAILED: `+t;throw Pt(e),new Error(e)}function ce(t,e){t||se()}function $Y(t,e){t||se()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends Dn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class BY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zY{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Jt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string"),new JL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ce(e===null||typeof e=="string"),new Qt(e)}}class WY{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class HY{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new WY(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qY{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KY{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ce(typeof n.token=="string"),this.R=n.token,new qY(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=GY(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function Yl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function e2(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new at(0,0))}static max(){return new ue(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends Xd{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new z(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const QY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Xd{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return QY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ht(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new z(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new z(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new z(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(ke.fromString(e))}static fromName(e){return new Z(ke.fromString(e).popFirst(5))}static empty(){return new Z(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new ke(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Mb(t){return t.fields.find(e=>e.kind===2)}function Ro(t){return t.fields.filter(e=>e.kind!==2)}qg.UNKNOWN_ID=-1;class Lp{constructor(e,n){this.fieldPath=e,this.kind=n}}class Jd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Jd(0,fr.min())}}function t2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new fr(i,Z.empty(),e)}function n2(t){return new fr(t.readTime,t.key,-1)}class fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fr(ue.min(),Z.empty(),-1)}static max(){return new fr(ue.max(),Z.empty(),-1)}}function YS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==r2)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):N.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):N.reject(n)}static resolve(e){return new N((n,r)=>{n(e)})}static reject(e){return new N((n,r)=>{r(e)})}static waitFor(e){return new N((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=N.resolve(!1);for(const r of e)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new N((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new N((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Jt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new nd(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=XS(r.target.error);this.V.reject(new nd(e,i))}}static open(e,n,r,i){try{return new $y(n,e.transaction(i,r))}catch(s){throw new nd(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(W("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new XY(n)}}class Er{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Er.S(pt())===12.2&&Pt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return W("SimpleDb","Removing database:",e),Po(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Dd())return!1;if(Er.C())return!0;const e=pt(),n=Er.S(e),r=0<n&&n<10,i=Er.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(W("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new nd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new z(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new z(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new nd(e,o))},i.onupgradeneeded=s=>{W("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{W("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=$y.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),N.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(W("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class YY{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Po(this.k.delete())}}class nd extends z{constructor(e,n){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function go(t){return t.name==="IndexedDbTransactionError"}class XY{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(W("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(W("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Po(r)}add(e){return W("SimpleDb","ADD",this.store.name,e,e),Po(this.store.add(e))}get(e){return Po(this.store.get(e)).next(n=>(n===void 0&&(n=null),W("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return W("SimpleDb","DELETE",this.store.name,e),Po(this.store.delete(e))}count(){return W("SimpleDb","COUNT",this.store.name),Po(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new N((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new N((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){W("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new N((r,i)=>{n.onerror=s=>{const o=XS(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new N((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new YY(a),c=n(a.primaryKey,a.value,l);if(c instanceof N){const u=c.catch(d=>(l.done(),N.reject(d)));r.push(u)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>N.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Po(t){return new N((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=XS(r.target.error);n(i)}})}let lR=!1;function XS(t){const e=Er.S(pt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new z("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lR||(lR=!0,setTimeout(()=>{throw r},0)),r}}return t}class JY{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){W("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{W("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(n){go(n)?W("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await po(n)}await this.ee(6e4)})}}class ZY{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return N.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return W("IndexBackfiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(W("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=n2(s);YS(o,r)>0&&(r=o)}),new fr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Kn._e=-1;function Jh(t){return t==null}function Zd(t){return t===0&&1/t==-1/0}function s2(t){return typeof t=="number"&&Number.isInteger(t)&&!Zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=cR(e)),e=eX(t.get(n),e);return cR(e)}function eX(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function cR(t){return t+""}function ai(t){const e=t.length;if(ce(e>=2),e===2)return ce(t.charAt(0)===""&&t.charAt(1)===""),ke.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&se(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:se()}s=o+2}return new ke(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t,e){return[t,On(e)]}function o2(t,e,n){return[t,On(e),n]}const tX={},nX=["prefixPath","collectionGroup","readTime","documentId"],rX=["prefixPath","collectionGroup","documentId"],iX=["collectionGroup","readTime","prefixPath","documentId"],sX=["canonicalId","targetId"],oX=["targetId","path"],aX=["path","targetId"],lX=["collectionId","parent"],cX=["indexId","uid"],uX=["uid","sequenceNumber"],dX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hX=["indexId","uid","orderedDocumentKey"],fX=["userId","collectionPath","documentId"],pX=["userId","collectionPath","largestBatchId"],gX=["userId","collectionGroup","largestBatchId"],a2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mX=[...a2,"documentOverlays"],l2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],c2=l2,yX=[...c2,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb extends i2{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function tn(t,e){const n=ee(t);return Er.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function u2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qf(this.root,e,this.comparator,!1)}getReverseIterator(){return new qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qf(this.root,e,this.comparator,!0)}}class qf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??on.RED,this.left=i??on.EMPTY,this.right=s??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new on(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return on.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hR(this.data.getIterator())}getIteratorFrom(e){return new hR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new He(this.comparator);return n.data=e,n}}class hR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wa(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new He(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new d2("Invalid base64 string: "+s):s}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const _X=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(t){if(ce(!!t),typeof t=="string"){let e=0;const n=_X.exec(t);if(ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function JS(t){const e=t.mapValue.fields.__previous_value__;return Uy(e)?JS(e):e}function eh(t){const e=Hs(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bX{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ks{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ks("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ks&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fp={nullValue:"NULL_VALUE"};function da(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uy(t)?4:h2(t)?9007199254740991:10:se()}function vi(t,e){if(t===e)return!0;const n=da(t);if(n!==da(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eh(t).isEqual(eh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Hs(i.timestampValue),a=Hs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qs(i.bytesValue).isEqual(qs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return wt(i.geoPointValue.latitude)===wt(s.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return wt(i.integerValue)===wt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=wt(i.doubleValue),a=wt(s.doubleValue);return o===a?Zd(o)===Zd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Yl(t.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(dR(o)!==dR(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!vi(o[l],a[l])))return!1;return!0}(t,e);default:return se()}}function th(t,e){return(t.values||[]).find(n=>vi(n,e))!==void 0}function Gs(t,e){if(t===e)return 0;const n=da(t),r=da(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=wt(s.integerValue||s.doubleValue),l=wt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return fR(t.timestampValue,e.timestampValue);case 4:return fR(eh(t),eh(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=qs(s),l=qs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=xe(a[c],l[c]);if(u!==0)return u}return xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=xe(wt(s.latitude),wt(o.latitude));return a!==0?a:xe(wt(s.longitude),wt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Gs(a[c],l[c]);if(u)return u}return xe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===xs.mapValue&&o===xs.mapValue)return 0;if(s===xs.mapValue)return 1;if(o===xs.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=xe(l[d],u[d]);if(h!==0)return h;const f=Gs(a[l[d]],c[u[d]]);if(f!==0)return f}return xe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw se()}}function fR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=Hs(t),r=Hs(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function Xl(t){return Vb(t)}function Vb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Vb(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Vb(n.fields[o])}`;return i+"}"}(t.mapValue):se()}function ha(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fb(t){return!!t&&"integerValue"in t}function nh(t){return!!t&&"arrayValue"in t}function pR(t){return!!t&&"nullValue"in t}function gR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jp(t){return!!t&&"mapValue"in t}function rd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Pa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function h2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function wX(t){return"nullValue"in t?Fp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ha(Ks.empty(),Z.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:se()}function xX(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ha(Ks.empty(),Z.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?xs:se()}function mR(t,e){const n=Gs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function yR(t,e){const n=Gs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rd(n)}setAll(e){let n=ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=rd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Pa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new cn(rd(this.value))}}function f2(t){const e=[];return Pa(t.fields,(n,r)=>{const i=new ht([n]);if(jp(r)){const s=f2(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new nt(e,0,ue.min(),ue.min(),ue.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new nt(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new nt(e,2,n,ue.min(),ue.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new nt(e,3,n,ue.min(),ue.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.position=e,this.inclusive=n}}function vR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Gs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _R(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n="asc"){this.field=e,this.dir=n}}function SX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{}class Ae extends p2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EX(e,n,r):n==="array-contains"?new RX(e,r):n==="in"?new b2(e,r):n==="not-in"?new CX(e,r):n==="array-contains-any"?new kX(e,r):new Ae(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new IX(e,r):new TX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gs(n,this.value)):n!==null&&da(this.value)===da(n)&&this.matchesComparison(Gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ue extends p2{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ue(e,n)}matches(e){return Jl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Jl(t){return t.op==="and"}function jb(t){return t.op==="or"}function ZS(t){return g2(t)&&Jl(t)}function g2(t){for(const e of t.filters)if(e instanceof Ue)return!1;return!0}function $b(t){if(t instanceof Ae)return t.field.canonicalString()+t.op.toString()+Xl(t.value);if(ZS(t))return t.filters.map(e=>$b(e)).join(",");{const e=t.filters.map(n=>$b(n)).join(",");return`${t.op}(${e})`}}function m2(t,e){return t instanceof Ae?function(r,i){return i instanceof Ae&&r.op===i.op&&r.field.isEqual(i.field)&&vi(r.value,i.value)}(t,e):t instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&m2(o,i.filters[a]),!0):!1}(t,e):void se()}function y2(t,e){const n=t.filters.concat(e);return Ue.create(n,t.op)}function v2(t){return t instanceof Ae?function(n){return`${n.field.canonicalString()} ${n.op} ${Xl(n.value)}`}(t):t instanceof Ue?function(n){return n.op.toString()+" {"+n.getFilters().map(v2).join(" ,")+"}"}(t):"Filter"}class EX extends Ae{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class IX extends Ae{constructor(e,n){super(e,"in",n),this.keys=_2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class TX extends Ae{constructor(e,n){super(e,"not-in",n),this.keys=_2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class RX extends Ae{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nh(n)&&th(n.arrayValue,this.value)}}class b2 extends Ae{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&th(this.value.arrayValue,n)}}class CX extends Ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!th(this.value.arrayValue,n)}}class kX extends Ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>th(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function Ub(t,e=null,n=[],r=[],i=null,s=null,o=null){return new AX(t,e,n,r,i,s,o)}function fa(t){const e=ee(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$b(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xl(r)).join(",")),e.ce=n}return e.ce}function Zh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!m2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_R(t.startAt,e.startAt)&&_R(t.endAt,e.endAt)}function Kg(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Gg(t,e){return t.filters.filter(n=>n instanceof Ae&&n.field.isEqual(e))}function bR(t,e,n){let r=Fp,i=!0;for(const s of Gg(t,e)){let o=Fp,a=!0;switch(s.op){case"<":case"<=":o=wX(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Fp}mR({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];mR({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function wR(t,e,n){let r=xs,i=!0;for(const s of Gg(t,e)){let o=xs,a=!0;switch(s.op){case">=":case">":o=xX(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=xs}yR({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];yR({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function w2(t,e,n,r,i,s,o,a){return new ts(t,e,n,r,i,s,o,a)}function Rc(t){return new ts(t)}function xR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eE(t){return t.collectionGroup!==null}function Pl(t){const e=ee(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new He(ht.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new rh(s,r))}),n.has(ht.keyField().canonicalString())||e.le.push(new rh(ht.keyField(),r))}return e.le}function Mn(t){const e=ee(t);return e.he||(e.he=PX(e,Pl(t))),e.he}function PX(t,e){if(t.limitType==="F")return Ub(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new rh(i.field,s)});const n=t.endAt?new Qs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qs(t.startAt.position,t.startAt.inclusive):null;return Ub(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bb(t,e){const n=t.filters.concat([e]);return new ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qg(t,e,n){return new ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ef(t,e){return Zh(Mn(t),Mn(e))&&t.limitType===e.limitType}function x2(t){return`${fa(Mn(t))}|lt:${t.limitType}`}function el(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>v2(i)).join(", ")}]`),Jh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xl(i)).join(",")),`Target(${r})`}(Mn(t))}; limitType=${t.limitType})`}function tf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Pl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=vR(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Pl(r),i)||r.endAt&&!function(o,a,l){const c=vR(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Pl(r),i))}(t,e)}function S2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function E2(t){return(e,n)=>{let r=!1;for(const i of Pl(t)){const s=NX(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function NX(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Gs(l,c):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return u2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DX=new Je(Z.comparator);function Qn(){return DX}const I2=new Je(Z.comparator);function ku(...t){let e=I2;for(const n of t)e=e.insert(n.key,n);return e}function T2(t){let e=I2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function li(){return id()}function R2(){return id()}function id(){return new mo(t=>t.toString(),(t,e)=>t.isEqual(e))}const OX=new Je(Z.comparator),MX=new He(Z.comparator);function Ie(...t){let e=MX;for(const n of t)e=e.add(n);return e}const LX=new He(xe);function tE(){return LX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function k2(t){return{integerValue:""+t}}function A2(t,e){return s2(e)?k2(e):C2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this._=void 0}}function VX(t,e,n){return t instanceof Zl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Uy(s)&&(s=JS(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof pa?N2(t,e):t instanceof ga?D2(t,e):function(i,s){const o=P2(i,s),a=SR(o)+SR(i.Ie);return Fb(o)&&Fb(i.Ie)?k2(a):C2(i.serializer,a)}(t,e)}function FX(t,e,n){return t instanceof pa?N2(t,e):t instanceof ga?D2(t,e):n}function P2(t,e){return t instanceof ec?function(r){return Fb(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Zl extends By{}class pa extends By{constructor(e){super(),this.elements=e}}function N2(t,e){const n=O2(e);for(const r of t.elements)n.some(i=>vi(i,r))||n.push(r);return{arrayValue:{values:n}}}class ga extends By{constructor(e){super(),this.elements=e}}function D2(t,e){let n=O2(e);for(const r of t.elements)n=n.filter(i=>!vi(i,r));return{arrayValue:{values:n}}}class ec extends By{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function SR(t){return wt(t.integerValue||t.doubleValue)}function O2(t){return nh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.field=e,this.transform=n}}function jX(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof pa&&i instanceof pa||r instanceof ga&&i instanceof ga?Yl(r.elements,i.elements,vi):r instanceof ec&&i instanceof ec?vi(r.Ie,i.Ie):r instanceof Zl&&i instanceof Zl}(t.transform,e.transform)}class $X{constructor(e,n){this.version=e,this.transformResults=n}}class ft{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ft}static exists(e){return new ft(void 0,e)}static updateTime(e){return new ft(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $p(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zy{}function M2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kc(t.key,ft.none()):new Cc(t.key,t.data,ft.none());{const n=t.data,r=cn.empty();let i=new He(ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ns(t.key,r,new Gn(i.toArray()),ft.none())}}function UX(t,e,n){t instanceof Cc?function(i,s,o){const a=i.value.clone(),l=IR(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ns?function(i,s,o){if(!$p(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=IR(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(L2(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function sd(t,e,n,r){return t instanceof Cc?function(s,o,a,l){if(!$p(s.precondition,o))return a;const c=s.value.clone(),u=TR(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ns?function(s,o,a,l){if(!$p(s.precondition,o))return a;const c=TR(s.fieldTransforms,l,o),u=o.data;return u.setAll(L2(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return $p(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function BX(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=P2(r.transform,i||null);s!=null&&(n===null&&(n=cn.empty()),n.set(r.field,s))}return n||null}function ER(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yl(r,i,(s,o)=>jX(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cc extends zy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ns extends zy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function L2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function IR(t,e,n){const r=new Map;ce(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,FX(o,a,n[i]))}return r}function TR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,VX(s,o,e))}return r}class kc extends zy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nE extends zy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&UX(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=R2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=M2(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Yl(this.mutations,e.mutations,(n,r)=>ER(n,r))&&Yl(this.baseMutations,e.baseMutations,(n,r)=>ER(n,r))}}class iE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ce(e.mutations.length===r.length);let i=function(){return OX}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new iE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zX{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,De;function V2(t){switch(t){default:return se();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function F2(t){if(t===void 0)return Pt("GRPC error has no .code"),L.UNKNOWN;switch(t){case Mt.OK:return L.OK;case Mt.CANCELLED:return L.CANCELLED;case Mt.UNKNOWN:return L.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return L.INTERNAL;case Mt.UNAVAILABLE:return L.UNAVAILABLE;case Mt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Mt.NOT_FOUND:return L.NOT_FOUND;case Mt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Mt.ABORTED:return L.ABORTED;case Mt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Mt.DATA_LOSS:return L.DATA_LOSS;default:return se()}}(De=Mt||(Mt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WX=new Al([4294967295,4294967295],0);function RR(t){const e=j2().encode(t),n=new FY;return n.update(e),new Uint8Array(n.digest())}function CR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Al([n,r],0),new Al([i,s],0)]}class oE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Au(`Invalid padding: ${n}`);if(r<0)throw new Au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Au(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Au(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Al.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Al.fromNumber(r)));return i.compare(WX)===1&&(i=new Al([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=RR(e),[r,i]=CR(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new oE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=RR(e),[r,i]=CR(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rf(ue.min(),i,new Je(xe),Qn(),Ie())}}class sf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sf(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class $2{constructor(e,n){this.targetId=e,this.fe=n}}class U2{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kR{constructor(){this.ge=0,this.pe=PR(),this.ye=Ht.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new sf(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=PR()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ce(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class HX{constructor(e){this.Be=e,this.ke=new Map,this.qe=Qn(),this.Qe=AR(),this.Ke=new Je(xe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Kg(s))if(r===0){const o=new Z(s.path);this.We(n,o,nt.newNoDocument(o,ue.min()))}else ce(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=qs(r).toUint8Array()}catch(l){if(l instanceof d2)return Wr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new oE(o,i,s)}catch(l){return Wr(l instanceof Au?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Kg(a.target)){const l=new Z(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,nt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Ie();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new rf(e,n,this.Ke,this.qe,r);return this.qe=Qn(),this.Qe=AR(),this.Ke=new Je(xe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new kR,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new He(xe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new kR),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function AR(){return new Je(Z.comparator)}function PR(){return new Je(Z.comparator)}const qX={asc:"ASCENDING",desc:"DESCENDING"},KX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GX={and:"AND",or:"OR"};class QX{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zb(t,e){return t.useProto3Json||Jh(e)?e:{value:e}}function tc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YX(t,e){return tc(t,e.toTimestamp())}function Ot(t){return ce(!!t),ue.fromTimestamp(function(n){const r=Hs(n);return new at(r.seconds,r.nanos)}(t))}function aE(t,e){return Wb(t,e).canonicalString()}function Wb(t,e){const n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function z2(t){const e=ke.fromString(t);return ce(Z2(e)),e}function ih(t,e){return aE(t.databaseId,e.path)}function fi(t,e){const n=z2(e);if(n.get(1)!==t.databaseId.projectId)throw new z(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(q2(n))}function W2(t,e){return aE(t.databaseId,e)}function H2(t){const e=z2(t);return e.length===4?ke.emptyPath():q2(e)}function Hb(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function q2(t){return ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function NR(t,e,n){return{name:ih(t,e),fields:n.value.mapValue.fields}}function K2(t,e,n){const r=fi(t,e.name),i=Ot(e.updateTime),s=e.createTime?Ot(e.createTime):ue.min(),o=new cn({mapValue:{fields:e.fields}}),a=nt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function XX(t,e){return"found"in e?function(r,i){ce(!!i.found),i.found.name,i.found.updateTime;const s=fi(r,i.found.name),o=Ot(i.found.updateTime),a=i.found.createTime?Ot(i.found.createTime):ue.min(),l=new cn({mapValue:{fields:i.found.fields}});return nt.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){ce(!!i.missing),ce(!!i.readTime);const s=fi(r,i.missing),o=Ot(i.readTime);return nt.newNoDocument(s,o)}(t,e):se()}function JX(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(ce(u===void 0||typeof u=="string"),Ht.fromBase64String(u||"")):(ce(u===void 0||u instanceof Uint8Array),Ht.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?L.UNKNOWN:F2(c.code);return new z(u,c.message||"")}(o);n=new U2(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fi(t,r.document.name),s=Ot(r.document.updateTime),o=r.document.createTime?Ot(r.document.createTime):ue.min(),a=new cn({mapValue:{fields:r.document.fields}}),l=nt.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Up(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fi(t,r.document),s=r.readTime?Ot(r.readTime):ue.min(),o=nt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Up([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fi(t,r.document),s=r.removedTargetIds||[];n=new Up([],s,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new zX(i,s),a=r.targetId;n=new $2(a,o)}}return n}function sh(t,e){let n;if(e instanceof Cc)n={update:NR(t,e.key,e.value)};else if(e instanceof kc)n={delete:ih(t,e.key)};else if(e instanceof ns)n={update:NR(t,e.key,e.data),updateMask:iJ(e.fieldMask)};else{if(!(e instanceof nE))return se();n={verify:ih(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Zl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ga)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ec)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:YX(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se()}(t,e.precondition)),n}function qb(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?ft.updateTime(Ot(s.updateTime)):s.exists!==void 0?ft.exists(s.exists):ft.none()}(e.currentDocument):ft.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)ce(a.setToServerValue==="REQUEST_TIME"),l=new Zl;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new pa(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new ga(u)}else"increment"in a?l=new ec(o,a.increment):se();const c=ht.fromServerFormat(a.fieldPath);return new nf(c,l)}(t,i)):[];if(e.update){e.update.name;const i=fi(t,e.update.name),s=new cn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new Gn(c.map(u=>ht.fromServerFormat(u)))}(e.updateMask);return new ns(i,s,o,n,r)}return new Cc(i,s,n,r)}if(e.delete){const i=fi(t,e.delete);return new kc(i,n)}if(e.verify){const i=fi(t,e.verify);return new nE(i,n)}return se()}function ZX(t,e){return t&&t.length>0?(ce(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ot(i.updateTime):Ot(s);return o.isEqual(ue.min())&&(o=Ot(s)),new $X(o,i.transformResults||[])}(n,e))):[]}function G2(t,e){return{documents:[W2(t,e.path)]}}function Q2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=W2(t,i);const s=function(c){if(c.length!==0)return J2(Ue.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:tl(h.field),direction:tJ(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=zb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function Y2(t){let e=H2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ce(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const h=X2(d);return h instanceof Ue&&ZS(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new rh(nl(g.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Jh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Qs(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,f=d.values||[];return new Qs(f,h)}(n.endAt)),w2(e,i,o,s,a,"F",l,c)}function eJ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function X2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=nl(n.unaryFilter.field);return Ae.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=nl(n.unaryFilter.field);return Ae.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=nl(n.unaryFilter.field);return Ae.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=nl(n.unaryFilter.field);return Ae.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return Ae.create(nl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ue.create(n.compositeFilter.filters.map(r=>X2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function tJ(t){return qX[t]}function nJ(t){return KX[t]}function rJ(t){return GX[t]}function tl(t){return{fieldPath:t.canonicalString()}}function nl(t){return ht.fromServerFormat(t.fieldPath)}function J2(t){return t instanceof Ae?function(n){if(n.op==="=="){if(gR(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NAN"}};if(pR(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gR(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NAN"}};if(pR(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(n.field),op:nJ(n.op),value:n.value}}}(t):t instanceof Ue?function(n){const r=n.getFilters().map(i=>J2(i));return r.length===1?r[0]:{compositeFilter:{op:rJ(n.op),filters:r}}}(t):se()}function iJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Z2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r,i,s=ue.min(),o=ue.min(),a=Ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.ct=e}}function sJ(t,e){let n;if(e.document)n=K2(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Z.fromSegments(e.noDocument.path),i=ya(e.noDocument.readTime);n=nt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return se();{const r=Z.fromSegments(e.unknownDocument.path),i=ya(e.unknownDocument.version);n=nt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new at(i[0],i[1]);return ue.fromTimestamp(s)}(e.readTime)),n}function DR(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Yg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:ih(s,o.key),fields:o.data.value.mapValue.fields,updateTime:tc(s,o.version.toTimestamp()),createTime:tc(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ma(e.version)};else{if(!e.isUnknownDocument())return se();r.unknownDocument={path:n.path.toArray(),version:ma(e.version)}}return r}function Yg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ma(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ya(t){const e=new at(t.seconds,t.nanoseconds);return ue.fromTimestamp(e)}function No(t,e){const n=(e.baseMutations||[]).map(s=>qb(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>qb(t.ct,s)),i=at.fromMillis(e.localWriteTimeMs);return new rE(e.batchId,i,n,r)}function Pu(t){const e=ya(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ya(t.lastLimboFreeSnapshotVersion):ue.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return ce(s.documents.length===1),Mn(Rc(H2(s.documents[0])))}(t.query):function(s){return Mn(Y2(s))}(t.query),new Mi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ht.fromBase64String(t.resumeToken))}function tV(t,e){const n=ma(e.snapshotVersion),r=ma(e.lastLimboFreeSnapshotVersion);let i;i=Kg(e.target)?G2(t.ct,e.target):Q2(t.ct,e.target).ut;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fa(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function lE(t){const e=Y2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qg(e,e.limit,"L"):e}function A_(t,e){return new sE(e.largestBatchId,qb(t.ct,e.overlayMutation))}function OR(t,e){const n=e.path.lastSegment();return[t,On(e.path.popLast()),n]}function MR(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:ma(r.readTime),documentKey:On(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oJ{getBundleMetadata(e,n){return LR(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:ya(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return LR(e).put(function(i){return{bundleId:i.id,createTime:ma(Ot(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return VR(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:lE(s.bundledQuery),readTime:ya(s.readTime)}}(r)})}saveNamedQuery(e,n){return VR(e).put(function(i){return{name:i.name,readTime:ma(Ot(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function LR(t){return tn(t,"bundles")}function VR(t){return tn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Wy(e,r)}getOverlay(e,n){return ru(e).get(OR(this.userId,n)).next(r=>r?A_(this.serializer,r):null)}getOverlays(e,n){const r=li();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new sE(n,o);i.push(this.ht(e,a))}),N.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(On(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(ru(e).H("collectionPathOverlayIndex",a))}),N.waitFor(s)}getOverlaysForCollection(e,n,r){const i=li(),s=On(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return ru(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=A_(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=li();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ru(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=A_(this.serializer,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}ht(e,n){return ru(e).put(function(i,s,o){const[a,l,c]=OR(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:sh(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function ru(t){return tn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(wt(e.integerValue));else if("doubleValue"in e){const r=wt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Zd(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(qs(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?h2(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):se()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Z.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}Do.bt=new Do;function aJ(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function FR(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=aJ(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class lJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=FR(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=FR(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class cJ{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class uJ{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class iu{constructor(){this.Gt=new lJ,this.zt=new cJ(this.Gt),this.jt=new uJ(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Oo(this.indexId,this.documentKey,this.arrayValue,r)}}function ls(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=jR(t.arrayValue,e.arrayValue),n!==0?n:(n=jR(t.directionalValue,e.directionalValue),n!==0?n:Z.comparator(t.documentKey,e.documentKey)))}function jR(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.Yt=new He((n,r)=>ht.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(ce(e.collectionGroup===this.collectionId),this.en)return!1;const n=Mb(e);if(n!==void 0&&!this.nn(n))return!1;const r=Ro(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new He(ht.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Lp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Lp(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Lp(r.field,r.dir==="asc"?0:1)));return new qg(qg.UNKNOWN_ID,this.collectionId,n,Jd.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){var e,n;if(ce(t instanceof Ae||t instanceof Ue),t instanceof Ae){if(t instanceof b2){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ae.create(t.field,"==",s)))||[];return Ue.create(i,"or")}return t}const r=t.filters.map(i=>nV(i));return Ue.create(r,t.op)}function dJ(t){if(t.getFilters().length===0)return[];const e=Qb(nV(t));return ce(rV(e)),Kb(e)||Gb(e)?[e]:e.getFilters()}function Kb(t){return t instanceof Ae}function Gb(t){return t instanceof Ue&&ZS(t)}function rV(t){return Kb(t)||Gb(t)||function(n){if(n instanceof Ue&&jb(n)){for(const r of n.getFilters())if(!Kb(r)&&!Gb(r))return!1;return!0}return!1}(t)}function Qb(t){if(ce(t instanceof Ae||t instanceof Ue),t instanceof Ae)return t;if(t.filters.length===1)return Qb(t.filters[0]);const e=t.filters.map(r=>Qb(r));let n=Ue.create(e,t.op);return n=Xg(n),rV(n)?n:(ce(n instanceof Ue),ce(Jl(n)),ce(n.filters.length>1),n.filters.reduce((r,i)=>cE(r,i)))}function cE(t,e){let n;return ce(t instanceof Ae||t instanceof Ue),ce(e instanceof Ae||e instanceof Ue),n=t instanceof Ae?e instanceof Ae?function(i,s){return Ue.create([i,s],"and")}(t,e):UR(t,e):e instanceof Ae?UR(e,t):function(i,s){if(ce(i.filters.length>0&&s.filters.length>0),Jl(i)&&Jl(s))return y2(i,s.getFilters());const o=jb(i)?i:s,a=jb(i)?s:i,l=o.filters.map(c=>cE(c,a));return Ue.create(l,"or")}(t,e),Xg(n)}function UR(t,e){if(Jl(e))return y2(e,t.getFilters());{const n=e.filters.map(r=>cE(t,r));return Ue.create(n,"or")}}function Xg(t){if(ce(t instanceof Ae||t instanceof Ue),t instanceof Ae)return t;const e=t.getFilters();if(e.length===1)return Xg(e[0]);if(g2(t))return t;const n=e.map(i=>Xg(i)),r=[];return n.forEach(i=>{i instanceof Ae?r.push(i):i instanceof Ue&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ue.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hJ{constructor(){this._n=new uE}addToCollectionParentIndex(e,n){return this._n.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(fr.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}}class uE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new He(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Uint8Array(0);class fJ{constructor(e,n){this.databaseId=n,this.an=new uE,this.un=new mo(r=>fa(r),(r,i)=>Zh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:On(i)};return BR(e).put(s)}return N.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[e2(n),""],!1,!0);return BR(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(ai(o.parent))}return r})}addFieldIndex(e,n){const r=su(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=qa(e);return s.next(a=>{o.put(MR(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=su(e),i=qa(e),s=Ha(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=su(e),r=Ha(e),i=qa(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return N.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new $R(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Ha(e);let i=!0;const s=new Map;return N.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Ie();const a=[];return N.forEach(s,(l,c)=>{W("IndexedDbIndexManager",`Using index ${function(b){return`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`}(l)} to execute ${fa(n)}`);const u=function(b,w){const x=Mb(w);if(x===void 0)return null;for(const I of Gg(b,x.fieldPath))switch(I.op){case"array-contains-any":return I.value.arrayValue.values||[];case"array-contains":return[I.value]}return null}(c,l),d=function(b,w){const x=new Map;for(const I of Ro(w))for(const T of Gg(b,I.fieldPath))switch(T.op){case"==":case"in":x.set(I.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return x.set(I.fieldPath.canonicalString(),T.value),Array.from(x.values())}return null}(c,l),h=function(b,w){const x=[];let I=!0;for(const T of Ro(w)){const E=T.kind===0?bR(b,T.fieldPath,b.startAt):wR(b,T.fieldPath,b.startAt);x.push(E.value),I&&(I=E.inclusive)}return new Qs(x,I)}(c,l),f=function(b,w){const x=[];let I=!0;for(const T of Ro(w)){const E=T.kind===0?wR(b,T.fieldPath,b.endAt):bR(b,T.fieldPath,b.endAt);x.push(E.value),I&&(I=E.inclusive)}return new Qs(x,I)}(c,l),g=this.hn(l,c,h),m=this.hn(l,c,f),_=this.Pn(l,c,d),v=this.In(l.indexId,u,g,h.inclusive,m,f.inclusive,_);return N.forEach(v,y=>r.j(y,n.limit).next(b=>{b.forEach(w=>{const x=Z.fromSegments(w.documentKey);o.has(x)||(o=o.add(x),a.push(x))})}))}).next(()=>a)}return N.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=dJ(Ue.create(e.filters,"and")).map(r=>Ub(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const h=n?this.Tn(n[d/c]):Kf,f=this.En(e,h,r[d%c],i),g=this.dn(e,h,s[d%c],o),m=a.map(_=>this.En(e,h,_,!0));u.push(...this.createRange(f,g,m))}return u}En(e,n,r,i){const s=new Oo(e,Z.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new Oo(e,Z.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new $R(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return N.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new He(ht.comparator),u=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new iu;for(const i of Ro(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);Do.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new iu;return Do.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new iu;return Do.bt.Pt(ha(this.databaseId,n),r.Ht(function(s){const o=Ro(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new iu);let s=0;for(const o of Ro(e)){const a=r[s++];for(const l of i)if(this.Vn(n,o.fieldPath)&&nh(a))i=this.mn(i,o,a);else{const c=l.Ht(o.kind);Do.bt.Pt(a,c)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new iu;l.seed(a.Wt()),Do.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof Ae&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=su(e),i=qa(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return N.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,d){const h=d?new Jd(d.sequenceNumber,new fr(ya(d.readTime),new Z(ai(d.documentKey)),d.largestBatchId)):Jd.empty(),f=u.fields.map(([g,m])=>new Lp(ht.fromServerFormat(g),m));return new qg(u.indexId,u.collectionGroup,f,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:xe(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=su(e),s=qa(e);return this.gn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>N.forEach(a,l=>s.put(MR(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return N.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?N.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),N.forEach(a,l=>this.pn(e,i,l).next(c=>{const u=this.yn(s,l);return c.isEqual(u)?N.resolve():this.wn(e,s,l,c,u)}))))})}Sn(e,n,r,i){return Ha(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Ha(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=Ha(e);let s=new He(ls);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Oo(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new He(ls);const i=this.An(n,e);if(i==null)return r;const s=Mb(n);if(s!=null){const o=e.data.field(s.fieldPath);if(nh(o))for(const a of o.arrayValue.values||[])r=r.add(new Oo(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Oo(n.indexId,e.key,Kf,i));return r}wn(e,n,r,i,s){W("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,u,d,h){const f=l.getIterator(),g=c.getIterator();let m=Wa(f),_=Wa(g);for(;m||_;){let v=!1,y=!1;if(m&&_){const b=u(m,_);b<0?y=!0:b>0&&(v=!0)}else m!=null?y=!0:v=!0;v?(d(_),_=Wa(g)):y?(h(m),m=Wa(f)):(m=Wa(f),_=Wa(g))}}(i,s,ls,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),N.waitFor(o)}gn(e){let n=1;return qa(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>ls(o,a)).filter((o,a,l)=>!a||ls(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=ls(o,e),l=ls(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(o),i.push(o.Jt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Kf,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Kf,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return ls(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(zR)}getMinOffset(e,n){return N.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||se())).next(zR)}}function BR(t){return tn(t,"collectionParents")}function Ha(t){return tn(t,"indexEntries")}function su(t){return tn(t,"indexConfiguration")}function qa(t){return tn(t,"indexState")}function zR(t){ce(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;YS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new fr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(u,d,h)=>(a++,h.delete()));s.push(l.next(()=>{ce(a===1)}));const c=[];for(const u of n.mutations){const d=o2(e,u.key.path,n.batchId);s.push(i.delete(d)),c.push(u.key)}return N.waitFor(s).next(()=>c)}function Jg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw se();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(41943040,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);class Hy{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){ce(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Hy(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cs(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=rl(e),o=cs(e);return o.add({}).next(a=>{ce(typeof a=="number");const l=new rE(a,n,r,i),c=function(f,g,m){const _=m.baseMutations.map(y=>sh(f.ct,y)),v=m.mutations.map(y=>sh(f.ct,y));return{userId:g,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:_,mutations:v}}(this.serializer,this.userId,l),u=[];let d=new He((h,f)=>xe(h.canonicalString(),f.canonicalString()));for(const h of i){const f=o2(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(o.put(c)),u.push(s.put(f,tX))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),N.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return cs(e).get(n).next(r=>r?(ce(r.userId===this.userId),No(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?N.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return cs(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(ce(a.batchId>=r),s=No(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return cs(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cs(e).W("userMutationsIndex",n).next(r=>r.map(i=>No(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Vp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return rl(e).Y({range:i},(o,a,l)=>{const[c,u,d]=o,h=ai(u);if(c===this.userId&&n.path.isEqual(h))return cs(e).get(d).next(f=>{if(!f)throw se();ce(f.userId===this.userId),s.push(No(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(xe);const i=[];return n.forEach(s=>{const o=Vp(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=rl(e).Y({range:a},(c,u,d)=>{const[h,f,g]=c,m=ai(f);h===this.userId&&s.path.isEqual(m)?r=r.add(g):d.done()});i.push(l)}),N.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Vp(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new He(xe);return rl(e).Y({range:o},(l,c,u)=>{const[d,h,f]=l,g=ai(h);d===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(f)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(cs(e).get(s).next(o=>{if(o===null)throw se();ce(o.userId===this.userId),r.push(No(this.serializer,o))}))}),N.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return iV(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),N.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return N.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return rl(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=ai(s[1]);i.push(l)}else a.done()}).next(()=>{ce(i.length===0)})})}containsKey(e,n){return sV(e,this.userId,n)}xn(e){return oV(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sV(t,e,n){const r=Vp(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return rl(t).Y({range:s,J:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function cs(t){return tn(t,"mutations")}function rl(t){return tn(t,"documentMutations")}function oV(t){return tn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new va(0)}static Ln(){return new va(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pJ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new va(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ue.fromTimestamp(new at(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ka(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ce(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Ka(e).Y((o,a)=>{const l=Pu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>N.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Ka(e).Y((r,i)=>{const s=Pu(i);n(s)})}Bn(e){return HR(e).get("targetGlobalKey").next(n=>(ce(n!==null),n))}kn(e,n){return HR(e).put("targetGlobalKey",n)}qn(e,n){return Ka(e).put(tV(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=fa(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Ka(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=Pu(a);Zh(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=ms(e);return n.forEach(o=>{const a=On(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),N.waitFor(i)}removeMatchingKeys(e,n,r){const i=ms(e);return N.forEach(n,s=>{const o=On(s.path);return N.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=ms(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ms(e);let s=Ie();return i.Y({range:r,J:!0},(o,a,l)=>{const c=ai(o[1]),u=new Z(c);s=s.add(u)}).next(()=>s)}containsKey(e,n){const r=On(n.path),i=IDBKeyRange.bound([r],[e2(r)],!1,!0);let s=0;return ms(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}_t(e,n){return Ka(e).get(n).next(r=>r?Pu(r):null)}}function Ka(t){return tn(t,"targets")}function HR(t){return tn(t,"targetGlobal")}function ms(t){return tn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR([t,e],[n,r]){const i=xe(t,n);return i===0?xe(e,r):i}class gJ{constructor(e){this.Kn=e,this.buffer=new He(qR),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();qR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mJ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){W("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?W("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await po(n)}await this.zn(3e5)})}}class yJ{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return N.resolve(Kn._e);const r=new gJ(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(WR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WR):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Za()<=Ce.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function vJ(t,e){return new yJ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e,n){this.db=e,this.garbageCollector=vJ(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return Gf(e,r)}removeReference(e,n,r){return Gf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Gf(e,n)}er(e,n){return function(i,s){let o=!1;return oV(i).Z(a=>sV(i,a,s).next(l=>(l&&(o=!0),N.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ue.min()),ms(e).delete(function(d){return[0,On(d.path)]}(o))))});i.push(l)}}).next(()=>N.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Gf(e,n)}Xn(e,n){const r=ms(e);let i,s=Kn._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Kn._e&&n(new Z(ai(i)),s),s=c,i=l):s=Kn._e}).next(()=>{s!==Kn._e&&n(new Z(ai(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Gf(t,e){return ms(t).put(function(r,i){return{targetId:0,path:On(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(){this.changes=new mo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return _o(e).put(r)}removeEntry(e,n,r){return _o(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Yg(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=nt.newInvalidDocument(n);return _o(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ou(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:nt.newInvalidDocument(n)};return _o(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ou(n))},(i,s)=>{r={document:this.nr(n,s),size:Jg(s)}}).next(()=>r)}getEntries(e,n){let r=Qn();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=Qn(),i=new Je(Z.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,Jg(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return N.resolve();let i=new He(QR);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(ou(i.first()),ou(i.last())),o=i.getIterator();let a=o.getNext();return _o(e).Y({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=Z.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&QR(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.U(ou(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Yg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _o(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let u=Qn();for(const d of c){const h=this.nr(Z.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(tf(n,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=Qn();const o=GR(n,r),a=GR(n,fr.max());return _o(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.nr(Z.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new wJ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return KR(e).get("remoteDocumentGlobalKey").next(n=>(ce(!!n),n))}tr(e,n){return KR(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=sJ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ue.min())))return r}return nt.newInvalidDocument(e)}}function lV(t){return new bJ(t)}class wJ extends aV{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new mo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new He((s,o)=>xe(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=DR(this.ar.serializer,o);i=i.add(s.path.popLast());const c=Jg(l);r+=c-a.size,n.push(this.ar.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=DR(this.ar.serializer,o.convertToNoDocument(ue.min()));n.push(this.ar.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),N.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function KR(t){return tn(t,"remoteDocumentGlobal")}function _o(t){return tn(t,"remoteDocumentsV14")}function ou(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function GR(t,e){const n=e.documentKey.path.toArray();return[t,Yg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function QR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=xe(n[s],r[s]),i)return i;return i=xe(n.length,r.length),i||(i=xe(n[n.length-2],r[r.length-2]),i||xe(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sd(r.mutation,i,Gn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=li();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ku();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=li();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Qn();const o=id(),a=function(){return id()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof ns)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),sd(u.mutation,c,u.mutation.getFieldMask(),at.now())):o.set(c.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new xJ(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=id();let i=new Je((o,a)=>o-a),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Gn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Ie()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=R2();u.forEach(h=>{if(!s.has(h)){const f=M2(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):N.resolve(li());let a=-1,l=s;return o.next(c=>N.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?N.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ie())).next(u=>({batchId:a,changes:T2(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=ku();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ku();return this.indexManager.getCollectionParents(e,s).next(a=>N.forEach(a,l=>{const c=function(d,h){return new ts(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,nt.newInvalidDocument(u)))});let a=ku();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&sd(u.mutation,c,Gn.empty(),at.now()),tf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SJ{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return N.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ot(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:lE(i.bundledQuery),readTime:Ot(i.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(){this.overlays=new Je(Z.comparator),this.hr=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){const r=li();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),N.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){const i=li(),s=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Je((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=li(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=li(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return N.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sE(n,r));let s=this.hr.get(n);s===void 0&&(s=Ie(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.Pr=new He(Kt.Ir),this.Tr=new He(Kt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Kt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Z(new ke([])),r=new Kt(n,e),i=new Kt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Z(new ke([])),r=new Kt(n,e),i=new Kt(n,e+1);let s=Ie();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Kt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Z.comparator(e.key,n.key)||xe(e.pr,n.pr)}static Er(e,n){return xe(e.pr,n.pr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new He(Kt.Ir)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Kt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,n){return N.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),i=new Kt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(xe);return n.forEach(i=>{const s=new Kt(i,0),o=new Kt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),N.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Z.isDocumentKey(s)||(s=s.child(""));const o=new Kt(new Z(s),0);let a=new He(xe);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),N.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ce(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return N.forEach(n.mutations,i=>{const s=new Kt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Kt(n,0),i=this.wr.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TJ{constructor(e){this.vr=e,this.docs=function(){return new Je(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():nt.newInvalidDocument(n))}getEntries(e,n){let r=Qn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():nt.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Qn();const o=n.path,a=new Z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||YS(n2(u),r)<=0||(i.has(u.key)||tf(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se()}Fr(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RJ(this)}getSize(e){return N.resolve(this.size)}}class RJ extends aV{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{constructor(e){this.persistence=e,this.Mr=new mo(n=>fa(n),Zh),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Or=0,this.Nr=new dE,this.targetCount=0,this.Lr=va.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),N.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new va(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.qn(n),N.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),N.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n){this.Br={},this.overlays={},this.kr=new Kn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new CJ(this),this.indexManager=new hJ,this.remoteDocumentCache=function(i){return new TJ(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new eV(n),this.$r=new SJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new IJ(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new kJ(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return N.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class kJ extends i2{constructor(e){super(),this.currentSequenceNumber=e}}class qy{constructor(e){this.persistence=e,this.zr=new dE,this.jr=null}static Hr(e){return new qy(e)}get Jr(){if(this.jr)return this.jr;throw se()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),N.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Jr,r=>{const i=Z.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return N.or([()=>N.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(e){this.serializer=e}N(e,n,r,i){const s=new $y("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uR,{unique:!0}),l.createObjectStore("documentMutations")}(e),YR(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=N.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),YR(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ue.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uR,{unique:!0});const d=c.store("mutations"),h=u.map(f=>d.put(f));return N.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:fX});c.createIndex("collectionPathOverlayIndex",pX,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",gX,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:nX});c.createIndex("documentKeyIndex",rX),c.createIndex("collectionGroupIndex",iX)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:cX}).createIndex("sequenceNumberIndex",uX,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:dX}).createIndex("documentKeyIndex",hX,{unique:!1})}(e))),o}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=Jg(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>N.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>N.forEach(a,l=>{ce(l.userId===s.userId);const c=No(this.serializer,l);return iV(e,s.userId,c).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new ke(o),c=function(d){return[0,On(d)]}(l);s.push(n.get(c).next(u=>u?N.resolve():(d=>n.put({targetId:0,path:On(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>N.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:lX});const r=n.store("collectionParents"),i=new uE,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:On(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new ke(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],c)=>{const u=ai(a);return s(u.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,i)=>{const s=Pu(i),o=tV(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new Z(ke.fromString(d.document.name).popFirst(5)):d.noDocument?Z.fromSegments(d.noDocument.path):d.unknownDocument?Z.fromSegments(d.unknownDocument.path):se()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>N.waitFor(i))}si(e,n){const r=n.store("mutations"),i=lV(this.serializer),s=new uV(qy.Hr,this.serializer.ct);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:Ie();No(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),N.forEach(a,(l,c)=>{const u=new Qt(c),d=Wy.lt(this.serializer,u),h=s.getIndexManager(u),f=Hy.lt(u,this.serializer,h,s.referenceDelegate);return new cV(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new Lb(n,Kn._e),l).next()})})}}function YR(t){t.createObjectStore("targetDocuments",{keyPath:oX}).createIndex("documentTargetsIndex",aX,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sX,{unique:!0}),t.createObjectStore("targetGlobal")}const P_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hE{constructor(e,n,r,i,s,o,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=c,this.ai=u,this.ui=d,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=h=>Promise.resolve(),!hE.D())throw new z(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _J(this,i),this.Ti=n+"main",this.serializer=new eV(l),this.Ei=new Er(this.Ti,this.ui,new AJ(this.serializer)),this.Qr=new pJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lV(this.serializer),this.$r=new oJ,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&Pt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new z(L.FAILED_PRECONDITION,P_);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Kn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Qf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(go(e))return W("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return W("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return au(e).get("owner").next(n=>N.resolve(this.Si(n)))}bi(e){return Qf(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=tn(n,"clientMetadata");return r.W().next(i=>{const s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return N.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?N.resolve(!0):au(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new z(L.FAILED_PRECONDITION,P_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Qf(e).W().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&W("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Lb(e,Kn._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Qf(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Hy.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new fJ(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Wy.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){W("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?yX:l===14?c2:l===13?l2:l===12?mX:l===11?a2:void se()}(this.ui);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new Lb(a,this.kr?this.kr.next():Kn._e),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw Pt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new z(L.FAILED_PRECONDITION,r2);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return au(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new z(L.FAILED_PRECONDITION,P_)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return au(e).put("owner",n)}static D(){return Er.D()}yi(e){const n=au(e);return n.get("owner").next(r=>this.Si(r)?(W("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):N.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Pt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;LO()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return W("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Pt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Pt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function au(t){return tn(t,"owner")}function Qf(t){return tn(t,"clientMetadata")}function fE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ie(),i=Ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return LO()?8:Er.v(pt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new PJ;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Za()<=Ce.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",el(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),N.resolve()):(Za()<=Ce.DEBUG&&W("QueryEngine","Query:",el(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Za()<=Ce.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",el(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):N.resolve())}ji(e,n){if(xR(n))return N.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Qg(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ie(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,Qg(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return xR(n)||i.isEqual(ue.min())?N.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?N.resolve(null):(Za()<=Ce.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),el(n)),this.es(e,o,n,t2(i,-1)).next(a=>a))})}Zi(e,n){let r=new He(E2(e));return n.forEach((i,s)=>{tf(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Za()<=Ce.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",el(n)),this.zi.getDocumentsMatchingQuery(e,n,fr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Je(xe),this.rs=new mo(s=>fa(s),Zh),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cV(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function hV(t,e,n,r){return new NJ(t,e,n,r)}async function fV(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ie();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function DJ(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=N.resolve();return h.forEach(g=>{f=f.next(()=>u.getEntry(l,g)).next(m=>{const _=c.docVersions.get(g);ce(_!==null),m.version.compareTo(_)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function pV(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function OJ(t,e){const n=ee(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Ht.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),function(m,_,v){return m.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,f,u)&&a.push(n.Qr.updateTargetData(s,f))});let l=Qn(),c=Ie();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(gV(s,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(ue.min())){const u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function gV(t,e,n){let r=Ie(),i=Ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Qn();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function MJ(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nc(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,N.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Mi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function rc(t,e,n){const r=ee(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!go(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Zg(t,e,n){const r=ee(t);let i=ue.min(),s=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=ee(l),h=d.rs.get(u);return h!==void 0?N.resolve(d.ns.get(h)):d.Qr.getTargetData(c,u)}(r,o,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:Ie())).next(a=>(vV(r,S2(e),a),{documents:a,hs:s})))}function mV(t,e){const n=ee(t),r=ee(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function yV(t,e){const n=ee(t),r=n.ss.get(e)||ue.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,t2(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(vV(n,e,i),i))}function vV(t,e,n){let r=t.ss.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}async function LJ(t,e,n,r){const i=ee(t);let s=Ie(),o=Qn();for(const c of n){const u=e.Ps(c.metadata.name);c.document&&(s=s.add(u));const d=e.Is(c);d.setReadTime(e.Ts(c.metadata.readTime)),o=o.insert(u,d)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await nc(i,function(u){return Mn(Rc(ke.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>gV(c,a,o).next(u=>(a.apply(c),u)).next(u=>i.Qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Qr.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,u.cs,u.ls)).next(()=>u.cs)))}async function VJ(t,e,n=Ie()){const r=await nc(t,Mn(lE(e.bundledQuery))),i=ee(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Ot(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(s,e);const a=r.withResumeToken(Ht.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(s,a).next(()=>i.Qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.$r.saveNamedQuery(s,e))})}function XR(t,e){return`firestore_clients_${t}_${e}`}function JR(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function N_(t,e){return`firestore_targets_${t}_${e}`}class em{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new z(i.error.code,i.error.message))),o?new em(e,n,i.state,s):(Pt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class od{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new z(r.error.code,r.error.message))),s?new od(e,r.state,i):(Pt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tm{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=tE();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=s2(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new tm(e,s):(Pt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class gE{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new gE(n.clientId,n.onlineState):(Pt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Yb{constructor(){this.activeTargetIds=tE()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D_{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Je(xe),this.started=!1,this.ys=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=XR(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Yb),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Vs)continue;const i=this.getItem(XR(this.persistenceKey,r));if(i){const s=tm.Es(r,i);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();const n=this.storage.getItem(this.vs);if(n){const r=this.xs(n);r&&this.Os(r)}for(const r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(N_(this.persistenceKey,e));if(r){const i=od.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(N_(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return W("SharedClientState","READ",e,n),n}setItem(e,n){W("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){W("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const n=e;if(n.storageArea===this.storage){if(W("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void Pt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){const r=this.$s(n.key);return this.Us(r,null)}{const r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){const r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){const r=function(s){let o=Kn._e;if(s!=null)try{const a=JSON.parse(s);ce(typeof a=="number"),o=a}catch(a){Pt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Kn._e&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){const r=this.Js(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)})}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){const i=new em(this.currentUser,e,n,r),s=JR(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){const n=JR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){const n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){const i=N_(this.persistenceKey,e),s=new od(e,n,r);this.setItem(i,s.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return tm.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return em.Es(new Qt(s),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return od.Es(i,n)}xs(e){return gE.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);W("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=tE();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class _V{constructor(){this.no=new Yb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Yb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJ{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yf=null;function O_(){return Yf===null?Yf=function(){return 268435456+Math.round(2147483648*Math.random())}():Yf++,"0x"+Yf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $J{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class UJ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=O_(),l=this.bo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(u=>(W("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Wr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=jJ[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=O_();return new Promise((o,a)=>{const l=new VY;l.setWithCredentials(!0),l.listenOnce(MY.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case k_.NO_ERROR:const u=l.getResponseJson();W(vn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case k_.TIMEOUT:W(vn,`RPC '${e}' ${s} timed out`),a(new z(L.DEADLINE_EXCEEDED,"Request time out"));break;case k_.HTTP_ERROR:const d=l.getStatus();if(W(vn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const g=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(v)>=0?v:L.UNKNOWN}(f.status);a(new z(g,f.message))}else a(new z(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new z(L.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{W(vn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);W(vn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=O_(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=DY(),a=OY(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");W(vn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const g=new $J({lo:_=>{f?W(vn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(W(vn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),W(vn,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},ho:()=>d.close()}),m=(_,v,y)=>{_.listen(v,b=>{try{y(b)}catch(w){setTimeout(()=>{throw w},0)}})};return m(d,Hf.EventType.OPEN,()=>{f||W(vn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Hf.EventType.CLOSE,()=>{f||(f=!0,W(vn,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),m(d,Hf.EventType.ERROR,_=>{f||(f=!0,Wr(vn,`RPC '${e}' stream ${i} transport errored:`,_),g.Vo(new z(L.UNAVAILABLE,"The operation could not be completed")))}),m(d,Hf.EventType.MESSAGE,_=>{var v;if(!f){const y=_.data[0];ce(!!y);const b=y,w=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(w){W(vn,`RPC '${e}' stream ${i} received error:`,w);const x=w.status;let I=function(A){const D=Mt[A];if(D!==void 0)return F2(D)}(x),T=w.message;I===void 0&&(I=L.INTERNAL,T="Unknown error status: "+x+" with message "+w.message),f=!0,g.Vo(new z(I,T)),d.close()}else W(vn,`RPC '${e}' stream ${i} received:`,y),g.mo(y)}}),m(a,LY.STAT_EVENT,_=>{_.stat===oR.PROXY?W(vn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===oR.NOPROXY&&W(vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(){return typeof window<"u"?window:null}function Bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t){return new QX(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new mE(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Pt(n.toString()),Pt("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new z(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BJ extends wV{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=JX(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Ot(o.readTime):ue.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Hb(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Kg(l)?{documents:G2(s,l)}:{query:Q2(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=B2(s,o.resumeToken);const c=zb(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=tc(s,o.snapshotVersion.toTimestamp());const c=zb(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=eJ(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Hb(this.serializer),n.removeTarget=e,this.t_(n)}}class zJ extends wV{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=ZX(e.writeResults,e.commitTime),r=Ot(e.commitTime);return this.listener.T_(r,n)}return ce(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Hb(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sh(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new z(L.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Wb(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(L.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Wb(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(L.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class HJ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Pt(n),this.g_=!1):W("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{yo(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ee(l);c.v_.add(4),await Ac(c),c.x_.set("Unknown"),c.v_.delete(4),await af(c)}(this))})}),this.x_=new HJ(r,i)}}async function af(t){if(yo(t))for(const e of t.F_)await e(!0)}async function Ac(t){for(const e of t.F_)await e(!1)}function Ky(t,e){const n=ee(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),_E(n)?vE(n):Nc(n).Jo()&&yE(n,e))}function ic(t,e){const n=ee(t),r=Nc(n);n.C_.delete(e),r.Jo()&&xV(n,e),n.C_.size===0&&(r.Jo()?r.Xo():yo(n)&&n.x_.set("Unknown"))}function yE(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nc(t).c_(e)}function xV(t,e){t.O_.Oe(e),Nc(t).l_(e)}function vE(t){t.O_=new HX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Nc(t).start(),t.x_.p_()}function _E(t){return yo(t)&&!Nc(t).Ho()&&t.C_.size>0}function yo(t){return ee(t).v_.size===0}function SV(t){t.O_=void 0}async function KJ(t){t.C_.forEach((e,n)=>{yE(t,e)})}async function GJ(t,e){SV(t),_E(t)?(t.x_.S_(e),vE(t)):t.x_.set("Unknown")}async function QJ(t,e,n){if(t.x_.set("Online"),e instanceof U2&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nm(t,r)}else if(e instanceof Up?t.O_.$e(e):e instanceof $2?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ue.min()))try{const r=await pV(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.C_.get(c);u&&s.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.C_.get(l);if(!u)return;s.C_.set(l,u.withResumeToken(Ht.EMPTY_BYTE_STRING,u.snapshotVersion)),xV(s,l);const d=new Mi(u.target,l,c,u.sequenceNumber);yE(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await nm(t,r)}}async function nm(t,e,n){if(!go(e))throw e;t.v_.add(1),await Ac(t),t.x_.set("Offline"),n||(n=()=>pV(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await af(t)})}function EV(t,e){return e().catch(n=>nm(t,n,e))}async function Pc(t){const e=ee(t),n=Ys(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;YJ(e);)try{const i=await MJ(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,XJ(e,i)}catch(i){await nm(e,i)}IV(e)&&TV(e)}function YJ(t){return yo(t)&&t.D_.length<10}function XJ(t,e){t.D_.push(e);const n=Ys(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function IV(t){return yo(t)&&!Ys(t).Ho()&&t.D_.length>0}function TV(t){Ys(t).start()}async function JJ(t){Ys(t).d_()}async function ZJ(t){const e=Ys(t);for(const n of t.D_)e.I_(n.mutations)}async function eZ(t,e,n){const r=t.D_.shift(),i=iE.from(r,e,n);await EV(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Pc(t)}async function tZ(t,e){e&&Ys(t).P_&&await async function(r,i){if(function(o){return V2(o)&&o!==L.ABORTED}(i.code)){const s=r.D_.shift();Ys(r).Zo(),await EV(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Pc(r)}}(t,e),IV(t)&&TV(t)}async function eC(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=yo(n);n.v_.add(3),await Ac(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await af(n)}async function Xb(t,e){const n=ee(t);e?(n.v_.delete(2),await af(n)):e||(n.v_.add(2),await Ac(n),n.x_.set("Unknown"))}function Nc(t){return t.N_||(t.N_=function(n,r,i){const s=ee(n);return s.R_(),new BJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:KJ.bind(null,t),To:GJ.bind(null,t),u_:QJ.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),_E(t)?vE(t):t.x_.set("Unknown")):(await t.N_.stop(),SV(t))})),t.N_}function Ys(t){return t.L_||(t.L_=function(n,r,i){const s=ee(n);return s.R_(),new zJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:JJ.bind(null,t),To:tZ.bind(null,t),E_:ZJ.bind(null,t),T_:eZ.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Pc(t)):(await t.L_.stop(),t.D_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new bE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dc(t,e){if(Pt("AsyncQueue",`${e}: ${t}`),go(t))return new z(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=ku(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new Nl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.B_=new Je(Z.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):se():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class sc{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new sc(e,n,Nl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class rZ{constructor(){this.queries=new mo(e=>x2(e),ef),this.onlineState="Unknown",this.W_=new Set}}async function wE(t,e){const n=ee(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new nZ,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Dc(o,`Initialization of query '${el(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&SE(n)}async function xE(t,e){const n=ee(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iZ(t,e){const n=ee(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&SE(n)}function sZ(t,e,n){const r=ee(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function SE(t){t.W_.forEach(e=>{e.next()})}var Jb,nC;(nC=Jb||(Jb={})).j_="default",nC.Cache="cache";class EE{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Jb.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{constructor(e,n){this.na=e,this.byteLength=n}ra(){return"metadata"in this.na}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.serializer=e}Ps(e){return fi(this.serializer,e)}Is(e){return e.metadata.exists?K2(this.serializer,e.document,!1):nt.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Ot(e)}}class aZ{constructor(e,n,r){this.ia=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=RV(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++n;const r=ke.fromString(e.na.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}oa(e){const n=new Map,r=new rC(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ps(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||Ie()).add(s);n.set(o,a)}}return n}async complete(){const e=await LJ(this.localStore,new rC(this.serializer),this.documents,this.ia.id),n=this.oa(this.documents);for(const r of this.queries)await VJ(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}}}function RV(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.key=e}}class kV{constructor(e){this.key=e}}class AV{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Ie(),this.mutatedKeys=Ie(),this.ha=E2(e),this.Pa=new Nl(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new tC,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=tf(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?g!==m&&(r.track({type:3,doc:f}),_=!0):this.da(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.ha(f,l)>0||c&&this.ha(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,d)=>function(f,g){const m=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return m(f)-m(g)}(u.type,d.type)||this.ha(u.doc,d.doc)),this.Aa(r),i=i!=null&&i;const a=n&&!i?this.Ra():[],l=this.la.size===0&&this.current&&!i?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new sc(this.query,e.Pa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new tC,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Ie(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new kV(r))}),this.la.forEach(r=>{e.has(r)||n.push(new CV(r))}),n}fa(e){this.ua=e.hs,this.la=Ie();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return sc.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class lZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cZ{constructor(e){this.key=e,this.pa=!1}}class uZ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new mo(a=>x2(a),ef),this.Sa=new Map,this.ba=new Set,this.Da=new Je(Z.comparator),this.Ca=new Map,this.va=new dE,this.Fa={},this.Ma=new Map,this.xa=va.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function dZ(t,e,n=!0){const r=Gy(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await PV(r,e,n,!0),i}async function hZ(t,e){const n=Gy(t);await PV(n,e,!0,!1)}async function PV(t,e,n,r){const i=await nc(t.localStore,Mn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await IE(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ky(t.remoteStore,i),a}async function IE(t,e,n,r,i){t.Na=(d,h,f)=>async function(m,_,v,y){let b=_.view.Ta(v);b.Xi&&(b=await Zg(m.localStore,_.query,!1).then(({documents:T})=>_.view.Ta(T,b)));const w=y&&y.targetChanges.get(_.targetId),x=y&&y.targetMismatches.get(_.targetId)!=null,I=_.view.applyChanges(b,m.isPrimaryClient,w,x);return Zb(m,_.targetId,I.Va),I.snapshot}(t,d,h,f);const s=await Zg(t.localStore,e,!0),o=new AV(e,s.hs),a=o.Ta(s.documents),l=sf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Zb(t,n,c.Va);const u=new lZ(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function fZ(t,e,n){const r=ee(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!ef(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ic(r.remoteStore,i.targetId),oc(r,i.targetId)}).catch(po)):(oc(r,i.targetId),await rc(r.localStore,i.targetId,!0))}async function pZ(t,e){const n=ee(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ic(n.remoteStore,r.targetId))}async function gZ(t,e,n){const r=kE(t);try{const i=await function(o,a){const l=ee(o),c=at.now(),u=a.reduce((f,g)=>f.add(g.key),Ie());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Qn(),m=Ie();return l.os.getEntries(f,u).next(_=>{g=_,g.forEach((v,y)=>{y.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(_=>{d=_;const v=[];for(const y of a){const b=BX(y,d.get(y.key).overlayedDocument);b!=null&&v.push(new ns(y.key,b,f2(b.value.mapValue),ft.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,v,a)}).next(_=>{h=_;const v=_.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(f,_.batchId,v)})}).then(()=>({batchId:h.batchId,changes:T2(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new Je(xe)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,i.batchId,n),await rs(r,i.changes),await Pc(r.remoteStore)}catch(i){const s=Dc(i,"Failed to persist write");n.reject(s)}}async function NV(t,e){const n=ee(t);try{const r=await OJ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ca.get(s);o&&(ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?ce(o.pa):i.removedDocuments.size>0&&(ce(o.pa),o.pa=!1))}),await rs(n,r,e)}catch(r){await po(r)}}function iC(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,o)=>{const a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ee(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Q_)h.G_(a)&&(c=!0)}),c&&SE(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mZ(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let o=new Je(Z.comparator);o=o.insert(s,nt.newNoDocument(s,ue.min()));const a=Ie().add(s),l=new rf(ue.min(),new Map,new Je(xe),o,a);await NV(r,l),r.Da=r.Da.remove(s),r.Ca.delete(e),CE(r)}else await rc(r.localStore,e,!1).then(()=>oc(r,e,n)).catch(po)}async function yZ(t,e){const n=ee(t),r=e.batch.batchId;try{const i=await DJ(n.localStore,e);RE(n,r,null),TE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rs(n,i)}catch(i){await po(i)}}async function vZ(t,e,n){const r=ee(t);try{const i=await function(o,a){const l=ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ce(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);RE(r,e,n),TE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await rs(r,i)}catch(i){await po(i)}}async function _Z(t,e){const n=ee(t);yo(n.remoteStore)||W("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=ee(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ma.get(r)||[];i.push(e),n.Ma.set(r,i)}catch(r){const i=Dc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function TE(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function RE(t,e,n){const r=ee(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function oc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||DV(t,r)})}function DV(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(ic(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),CE(t))}function Zb(t,e,n){for(const r of n)r instanceof CV?(t.va.addReference(r.key,e),bZ(t,r)):r instanceof kV?(W("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||DV(t,r.key)):se()}function bZ(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(W("SyncEngine","New document in limbo: "+n),t.ba.add(r),CE(t))}function CE(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new Z(ke.fromString(e)),r=t.xa.next();t.Ca.set(r,new cZ(n)),t.Da=t.Da.insert(n,r),Ky(t.remoteStore,new Mi(Mn(Rc(n.path)),r,"TargetPurposeLimboResolution",Kn._e))}}async function rs(t,e,n){const r=ee(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=pE.Ki(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.ya.u_(i),await async function(l,c){const u=ee(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>N.forEach(c,h=>N.forEach(h.qi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>N.forEach(h.Qi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!go(d))throw d;W("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.ns.get(h),g=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(g);u.ns=u.ns.insert(h,m)}}}(r.localStore,s))}async function wZ(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await fV(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(l=>{l.reject(new z(L.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rs(n,r.us)}}function xZ(t,e){const n=ee(t),r=n.Ca.get(e);if(r&&r.pa)return Ie().add(r.key);{let i=Ie();const s=n.Sa.get(e);if(!s)return i;for(const o of s){const a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}async function SZ(t,e){const n=ee(t),r=await Zg(n.localStore,e.query,!0),i=e.view.fa(r);return n.isPrimaryClient&&Zb(n,e.targetId,i.Va),i}async function EZ(t,e){const n=ee(t);return yV(n.localStore,e).then(r=>rs(n,r))}async function IZ(t,e,n,r){const i=ee(t),s=await function(a,l){const c=ee(a),u=ee(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",d=>u.vn(d,l).next(h=>h?c.localDocuments.getDocuments(d,h):N.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Pc(i.remoteStore):n==="acknowledged"||n==="rejected"?(RE(i,e,r||null),TE(i,e),function(a,l){ee(ee(a).mutationQueue).Mn(l)}(i.localStore,e)):se(),await rs(i,s)):W("SyncEngine","Cannot apply mutation batch with id: "+e)}async function TZ(t,e){const n=ee(t);if(Gy(n),kE(n),e===!0&&n.Oa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await sC(n,r.toArray());n.Oa=!0,await Xb(n.remoteStore,!0);for(const s of i)Ky(n.remoteStore,s)}else if(e===!1&&n.Oa!==!1){const r=[];let i=Promise.resolve();n.Sa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(oc(n,o),rc(n.localStore,o,!0))),ic(n.remoteStore,o)}),await i,await sC(n,r),function(o){const a=ee(o);a.Ca.forEach((l,c)=>{ic(a.remoteStore,c)}),a.va.mr(),a.Ca=new Map,a.Da=new Je(Z.comparator)}(n),n.Oa=!1,await Xb(n.remoteStore,!1)}}async function sC(t,e,n){const r=ee(t),i=[],s=[];for(const o of e){let a;const l=r.Sa.get(o);if(l&&l.length!==0){a=await nc(r.localStore,Mn(l[0]));for(const c of l){const u=r.wa.get(c),d=await SZ(r,u);d.snapshot&&s.push(d.snapshot)}}else{const c=await mV(r.localStore,o);a=await nc(r.localStore,c),await IE(r,OV(c),o,!1,a.resumeToken)}i.push(a)}return r.ya.u_(s),i}function OV(t){return w2(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function RZ(t){return function(n){return ee(ee(n).persistence).Bi()}(ee(t).localStore)}async function CZ(t,e,n,r){const i=ee(t);if(i.Oa)return void W("SyncEngine","Ignoring unexpected query state notification.");const s=i.Sa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await yV(i.localStore,S2(s[0])),a=rf.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ht.EMPTY_BYTE_STRING);await rs(i,o,a);break}case"rejected":await rc(i.localStore,e,!0),oc(i,e,r);break;default:se()}}async function kZ(t,e,n){const r=Gy(t);if(r.Oa){for(const i of e){if(r.Sa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){W("SyncEngine","Adding an already active target "+i);continue}const s=await mV(r.localStore,i),o=await nc(r.localStore,s);await IE(r,OV(s),o.targetId,!1,o.resumeToken),Ky(r.remoteStore,o)}for(const i of n)r.Sa.has(i)&&await rc(r.localStore,i,!1).then(()=>{ic(r.remoteStore,i),oc(r,i)}).catch(po)}}function Gy(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mZ.bind(null,e),e.ya.u_=iZ.bind(null,e.eventManager),e.ya.La=sZ.bind(null,e.eventManager),e}function kE(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vZ.bind(null,e),e}function AZ(t,e,n){const r=ee(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(f,g){const m=ee(f),_=Ot(g.createTime);return m.persistence.runTransaction("hasNewerBundle","readonly",v=>m.$r.getBundleMetadata(v,g.id)).then(v=>!!v&&v.createTime.compareTo(_)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(RV(l));const c=new aZ(l,s.localStore,o.serializer);let u=await o.Ba();for(;u;){const h=await c.sa(u);h&&a._updateProgress(h),u=await o.Ba()}const d=await c.complete();return await rs(s,d.aa,void 0),await function(f,g){const m=ee(f);return m.persistence.runTransaction("Save bundle","readwrite",_=>m.$r.saveBundleMetadata(_,g))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d._a)}catch(l){return Wr("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class ew{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return hV(this.persistence,new dV,e.initialUser,this.serializer)}createPersistence(e){return new uV(qy.Hr,this.serializer)}createSharedClientState(e){return new _V}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class MV extends ew{constructor(e,n,r){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await kE(this.ka.syncEngine),await Pc(this.ka.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return hV(this.persistence,new dV,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new mJ(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new ZY(n,this.persistence);return new JY(e.asyncQueue,r)}createPersistence(e){const n=fE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new hE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,bV(),Bp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new _V}}class PZ extends MV{constructor(e,n){super(e,n,!1),this.ka=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.ka.syncEngine;this.sharedClientState instanceof D_&&(this.sharedClientState.syncEngine={Zs:IZ.bind(null,n),Xs:CZ.bind(null,n),eo:kZ.bind(null,n),Bi:RZ.bind(null,n),Ys:EZ.bind(null,n)},await this.sharedClientState.start()),await this.persistence.fi(async r=>{await TZ(this.ka.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=bV();if(!D_.D(n))throw new z(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=fE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new D_(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class AE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wZ.bind(null,this.syncEngine),await Xb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rZ}()}createDatastore(e){const n=of(e.databaseInfo.databaseId),r=function(s){return new UJ(s)}(e.databaseInfo);return function(s,o,a,l){return new WJ(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new qJ(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>iC(this.syncEngine,n,0),function(){return ZR.D()?new ZR:new FJ}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new uZ(i,s,o,a,l,c);return u&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ee(r);W("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Ac(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Pt("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NZ{constructor(e,n){this.Ka=e,this.serializer=n,this.metadata=new Jt,this.buffer=new Uint8Array,this.$a=function(){return new TextDecoder("utf-8")}(),this.Ua().then(r=>{r&&r.ra()?this.metadata.resolve(r.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.na)}`))},r=>this.metadata.reject(r))}close(){return this.Ka.cancel()}async getMetadata(){return this.metadata.promise}async Ba(){return await this.getMetadata(),this.Ua()}async Ua(){const e=await this.Wa();if(e===null)return null;const n=this.$a.decode(e),r=Number(n);isNaN(r)&&this.Ga(`length string (${n}) is not valid number`);const i=await this.za(r);return new oZ(JSON.parse(i),e.length+r)}ja(){return this.buffer.findIndex(e=>e===123)}async Wa(){for(;this.ja()<0&&!await this.Ha(););if(this.buffer.length===0)return null;const e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async za(e){for(;this.buffer.length<e;)await this.Ha()&&this.Ga("Reached the end of bundle when more is expected.");const n=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ha(){const e=await this.Ka.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new z(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=ee(i),a={documents:s.map(d=>ih(o.serializer,d))},l=await o.vo("BatchGetDocuments",o.serializer.databaseId,ke.emptyPath(),a,s.length),c=new Map;l.forEach(d=>{const h=XX(o.serializer,d);c.set(h.key.toString(),h)});const u=[];return s.forEach(d=>{const h=c.get(d.toString());ce(!!h),u.push(h)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new kc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=Z.fromPath(r);this.mutations.push(new nE(i,this.precondition(i)))}),await async function(r,i){const s=ee(r),o={writes:i.map(a=>sh(s.serializer,a))};await s.So("Commit",s.serializer.databaseId,ke.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw se();n=ue.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new z(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ue.min())?ft.exists(!1):ft.updateTime(n):ft.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ue.min()))throw new z(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ft.updateTime(n)}return ft.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Ja=r.maxAttempts,this.jo=new mE(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo(async()=>{const e=new DZ(this.datastore),n=this.Xa(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.eu(i)}))}).catch(r=>{this.eu(r)})})}Xa(e){try{const n=this.updateFunction(e);return!Jh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!V2(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MZ{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=ZL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{W("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zp(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fV(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PE(t);W("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>eC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>eC(e.remoteStore,i)),t._onlineComponents=e}function LV(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function PE(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await zp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!LV(n))throw n;Wr("Error using user provided cache. Falling back to memory cache: "+n),await zp(t,new ew)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await zp(t,new ew);return t._offlineComponents}async function Yy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await tw(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await tw(t,new AE))),t._onlineComponents}function VV(t){return PE(t).then(e=>e.persistence)}function NE(t){return PE(t).then(e=>e.localStore)}function FV(t){return Yy(t).then(e=>e.remoteStore)}function DE(t){return Yy(t).then(e=>e.syncEngine)}function LZ(t){return Yy(t).then(e=>e.datastore)}async function ac(t){const e=await Yy(t),n=e.eventManager;return n.onListen=dZ.bind(null,e.syncEngine),n.onUnlisten=fZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pZ.bind(null,e.syncEngine),n}function VZ(t){return t.asyncQueue.enqueue(async()=>{const e=await VV(t),n=await FV(t);return e.setNetworkEnabled(!0),function(i){const s=ee(i);return s.v_.delete(0),af(s)}(n)})}function FZ(t){return t.asyncQueue.enqueue(async()=>{const e=await VV(t),n=await FV(t);return e.setNetworkEnabled(!1),async function(i){const s=ee(i);s.v_.add(0),await Ac(s),s.x_.set("Offline")}(n)})}function jZ(t,e){const n=new Jt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(c,u){const d=ee(c);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,u))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new z(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Dc(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await NE(t),e,n)),n.promise}function jV(t,e,n={}){const r=new Jt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Qy({next:h=>{o.enqueueAndForget(()=>xE(s,d));const f=h.docs.has(a);!f&&h.fromCache?c.reject(new z(L.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?c.reject(new z(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new EE(Rc(a.path),u,{includeMetadataChanges:!0,ta:!0});return wE(s,d)}(await ac(t),t.asyncQueue,e,n,r)),r.promise}function $Z(t,e){const n=new Jt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await Zg(i,s,!0),l=new AV(s,a.hs),c=l.Ta(a.documents),u=l.applyChanges(c,!1);o.resolve(u.snapshot)}catch(a){const l=Dc(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await NE(t),e,n)),n.promise}function $V(t,e,n={}){const r=new Jt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Qy({next:h=>{o.enqueueAndForget(()=>xE(s,d)),h.fromCache&&l.source==="server"?c.reject(new z(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new EE(a,u,{includeMetadataChanges:!0,ta:!0});return wE(s,d)}(await ac(t),t.asyncQueue,e,n,r)),r.promise}function UZ(t,e){const n=new Qy(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){ee(i).W_.add(s),s.next()}(await ac(t),n)),()=>{n.Qa(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){ee(i).W_.delete(s)}(await ac(t),n))}}function BZ(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?j2().encode(o):o,function(u,d){return new NZ(u,d)}(function(u,d){if(u instanceof Uint8Array)return oC(u,d);if(u instanceof ArrayBuffer)return oC(new Uint8Array(u),d);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,of(e));t.asyncQueue.enqueueAndForget(async()=>{AZ(await DE(t),i,r)})}function zZ(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=ee(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,i))}(await NE(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t,e,n){if(!n)throw new z(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BV(t,e,n,r){if(e===!0&&r===!0)throw new z(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lC(t){if(!Z.isDocumentKey(t))throw new z(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cC(t){if(Z.isDocumentKey(t))throw new z(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Le(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xy(t);throw new z(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function zV(t,e){if(e<=0)throw new z(L.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new UY;switch(r.type){case"firstParty":return new HY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aC.get(n);r&&(W("ComponentProvider","Removing Datastore"),aC.delete(n),r.terminate())}(this),Promise.resolve()}}function WZ(t,e,n,r={}){var i;const s=(t=Le(t,lf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Wr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Qt.MOCK_USER;else{a=eq(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new z(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Qt(c)}t._authCredentials=new BY(new JL(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ln=class WV{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new WV(this.firestore,e,this._query)}},yt=class HV{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new HV(this.firestore,e,this._key)}},Ls=class qV extends Ln{constructor(e,n,r){super(e,n,Rc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new Z(e))}withConverter(e){return new qV(this.firestore,e,this._path)}};function KV(t,e,...n){if(t=he(t),OE("collection","path",e),t instanceof lf){const r=ke.fromString(e,...n);return cC(r),new Ls(t,null,r)}{if(!(t instanceof yt||t instanceof Ls))throw new z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return cC(r),new Ls(t.firestore,null,r)}}function HZ(t,e){if(t=Le(t,lf),OE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new z(L.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ln(t,null,function(r){return new ts(ke.emptyPath(),r)}(e))}function rm(t,e,...n){if(t=he(t),arguments.length===1&&(e=ZL.newId()),OE("doc","path",e),t instanceof lf){const r=ke.fromString(e,...n);return lC(r),new yt(t,null,new Z(r))}{if(!(t instanceof yt||t instanceof Ls))throw new z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return lC(r),new yt(t.firestore,t instanceof Ls?t.converter:null,new Z(r))}}function GV(t,e){return t=he(t),e=he(e),(t instanceof yt||t instanceof Ls)&&(e instanceof yt||e instanceof Ls)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function QV(t,e){return t=he(t),e=he(e),t instanceof Ln&&e instanceof Ln&&t.firestore===e.firestore&&ef(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qZ{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new mE(this,"async_queue_retry"),this.cu=()=>{const n=Bp();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Bp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Jt;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!go(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Pt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=bE.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&se()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function nw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class KZ{constructor(){this._progressObserver={},this._taskCompletionResolver=new Jt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GZ=-1;let Rt=class extends lf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new qZ}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||YV(this),this._firestoreClient.terminate()}};function nn(t){return t._firestoreClient||YV(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function YV(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new bX(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,UV(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new MZ(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function QZ(t,e){JV(t=Le(t,Rt));const n=nn(t);if(n._uninitializedComponentsProvider)throw new z(L.FAILED_PRECONDITION,"SDK cache is already specified.");Wr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new AE;return XV(n,i,new MV(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function YZ(t){JV(t=Le(t,Rt));const e=nn(t);if(e._uninitializedComponentsProvider)throw new z(L.FAILED_PRECONDITION,"SDK cache is already specified.");Wr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new AE;return XV(e,r,new PZ(r,n.cacheSizeBytes))}function XV(t,e,n){const r=new Jt;return t.asyncQueue.enqueue(async()=>{try{await zp(t,n),await tw(t,e),r.resolve()}catch(i){const s=i;if(!LV(s))throw s;Wr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function XZ(t){if(t._initialized&&!t._terminated)throw new z(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Jt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Er.D())return Promise.resolve();const i=r+"main";await Er.delete(i)}(fE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function JZ(t){return function(n){const r=new Jt;return n.asyncQueue.enqueueAndForget(async()=>_Z(await DE(n),r)),r.promise}(nn(t=Le(t,Rt)))}function ZZ(t){return VZ(nn(t=Le(t,Rt)))}function eee(t){return FZ(nn(t=Le(t,Rt)))}function tee(t,e){const n=nn(t=Le(t,Rt)),r=new KZ;return BZ(n,t._databaseId,e,r),r}function nee(t,e){return zZ(nn(t=Le(t,Rt)),e).then(n=>n?new Ln(t,null,n.query):null)}function JV(t){if(t._initialized||t._terminated)throw new z(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _i(Ht.fromBase64String(e))}catch(n){throw new z(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _i(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ree=/^__.*__$/;class iee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cc(e,this.data,n,this.fieldTransforms)}}class ZV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Zy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Zy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return im(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(eF(this.Vu)&&ree.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class see{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||of(e)}Cu(e,n,r,i=!1){return new Zy({Vu:e,methodName:n,Du:r,path:ht.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Da(t){const e=t._freezeSettings(),n=of(t._databaseId);return new see(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ev(t,e,n,r,i,s={}){const o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);UE("Data must be an object, but it was:",o,r);const a=rF(r,o);let l,c;if(s.merge)l=new Gn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=rw(e,d,n);if(!o.contains(h))throw new z(L.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);sF(u,h)||u.push(h)}l=new Gn(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new iee(new cn(a),l,c)}class cf extends Na{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cf}}function tF(t,e,n){return new Zy({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ME extends Na{_toFieldTransform(e){return new nf(e.path,new Zl)}isEqual(e){return e instanceof ME}}class LE extends Na{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=tF(this,e,!0),r=this.vu.map(s=>Oa(s,n)),i=new pa(r);return new nf(e.path,i)}isEqual(e){return e instanceof LE&&Od(this.vu,e.vu)}}class VE extends Na{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=tF(this,e,!0),r=this.vu.map(s=>Oa(s,n)),i=new ga(r);return new nf(e.path,i)}isEqual(e){return e instanceof VE&&Od(this.vu,e.vu)}}class FE extends Na{constructor(e,n){super(e),this.Fu=n}_toFieldTransform(e){const n=new ec(e.serializer,A2(e.serializer,this.Fu));return new nf(e.path,n)}isEqual(e){return e instanceof FE&&this.Fu===e.Fu}}function jE(t,e,n,r){const i=t.Cu(1,e,n);UE("Data must be an object, but it was:",i,r);const s=[],o=cn.empty();Pa(r,(l,c)=>{const u=BE(e,l,n);c=he(c);const d=i.yu(u);if(c instanceof cf)s.push(u);else{const h=Oa(c,d);h!=null&&(s.push(u),o.set(u,h))}});const a=new Gn(s);return new ZV(o,a,i.fieldTransforms)}function $E(t,e,n,r,i,s){const o=t.Cu(1,e,n),a=[rw(e,r,n)],l=[i];if(s.length%2!=0)throw new z(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(rw(e,s[h])),l.push(s[h+1]);const c=[],u=cn.empty();for(let h=a.length-1;h>=0;--h)if(!sF(c,a[h])){const f=a[h];let g=l[h];g=he(g);const m=o.yu(f);if(g instanceof cf)c.push(f);else{const _=Oa(g,m);_!=null&&(c.push(f),u.set(f,_))}}const d=new Gn(c);return new ZV(u,d,o.fieldTransforms)}function nF(t,e,n,r=!1){return Oa(n,t.Cu(r?4:3,e))}function Oa(t,e){if(iF(t=he(t)))return UE("Unsupported field value:",e,t),rF(t,e);if(t instanceof Na)return function(r,i){if(!eF(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Oa(a,i.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=he(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=at.fromDate(r);return{timestampValue:tc(i.serializer,s)}}if(r instanceof at){const s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tc(i.serializer,s)}}if(r instanceof Jy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _i)return{bytesValue:B2(i.serializer,r._byteString)};if(r instanceof yt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:aE(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Xy(r)}`)}(t,e)}function rF(t,e){const n={};return u2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(t,(r,i)=>{const s=Oa(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function iF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Jy||t instanceof _i||t instanceof yt||t instanceof Na)}function UE(t,e,n){if(!iF(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Xy(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function rw(t,e,n){if((e=he(e))instanceof Xs)return e._internalPath;if(typeof e=="string")return BE(t,e);throw im("Field path arguments must be of type string or ",t,!1,void 0,n)}const oee=new RegExp("[~\\*/\\[\\]]");function BE(t,e,n){if(e.search(oee)>=0)throw im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xs(...e.split("."))._internalPath}catch{throw im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function im(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new z(L.INVALID_ARGUMENT,a+t+l)}function sF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aee extends oh{data(){return super.data()}}function tv(t,e){return typeof e=="string"?BE(t,e):e instanceof Xs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zE{}class uf extends zE{}function us(t,e,...n){let r=[];e instanceof zE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof WE).length,a=s.filter(l=>l instanceof nv).length;if(o>1||o>0&&a>0)throw new z(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class nv extends uf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new nv(e,n,r)}_apply(e){const n=this._parse(e);return lF(e._query,n),new Ln(e.firestore,e.converter,Bb(e._query,n))}_parse(e){const n=Da(e.firestore);return function(s,o,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new z(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){hC(d,u);const f=[];for(const g of d)f.push(dC(l,s,g));h={arrayValue:{values:f}}}else h=dC(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||hC(d,u),h=nF(a,o,d,u==="in"||u==="not-in");return Ae.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lee(t,e,n){const r=e,i=tv("where",t);return nv._create(i,r,n)}class WE extends zE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new WE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ue.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)lF(o,l),o=Bb(o,l)}(e._query,n),new Ln(e.firestore,e.converter,Bb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class HE extends uf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new HE(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new z(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new z(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rh(s,o)}(e._query,this._field,this._direction);return new Ln(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ts(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function cee(t,e="asc"){const n=e,r=tv("orderBy",t);return HE._create(r,n)}class rv extends uf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new rv(e,n,r)}_apply(e){return new Ln(e.firestore,e.converter,Qg(e._query,this._limit,this._limitType))}}function uee(t){return zV("limit",t),rv._create("limit",t,"F")}function dee(t){return zV("limitToLast",t),rv._create("limitToLast",t,"L")}class iv extends uf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new iv(e,n,r)}_apply(e){const n=aF(e,this.type,this._docOrFields,this._inclusive);return new Ln(e.firestore,e.converter,function(i,s){return new ts(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function hee(...t){return iv._create("startAt",t,!0)}function fee(...t){return iv._create("startAfter",t,!1)}class sv extends uf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new sv(e,n,r)}_apply(e){const n=aF(e,this.type,this._docOrFields,this._inclusive);return new Ln(e.firestore,e.converter,function(i,s){return new ts(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function pee(...t){return sv._create("endBefore",t,!1)}function gee(...t){return sv._create("endAt",t,!0)}function aF(t,e,n,r){if(n[0]=he(n[0]),n[0]instanceof oh)return function(s,o,a,l,c){if(!l)throw new z(L.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of Pl(s))if(d.field.isKeyField())u.push(ha(o,l.key));else{const h=l.data.field(d.field);if(Uy(h))throw new z(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=d.field.canonicalString();throw new z(L.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}u.push(h)}return new Qs(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Da(t.firestore);return function(o,a,l,c,u,d){const h=o.explicitOrderBy;if(u.length>h.length)throw new z(L.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let g=0;g<u.length;g++){const m=u[g];if(h[g].field.isKeyField()){if(typeof m!="string")throw new z(L.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof m}`);if(!eE(o)&&m.indexOf("/")!==-1)throw new z(L.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${m}' contains a slash.`);const _=o.path.child(ke.fromString(m));if(!Z.isDocumentKey(_))throw new z(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const v=new Z(_);f.push(ha(a,v))}else{const _=nF(l,c,m);f.push(_)}}return new Qs(f,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function dC(t,e,n){if(typeof(n=he(n))=="string"){if(n==="")throw new z(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eE(e)&&n.indexOf("/")!==-1)throw new z(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ke.fromString(n));if(!Z.isDocumentKey(r))throw new z(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ha(t,new Z(r))}if(n instanceof yt)return ha(t,n._key);throw new z(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xy(n)}.`)}function hC(t,e){if(!Array.isArray(t)||t.length===0)throw new z(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lF(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new z(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qE{convertValue(e,n="none"){switch(da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Jy(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=JS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eh(e));default:return null}}convertTimestamp(e){const n=Hs(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);ce(Z2(r));const i=new Ks(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||Pt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class mee extends qE{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Yi=class extends oh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ad=class extends Yi{data(e={}){return super.data(e)}},Js=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ad(this._firestore,this._userDataWriter,r.key,r,new Bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ad(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ad(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:yee(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function yee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}function cF(t,e){return t instanceof Yi&&e instanceof Yi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Js&&e instanceof Js&&t._firestore===e._firestore&&QV(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vee(t){t=Le(t,yt);const e=Le(t.firestore,Rt);return jV(nn(e),t._key).then(n=>KE(e,t,n))}class Ma extends qE{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function _ee(t){t=Le(t,yt);const e=Le(t.firestore,Rt),n=nn(e),r=new Ma(e);return jZ(n,t._key).then(i=>new Yi(e,r,t._key,i,new Bo(i!==null&&i.hasLocalMutations,!0),t.converter))}function bee(t){t=Le(t,yt);const e=Le(t.firestore,Rt);return jV(nn(e),t._key,{source:"server"}).then(n=>KE(e,t,n))}function wee(t){t=Le(t,Ln);const e=Le(t.firestore,Rt),n=nn(e),r=new Ma(e);return oF(t._query),$V(n,t._query).then(i=>new Js(e,r,t,i))}function xee(t){t=Le(t,Ln);const e=Le(t.firestore,Rt),n=nn(e),r=new Ma(e);return $Z(n,t._query).then(i=>new Js(e,r,t,i))}function See(t){t=Le(t,Ln);const e=Le(t.firestore,Rt),n=nn(e),r=new Ma(e);return $V(n,t._query,{source:"server"}).then(i=>new Js(e,r,t,i))}function fC(t,e,n){t=Le(t,yt);const r=Le(t.firestore,Rt),i=ov(t.converter,e,n);return df(r,[ev(Da(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ft.none())])}function pC(t,e,n,...r){t=Le(t,yt);const i=Le(t.firestore,Rt),s=Da(i);let o;return o=typeof(e=he(e))=="string"||e instanceof Xs?$E(s,"updateDoc",t._key,e,n,r):jE(s,"updateDoc",t._key,e),df(i,[o.toMutation(t._key,ft.exists(!0))])}function Eee(t){return df(Le(t.firestore,Rt),[new kc(t._key,ft.none())])}function Iee(t,e){const n=Le(t.firestore,Rt),r=rm(t),i=ov(t.converter,e);return df(n,[ev(Da(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ft.exists(!1))]).then(()=>r)}function uF(t,...e){var n,r,i;t=he(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||nw(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(nw(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof yt)c=Le(t.firestore,Rt),u=Rc(t._key.path),l={next:d=>{e[o]&&e[o](KE(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Le(t,Ln);c=Le(d.firestore,Rt),u=d._query;const h=new Ma(c);l={next:f=>{e[o]&&e[o](new Js(c,h,d,f))},error:e[o+1],complete:e[o+2]},oF(t._query)}return function(h,f,g,m){const _=new Qy(m),v=new EE(f,_,g);return h.asyncQueue.enqueueAndForget(async()=>wE(await ac(h),v)),()=>{_.Qa(),h.asyncQueue.enqueueAndForget(async()=>xE(await ac(h),v))}}(nn(c),u,a,l)}function Tee(t,e){return UZ(nn(t=Le(t,Rt)),nw(e)?e:{next:e})}function df(t,e){return function(r,i){const s=new Jt;return r.asyncQueue.enqueueAndForget(async()=>gZ(await DE(r),i,s)),s.promise}(nn(t),e)}function KE(t,e,n){const r=n.docs.get(e._key),i=new Ma(t);return new Yi(t,i,e._key,r,new Bo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cee=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Da(e)}set(e,n,r){this._verifyNotCommitted();const i=ys(e,this._firestore),s=ov(i.converter,n,r),o=ev(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,ft.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=ys(e,this._firestore);let o;return o=typeof(n=he(n))=="string"||n instanceof Xs?$E(this._dataReader,"WriteBatch.update",s._key,n,r,i):jE(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,ft.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ys(e,this._firestore);return this._mutations=this._mutations.concat(new kc(n._key,ft.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new z(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ys(t,e){if((t=he(t)).firestore!==e)throw new z(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kee=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Da(n)}get(n){const r=ys(n,this._firestore),i=new mee(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return se();const o=s[0];if(o.isFoundDocument())return new oh(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new oh(this._firestore,i,r._key,null,r.converter);throw se()})}set(n,r,i){const s=ys(n,this._firestore),o=ov(s.converter,r,i),a=ev(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=ys(n,this._firestore);let a;return a=typeof(r=he(r))=="string"||r instanceof Xs?$E(this._dataReader,"Transaction.update",o._key,r,i,s):jE(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=ys(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ys(e,this._firestore),r=new Ma(this._firestore);return super.get(e).then(i=>new Yi(this._firestore,r,n._key,i._document,new Bo(!1,!1),n.converter))}};function Aee(t,e,n){t=Le(t,Rt);const r=Object.assign(Object.assign({},Ree),n);return function(s){if(s.maxAttempts<1)throw new z(L.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Jt;return s.asyncQueue.enqueueAndForget(async()=>{const c=await LZ(s);new OZ(s.asyncQueue,c,a,o,l).Ya()}),l.promise}(nn(t),i=>e(new kee(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pee(){return new cf("deleteField")}function Nee(){return new ME("serverTimestamp")}function Dee(...t){return new LE("arrayUnion",t)}function Oee(...t){return new VE("arrayRemove",t)}function Mee(t){return new FE("increment",t)}(function(e,n=!0){(function(i){Tc=i})(co),zs(new mi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Rt(new zY(r.getProvider("auth-internal")),new KY(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new z(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ks(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),hi(aR,"4.5.0",e),hi(aR,"4.5.0","esm2017")})();const Lee="@firebase/firestore-compat",Vee="0.3.27";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new z("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){if(typeof Uint8Array>"u")throw new z("unimplemented","Uint8Arrays are not available in this environment.")}function mC(){if(!vX())throw new z("unimplemented","Blobs are unavailable in Firestore in this environment.")}let dF=class iw{constructor(e){this._delegate=e}static fromBase64String(e){return mC(),new iw(_i.fromBase64String(e))}static fromUint8Array(e){return gC(),new iw(_i.fromUint8Array(e))}toBase64(){return mC(),this._delegate.toBase64()}toUint8Array(){return gC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t){return Fee(t,["next","error","complete"])}function Fee(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jee{enableIndexedDbPersistence(e,n){return QZ(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return YZ(e._delegate)}clearIndexedDbPersistence(e){return XZ(e._delegate)}}class hF{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ks||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Wr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){WZ(this._delegate,e,n,r)}enableNetwork(){return ZZ(this._delegate)}disableNetwork(){return eee(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,BV("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return JZ(this._delegate)}onSnapshotsInSync(e){return Tee(this._delegate,e)}get app(){if(!this._appCompat)throw new z("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new lc(this,KV(this._delegate,e))}catch(n){throw kn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ir(this,rm(this._delegate,e))}catch(n){throw kn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Cn(this,HZ(this._delegate,e))}catch(n){throw kn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Aee(this._delegate,n=>e(new fF(this,n)))}batch(){return nn(this._delegate),new pF(new Cee(this._delegate,e=>df(this._delegate,e)))}loadBundle(e){return tee(this._delegate,e)}namedQuery(e){return nee(this._delegate,e).then(n=>n?new Cn(this,n):null)}}class av extends qE{constructor(e){super(),this.firestore=e}convertBytes(e){return new dF(new _i(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ir.forKey(n,this.firestore,null)}}function $ee(t){jY(t)}class fF{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new av(e)}get(e){const n=zo(e);return this._delegate.get(n).then(r=>new ah(this._firestore,new Yi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=zo(e);return r?(GE("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=zo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=zo(e);return this._delegate.delete(n),this}}class pF{constructor(e){this._delegate=e}set(e,n,r){const i=zo(e);return r?(GE("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=zo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=zo(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class _a{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new ad(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lh(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=_a.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new _a(e,new av(e),n),i.set(n,s)),s}}_a.INSTANCES=new WeakMap;class Ir{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new av(e)}static forPath(e,n,r){if(e.length%2!==0)throw new z("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ir(n,new yt(n._delegate,r,new Z(e)))}static forKey(e,n,r){return new Ir(n,new yt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new lc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new lc(this.firestore,KV(this._delegate,e))}catch(n){throw kn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=he(e),e instanceof yt?GV(this._delegate,e):!1}set(e,n){n=GE("DocumentReference.set",n);try{return n?fC(this._delegate,e,n):fC(this._delegate,e)}catch(r){throw kn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?pC(this._delegate,e):pC(this._delegate,e,n,...r)}catch(i){throw kn(i,"updateDoc()","DocumentReference.update()")}}delete(){return Eee(this._delegate)}onSnapshot(...e){const n=gF(e),r=mF(e,i=>new ah(this.firestore,new Yi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return uF(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=_ee(this._delegate):(e==null?void 0:e.source)==="server"?n=bee(this._delegate):n=vee(this._delegate),n.then(r=>new ah(this.firestore,new Yi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ir(this.firestore,e?this._delegate.withConverter(_a.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function kn(t,e,n){return t.message=t.message.replace(e,n),t}function gF(t){for(const e of t)if(typeof e=="object"&&!sw(e))return e;return{}}function mF(t,e){var n,r;let i;return sw(t[0])?i=t[0]:sw(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class ah{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ir(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return cF(this._delegate,e._delegate)}}class lh extends ah{data(e){const n=this._delegate.data(e);return this._delegate._converter||$Y(n!==void 0),n}}class Cn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new av(e)}where(e,n,r){try{return new Cn(this.firestore,us(this._delegate,lee(e,n,r)))}catch(i){throw kn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Cn(this.firestore,us(this._delegate,cee(e,n)))}catch(r){throw kn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Cn(this.firestore,us(this._delegate,uee(e)))}catch(n){throw kn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Cn(this.firestore,us(this._delegate,dee(e)))}catch(n){throw kn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Cn(this.firestore,us(this._delegate,hee(...e)))}catch(n){throw kn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Cn(this.firestore,us(this._delegate,fee(...e)))}catch(n){throw kn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Cn(this.firestore,us(this._delegate,pee(...e)))}catch(n){throw kn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Cn(this.firestore,us(this._delegate,gee(...e)))}catch(n){throw kn(n,"endAt()","Query.endAt()")}}isEqual(e){return QV(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=xee(this._delegate):(e==null?void 0:e.source)==="server"?n=See(this._delegate):n=wee(this._delegate),n.then(r=>new ow(this.firestore,new Js(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=gF(e),r=mF(e,i=>new ow(this.firestore,new Js(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return uF(this._delegate,n,r)}withConverter(e){return new Cn(this.firestore,e?this._delegate.withConverter(_a.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Uee{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new lh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ow{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Cn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Uee(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new lh(this._firestore,r))})}isEqual(e){return cF(this._delegate,e._delegate)}}class lc extends Cn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ir(this.firestore,e):null}doc(e){try{return e===void 0?new Ir(this.firestore,rm(this._delegate)):new Ir(this.firestore,rm(this._delegate,e))}catch(n){throw kn(n,"doc()","CollectionReference.doc()")}}add(e){return Iee(this._delegate,e).then(n=>new Ir(this.firestore,n))}isEqual(e){return GV(this._delegate,e._delegate)}withConverter(e){return new lc(this.firestore,e?this._delegate.withConverter(_a.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function zo(t){return Le(t,yt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(...e){this._delegate=new Xs(...e)}static documentId(){return new QE(ht.keyField().canonicalString())}isEqual(e){return e=he(e),e instanceof Xs?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._delegate=e}static serverTimestamp(){const e=Nee();return e._methodName="FieldValue.serverTimestamp",new Mo(e)}static delete(){const e=Pee();return e._methodName="FieldValue.delete",new Mo(e)}static arrayUnion(...e){const n=Dee(...e);return n._methodName="FieldValue.arrayUnion",new Mo(n)}static arrayRemove(...e){const n=Oee(...e);return n._methodName="FieldValue.arrayRemove",new Mo(n)}static increment(e){const n=Mee(e);return n._methodName="FieldValue.increment",new Mo(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee={Firestore:hF,GeoPoint:Jy,Timestamp:at,Blob:dF,Transaction:fF,WriteBatch:pF,DocumentReference:Ir,DocumentSnapshot:ah,Query:Cn,QueryDocumentSnapshot:lh,QuerySnapshot:ow,CollectionReference:lc,FieldPath:QE,FieldValue:Mo,setLogLevel:$ee,CACHE_SIZE_UNLIMITED:GZ};function zee(t,e){t.INTERNAL.registerComponent(new mi("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Bee)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wee(t){zee(t,(e,n)=>new hF(e,n,new jee)),t.registerVersion(Lee,Vee)}Wee(Dt);const Hee={apiKey:"AIzaSyCDj5lHl9qwaIhVVxKFyK-m-ENvw8bKvlk",authDomain:"cryptopulse-e45b9.firebaseapp.com",projectId:"cryptopulse-e45b9",storageBucket:"cryptopulse-e45b9.appspot.com",messagingSenderId:"308291913891",appId:"1:308291913891:web:fa95a3feb4999f921c5716",measurementId:"G-FGVTZMFMSL"},qee=Dt.initializeApp(Hee),Zs=qee.auth();async function Kee(){const t=Dt.firestore();try{const e=await t.collection("cryptocurrencies").get(),n={},r=[];return e.forEach(i=>{i.id!=="updatedTimeStamp"?r.push(i.data()):n.updatedTime=i.data().timeStamp}),n.currencies=r,n}catch(e){console.error("Error fetching cryptocurrency data from Firestore:",e)}}async function Gee(){const t=Dt.firestore();try{const e=await t.collection("cryptonews").get(),n={},r=[];return e.forEach(i=>{i.id!=="updatedTimeStamp"?r.push(i.data()):n.updatedTime=i.data().timeStamp}),n.news=r,n}catch(e){console.error("Error fetching crypto news data from Firestore:",e)}}async function Qee(t,e){const n=Dt.firestore();try{await n.collection("users").doc(t.uid).set({uid:t.uid,email:t.email,phone:e.phone,displayName:t.displayName,photoURL:t.photoURL,createdAt:Dt.firestore.FieldValue.serverTimestamp()})}catch(r){console.error("Error creating new user in Firestore:",r)}}async function Yee(t){const e=Dt.firestore();try{const n=e.collection("users").doc(t.uid),i=(await n.get()).data()||{},a=(await n.collection("wallet").get()).docs.map(h=>({id:h.id,...h.data()})),u=(await n.collection("transactions").get()).docs.map(h=>({id:h.id,...h.data()}));return{...i,wallet:a,transactions:u}}catch(n){return console.error("Error fetching user data and collections from Firestore:",n),null}}async function Xee(t,e,n,r,i,s){const o=Dt.firestore(),a=o.collection("users").doc(t.uid).collection("wallet").doc(e.id),l=o.collection("users").doc(t.uid).collection("transactions").doc();try{await o.runTransaction(async c=>{const u=await c.get(a),h=(u.data()?u.data().amount:0)+n;u.exists?c.update(a,{amount:h}):c.set(a,{id:e.id,amount:h});const f={cardNumber:"**** **** **** "+i.cardNumber.slice(15,19),cardName:i.cardName,expDate:i.expDate,ccv:i.ccv};c.set(l,{accountBalance:s,currencyId:e.id,transactionType:"buy",amount:n,price:r,timestamp:Dt.firestore.FieldValue.serverTimestamp(),creditCardDetails:f})}),console.log("Transaction successfully committed!")}catch(c){console.log("Transaction failed: ",c)}}async function Jee(t,e,n,r,i){const s=Dt.firestore(),o=s.collection("users").doc(t.uid).collection("wallet").doc(n.id),a=s.collection("users").doc(t.uid).collection("wallet").doc(e.id),l=s.collection("users").doc(t.uid).collection("transactions").doc();try{await s.runTransaction(async c=>{const u=await c.get(a),d=await c.get(o),h=u.data()?u.data().amount:0,f=d.data()?d.data().amount:0;if(h<r)return console.log("Insufficient funds!"),"Error: Insufficient funds!";const g=h-r,m=f+i;c.update(a,{amount:g}),d.exists?c.update(o,{amount:m}):c.set(o,{id:n.id,amount:m}),c.set(l,{soldCurrency:{id:e.id,amount:r},boughtCurrency:{id:n.id,amount:i},transactionType:"trade",timestamp:Dt.firestore.FieldValue.serverTimestamp()})}),console.log("Transaction successfully committed!")}catch(c){console.log("Transaction failed: ",c)}}async function Zee(t,e,n,r,i){const s=Dt.firestore(),o=s.collection("users").doc(t.uid).collection("wallet").doc(e.id),a=s.collection("users").doc(t.uid).collection("transactions").doc();try{await s.runTransaction(async l=>{const c=await l.get(o),u=c.data()?c.data().amount:0;if(u<n)return console.log("Insufficient funds!"),"Error: Insufficient funds!";const d=u-n;c.exists?l.update(o,{amount:d}):l.set(o,{id:e.id,amount:d}),l.set(a,{accountBalance:i,currencyId:e.id,amount:n,price:e.current_price,bankAccountDetails:r,transactionType:"withdraw",timestamp:Dt.firestore.FieldValue.serverTimestamp()})}),console.log("Transaction successfully committed!")}catch(l){console.log("Transaction failed: ",l)}}function Hr(t){return new at(t.seconds,t.nanoseconds).toDate()}async function ete(){const t=Dt.firestore(),e=Zs.currentUser,n=t.collection("users").doc(e.uid);await t.runTransaction(async r=>{(await r.get(n)).exists&&r.delete(n),await e.delete()})}async function tte(t,e,n,r,i){const s=Dt.firestore(),o=Dt.auth().currentUser,a=s.collection("users").doc(o.uid);if(i){try{const l=Dt.auth.EmailAuthProvider.credential(o.email,r);await o.reauthenticateWithCredential(l)}catch(l){throw new Error("Re-authentication failed: "+l.message)}await xM(o,i)}await s.runTransaction(async l=>{if(!(await l.get(a)).exists)throw new Error("User document does not exist!");l.update(a,{displayName:`${t} ${e}`,phone:n})}),await gS(o,{displayName:`${t} ${e}`}),console.log("User account successfully updated!")}const nte=({isAuthenticated:t})=>{const[e,n]=$s(lo),[r,i]=$s(Xx);S.useEffect(()=>{t?(e.data.length===0&&s(),r.data.length===0&&o()):(n({data:[],filterdData:[],updatedTime:null}),i({data:[],filterdData:[],updatedTime:null}))},[t]);async function s(){try{const a=await Kee();n({data:a.currencies,filterdData:a.currencies,updatedTime:a.updatedTime})}catch(a){console.log("Transaction failed: ",a)}}async function o(){try{const a=await Gee();console.log(a),i({data:a.news,filterdData:a.news,updatedTime:a.updatedTime})}catch(a){console.log("Transaction failed: ",a)}}return t?p.jsx(nb,{}):p.jsx(ml,{to:"/welcome",replace:!0})};function rte(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const yC={};function aw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&yC[e[0]]||(typeof e[0]=="string"&&(yC[e[0]]=new Date),rte(...e))}const yF=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function vC(t,e,n){t.loadNamespaces(e,yF(t,n))}function _C(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,yF(t,r))}function ite(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=e.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))}function ste(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(aw("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,t))return!1}}):ite(t,e,n)}const ote=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ate={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},lte=t=>ate[t],cte=t=>t.replace(ote,lte);let lw={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:cte};function ute(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lw={...lw,...t}}function dte(){return lw}let vF;function hte(t){vF=t}function fte(){return vF}const pte={type:"3rdParty",init(t){ute(t.options.react),hte(t)}},gte=S.createContext();class mte{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const yte=(t,e)=>{const n=S.useRef();return S.useEffect(()=>{n.current=e?n.current:t},[t,e]),n.current};function _F(t,e,n,r){return t.getFixedT(e,n,r)}function vte(t,e,n,r){return S.useCallback(_F(t,e,n,r),[t,e,n,r])}function qe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:i}=S.useContext(gte)||{},s=n||r||fte();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new mte),!s){aw("You will need to pass in an i18next instance by using initReactI18next");const w=(I,T)=>typeof T=="string"?T:T&&typeof T=="object"&&typeof T.defaultValue=="string"?T.defaultValue:Array.isArray(I)?I[I.length-1]:I,x=[w,{},!1];return x.t=w,x.i18n={},x.ready=!1,x}s.options.react&&s.options.react.wait!==void 0&&aw("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...dte(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=t||i||s.options&&s.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(c);const u=(s.isInitialized||s.initializedStoreOnce)&&c.every(w=>ste(w,s,o)),d=vte(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),h=()=>d,f=()=>_F(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[g,m]=S.useState(h);let _=c.join();e.lng&&(_=`${e.lng}${_}`);const v=yte(_),y=S.useRef(!0);S.useEffect(()=>{const{bindI18n:w,bindI18nStore:x}=o;y.current=!0,!u&&!a&&(e.lng?_C(s,e.lng,c,()=>{y.current&&m(f)}):vC(s,c,()=>{y.current&&m(f)})),u&&v&&v!==_&&y.current&&m(f);function I(){y.current&&m(f)}return w&&s&&s.on(w,I),x&&s&&s.store.on(x,I),()=>{y.current=!1,w&&s&&w.split(" ").forEach(T=>s.off(T,I)),x&&s&&x.split(" ").forEach(T=>s.store.off(T,I))}},[s,_]),S.useEffect(()=>{y.current&&u&&m(h)},[s,l,u]);const b=[g,s,u];if(b.t=g,b.i18n=s,b.ready=u,u||!u&&!a)return b;throw new Promise(w=>{e.lng?_C(s,e.lng,c,()=>w()):vC(s,c,()=>w())})}const _te=t=>new Promise((e,n)=>{const r=document.createElement("script");r.src=t,r.async=!0,r.onload=()=>e(r),r.onerror=()=>n(new Error(`Script load error for ${t}`)),document.body.appendChild(r)}),bF=()=>(S.useEffect(()=>{_te("https://cdn.jsdelivr.net/npm/tsparticles@1.37.4/tsparticles.min.js").then(()=>{window.tsParticles.load("tsparticles",{interactivity:{events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!0,mode:"bubble"},resize:!0},modes:{bubble:{distance:400,duration:2,opacity:.8,size:20},push:{quantity:4},repulse:{distance:200,duration:.4}}},particles:{color:{value:"#4bc0c0",opacity:1},links:{color:"#4bc0c0",distance:150,enable:!0,opacity:.5,width:1},collisions:{enable:!0},move:{direction:"inside",enable:!0,outMode:"bounce",random:!1,speed:2,straight:!0},number:{density:{enable:!0,value_area:800},value:80},opacity:{value:.5},shape:{type:"circle"},size:{random:!1,value:5}}})}).catch(t=>console.error("Script loading failed.",t))},[]),p.jsx("div",{id:"tsparticles",className:"absolute top-0 left-0 w-full h-full"})),bte="/assets/logoB-BNS7NqN4.png",hf="/assets/logo-DRWUd7yX.png",wte=()=>{const{t}=qe(),[e,n]=S.useState(!1);return S.useEffect(()=>{localStorage.getItem("theme")==="dark"&&n(!0)},[]),p.jsxs("div",{className:`w-screen h-screen flex flex-col justify-center items-center ${e?"bg-gray-800":"bg-white"}`,children:[p.jsxs("div",{className:" flex flex-col justify-center items-center",children:[p.jsx("img",{className:"flex justify-center items-center max-w-48 bg-transparent",loading:"lazy",src:hf,alt:t("cryptoPulse")+" logo"}),p.jsx("div",{className:"absolute loader"})]}),p.jsx("h1",{className:`m-10 text-5xl font-bold ${e?"text-gray-100":"text-gray-800"}`,children:t("loading")})]})},wF=S.createContext();function xi(){return S.useContext(wF)}function xte({children:t}){const[e,n]=S.useState(),[r,i]=S.useState(!0),[s,o]=S.useState({displayName:"",email:"",photoURL:"",uid:"",wallet:[],Transactions:[]});S.useEffect(()=>{const c=ZK(Zs,u=>{n(u),u?a(u):i(!1),console.log("===================================="),console.log("User:",u),console.log("====================================")});return()=>{c()}},[]);const a=async c=>{if(c){const u=await Yee(c);o(u)}i(!1)},l={currentUser:e,currentUserData:s,loading:r,fetchUserData:a};return p.jsx(wF.Provider,{value:l,children:r?p.jsx(wte,{}):t})}function Ste(){const{t}=qe(),{currentUser:e}=xi(),[n,r]=S.useState("");return S.useEffect(()=>{document.title=t("home")+" | "+t("cryptoPulse");const i=new Date().getHours();let s;return i<12?s="GoodMorning":i<18?s="GoodAfternoon":s="GoodEvening",r(s),()=>{document.title=t("cryptoPulse")}},[]),p.jsxs("div",{className:"text-slate-950 dark:text-white content overflow-hidden",children:[p.jsx(bF,{}),p.jsxs("div",{className:"h-full flex flex-col md:flex-row justify-start md:justify-center items-center mt-24 md:m-0 md:left-1/2 md:-translate-x-[20%] gap-10",children:[p.jsx("img",{src:bte,loading:"lazy",alt:"CryptoPulse logo",className:"flex h-auto w-auto max-h-80 md:max-h-[1500px]"}),p.jsxs("div",{className:"flex flex-col w-full text-center md:text-start gap-1 md:gap-5",children:[p.jsxs("h1",{className:"text-4xl md:text-6xl font-thin whitespace-nowrap",children:[t(n),"!"]}),p.jsx("h1",{className:"text-6xl md:text-8xl font-bold whitespace-nowrap",children:e.displayName})]})]})]})}function La({title:t,message:e,isVisible:n,onClose:r,messageType:i,action:s}){const{t:o}=qe();if(!n)return null;const a=()=>i===void 0?p.jsx("button",{className:"w-fit text-black dark:text-white bg-gray-300 dark:bg-gray-500 p-1.5 hover:bg-gray-200 dark:hover:bg-gray-400 rounded-lg whitespace-nowrap",onClick:r,children:o("ok")}):p.jsxs("div",{className:"flex justify-around items-center w-full",children:[p.jsx("button",{className:"w-full max-w-32 mx-1 text-black dark:text-white bg-gray-300 dark:bg-gray-500 p-1.5 hover:bg-gray-200 dark:hover:bg-gray-400 rounded-lg",onClick:r,children:o("cancel")}),p.jsx("button",{className:`w-full max-w-32 mx-1 text-black dark:text-white ${i==="confirm-warnning"?"bg-red-300 dark:bg-red-500 hover:bg-red-400 dark:hover:bg-red-400":"bg-green-300 dark:bg-green-500 hover:bg-green-400 dark:hover:bg-green-400"} p-1.5 rounded-lg`,onClick:()=>{s(),r()},children:o("confirm")})]});return p.jsx("div",{className:"bg-white bg-opacity-5 flex justify-center items-center fixed top-0 left-0 w-full h-full z-50",style:{backdropFilter:"blur(5px)",WebkitBackdropFilter:"blur(5px)"},children:p.jsxs("div",{className:"alert border border-gray-600 dark:border-white flex flex-col justify-center items-center bg-gray-100 w-[calc(100%-50px)] md:w-fit dark:bg-gray-700 min-h-fit",children:[p.jsx("div",{className:"text-2xl w-full font-bold text-black dark:text-white",children:o(t)}),p.jsx("div",{className:"text-lg my-5 h-full w-full font-semibold text-black dark:text-white whitespace-pre-wrap",children:o(e)}),a()]})})}function Ete(){const{t}=qe(),[e,n]=S.useState(!1),[r,i]=S.useState(!1),s=()=>i(!0),o=()=>i(!1),[a,l]=S.useState(!1),[c,u]=S.useState({title:"",message:"",type:""}),[d,h]=S.useState({email:"",password:""}),f=async v=>{if(g()){l(!0),v.preventDefault();try{await wM(Zs,d.email,d.password)}catch(y){y.code==="auth/invalid-credential"?u({...c,title:"error",message:"errorInvalidCredentials",type:"error"}):u({...c,title:"error",message:"somethingWentWrong",type:"error"}),s()}finally{l(!1)}}};function g(){const{email:v,password:y}=d;return v===""||y===""?(u({...c,title:"error",message:"errorFillAllFields",type:"error"}),s(),!1):m(v)?!0:(u({...c,title:"error",message:"errorInvalidEmail",type:"error"}),s(),!1)}function m(v){return/\S+@\S+\.\S+/.test(v)}const _=()=>{const{email:v}=d;if(!m(v)){u({...c,title:"error",message:"errorInvalidEmail",type:"error"}),s();return}pS(Zs,d.email).then(()=>{u({...c,title:"success",message:"resetPasswordEmailSent",type:"success"}),s()}).catch(y=>{console.log(y)})};return p.jsxs("div",{className:"scrollable-content content",children:[p.jsxs("div",{className:"grid md:grid-cols-2 w-full h-full py-5 overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-end",children:[p.jsx("img",{src:hf,loading:"lazy",alt:"CryptoPulse logo",className:"flex max-h-[350px] w-auto md:max-h-[550px] p-5 m-auto"}),p.jsx("div",{className:"h-full bg-gray-300 dark:bg-gray-600 hidden md:block w-px mx-[10px]"})]}),p.jsxs("div",{onSubmit:f,className:"flex flex-col justify-center mx-10",children:[p.jsx("h1",{className:"text-5xl font-bold text-slate-950 dark:text-white",children:t("logIn")}),p.jsx("input",{type:"text",onChange:v=>h({...d,email:v.target.value}),className:"mt-10 h-10 pl-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("mail")}),p.jsx("input",{type:e?"text":"password",onChange:v=>h({...d,password:v.target.value}),className:"mt-5 h-10 pl-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("password")}),p.jsxs("div",{className:"flex mt-5 gap-2",children:[p.jsx("input",{type:"checkbox",onClick:()=>n(!e)}),p.jsx("label",{className:"text-gray-800 dark:text-white",children:t("showPassword")})]}),p.jsx("button",{type:"button",onClick:f,disabled:a,className:`mt-10 h-10 text-gray-800 font-bold px-5 rounded-lg bg-custom-teal ${!a&&"hover:bg-teal-500"} flex justify-start items-center`,children:a?p.jsxs("div",{className:"loading-container",children:[p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"})]}):t("logIn")}),p.jsx("a",{className:"mt-5 text-gray-500 dark:text-gray-300 cursor-pointer font-semibold underline",onClick:_,children:t("forgotPassword")})]})]}),p.jsx(La,{title:c.title,message:c.message,isVisible:r,onClose:o})]})}function Ite(){const{t}=qe(),[e,n]=S.useState(!1),r=()=>n(!0),i=()=>n(!1),[s,o]=S.useState({title:"",message:"",type:""}),[a,l]=S.useState(!1),[c,u]=S.useState({email:"",firstName:"",lastName:"",phone:"",password:"",confirmPassword:""}),[d,h]=S.useState(!1),f=async _=>{if(g()){h(!0),_.preventDefault();try{await bM(Zs,c.email,c.password).then(async v=>{const y=v.user;await gS(y,{displayName:c.firstName+" "+c.lastName}),await Qee(y,c)}),o({...s,title:"success",message:"accountCreated",type:"success"}),r()}catch(v){console.log(v)}finally{h(!1)}}};function g(){const _=c.email,v=c.firstName,y=c.lastName,b=c.phone,w=c.password,x=c.confirmPassword;return _===""||v===""||y===""||b===""||w===""||x===""?(o({...s,title:"error",message:"errorFillAllFields",type:"error"}),r(),!1):m(_)?w!==x?(o({...s,title:"error",message:"errorPasswordsDoNotMatch",type:"error"}),r(),!1):w.length<6?(o({...s,title:"error",message:"passwordTooShort",type:"error"}),r(),!1):!0:(o({...s,title:"error",message:"errorInvalidEmail",type:"error"}),r(),!1)}function m(_){return/\S+@\S+\.\S+/.test(_)}return p.jsxs("div",{className:"scrollable-content content",children:[p.jsxs("div",{className:"grid md:grid-cols-2 w-full h-full py-5 overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-end",children:[p.jsx("img",{src:hf,loading:"lazy",alt:"CryptoPulse logo",className:"flex max-h-[350px] w-auto md:max-h-[550px] p-5 m-auto"}),p.jsx("div",{className:"h-full bg-gray-300 dark:bg-gray-600 hidden md:block w-px mx-[10px]"})]}),p.jsxs("div",{className:"flex flex-col justify-center gap-5 mx-10 ",children:[p.jsx("h1",{className:"text-5xl font-bold text-slate-950 dark:text-white",children:t("signUp")}),p.jsx("input",{type:"text",onChange:_=>u({...c,email:_.target.value}),className:"mt-10 h-10 pl-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("mail")}),p.jsxs("div",{className:"flex flex-row w-full",children:[p.jsx("input",{type:"text",onChange:_=>u({...c,firstName:_.target.value}),className:"w-full mr-2 pl-3 h-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("firstName")}),p.jsx("input",{type:"text",onChange:_=>u({...c,lastName:_.target.value}),className:"w-full ml-2 pl-3 h-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("lastName")})]}),p.jsx("input",{type:"text",onChange:_=>u({...c,phone:_.target.value}),className:"h-10 pl-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("phone")}),p.jsxs("div",{className:"flex flex-row w-full",children:[p.jsx("input",{type:a?"text":"password",onChange:_=>u({...c,password:_.target.value}),className:"w-full mr-2 h-10 pl-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("password")}),p.jsx("input",{type:a?"text":"password",onChange:_=>u({...c,confirmPassword:_.target.value}),className:"w-full ml-2 h-10 pl-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("confirmPassword")})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"checkbox",onClick:()=>l(!a)}),p.jsx("label",{className:"text-gray-800 dark:text-white",children:t("showPassword")})]}),p.jsx("button",{type:"button",onClick:f,className:`mt-10 h-10 text-gray-800 font-bold px-5 rounded-lg bg-custom-teal ${!d&&"hover:bg-teal-500"} flex justify-start items-center`,children:d?p.jsxs("div",{className:"loading-container",children:[p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"})]}):t("signUp")})]})]}),p.jsx(La,{title:s.title,message:s.message,action:s.action,isVisible:e,onClose:i})]})}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function ff(t){return t+.5|0}const Ss=(t,e,n)=>Math.max(Math.min(t,n),e);function Nu(t){return Ss(ff(t*2.55),0,255)}function Vs(t){return Ss(ff(t*255),0,255)}function ki(t){return Ss(ff(t/2.55)/100,0,1)}function bC(t){return Ss(ff(t*100),0,100)}const _r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},cw=[..."0123456789ABCDEF"],Tte=t=>cw[t&15],Rte=t=>cw[(t&240)>>4]+cw[t&15],Xf=t=>(t&240)>>4===(t&15),Cte=t=>Xf(t.r)&&Xf(t.g)&&Xf(t.b)&&Xf(t.a);function kte(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&_r[t[1]]*17,g:255&_r[t[2]]*17,b:255&_r[t[3]]*17,a:e===5?_r[t[4]]*17:255}:(e===7||e===9)&&(n={r:_r[t[1]]<<4|_r[t[2]],g:_r[t[3]]<<4|_r[t[4]],b:_r[t[5]]<<4|_r[t[6]],a:e===9?_r[t[7]]<<4|_r[t[8]]:255})),n}const Ate=(t,e)=>t<255?e(t):"";function Pte(t){var e=Cte(t)?Tte:Rte;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Ate(t.a,e):void 0}const Nte=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function xF(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Dte(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function Ote(t,e,n){const r=xF(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Mte(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function YE(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=Mte(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function XE(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Vs)}function JE(t,e,n){return XE(xF,t,e,n)}function Lte(t,e,n){return XE(Ote,t,e,n)}function Vte(t,e,n){return XE(Dte,t,e,n)}function SF(t){return(t%360+360)%360}function Fte(t){const e=Nte.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Nu(+e[5]):Vs(+e[5]));const i=SF(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=Lte(i,s,o):e[1]==="hsv"?r=Vte(i,s,o):r=JE(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function jte(t,e){var n=YE(t);n[0]=SF(n[0]+e),n=JE(n),t.r=n[0],t.g=n[1],t.b=n[2]}function $te(t){if(!t)return;const e=YE(t),n=e[0],r=bC(e[1]),i=bC(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${ki(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const wC={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xC={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ute(){const t={},e=Object.keys(xC),n=Object.keys(wC);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,wC[s]);s=parseInt(xC[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Jf;function Bte(t){Jf||(Jf=Ute(),Jf.transparent=[0,0,0,0]);const e=Jf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const zte=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Wte(t){const e=zte.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Nu(o):Ss(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Nu(r):Ss(r,0,255)),i=255&(e[4]?Nu(i):Ss(i,0,255)),s=255&(e[6]?Nu(s):Ss(s,0,255)),{r,g:i,b:s,a:n}}}function Hte(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ki(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const M_=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ga=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function qte(t,e,n){const r=Ga(ki(t.r)),i=Ga(ki(t.g)),s=Ga(ki(t.b));return{r:Vs(M_(r+n*(Ga(ki(e.r))-r))),g:Vs(M_(i+n*(Ga(ki(e.g))-i))),b:Vs(M_(s+n*(Ga(ki(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Zf(t,e,n){if(t){let r=YE(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=JE(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function EF(t,e){return t&&Object.assign(e||{},t)}function SC(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Vs(t[3]))):(e=EF(t,{r:0,g:0,b:0,a:1}),e.a=Vs(e.a)),e}function Kte(t){return t.charAt(0)==="r"?Wte(t):Fte(t)}class ch{constructor(e){if(e instanceof ch)return e;const n=typeof e;let r;n==="object"?r=SC(e):n==="string"&&(r=kte(e)||Bte(e)||Kte(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=EF(this._rgb);return e&&(e.a=ki(e.a)),e}set rgb(e){this._rgb=SC(e)}rgbString(){return this._valid?Hte(this._rgb):void 0}hexString(){return this._valid?Pte(this._rgb):void 0}hslString(){return this._valid?$te(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=qte(this._rgb,e._rgb,n)),this}clone(){return new ch(this.rgb)}alpha(e){return this._rgb.a=Vs(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ff(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Zf(this._rgb,2,e),this}darken(e){return Zf(this._rgb,2,-e),this}saturate(e){return Zf(this._rgb,1,e),this}desaturate(e){return Zf(this._rgb,1,-e),this}rotate(e){return jte(this._rgb,e),this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Ei(){}const Gte=(()=>{let t=0;return()=>t++})();function Me(t){return t===null||typeof t>"u"}function it(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Pe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function xt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function rr(t,e){return xt(t)?t:e}function Ee(t,e){return typeof t>"u"?e:t}const Qte=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,IF=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Qe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function $e(t,e,n,r){let i,s,o;if(it(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(Pe(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function sm(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function om(t){if(it(t))return t.map(om);if(Pe(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=om(t[n[i]]);return e}return t}function TF(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Yte(t,e,n,r){if(!TF(t))return;const i=e[t],s=n[t];Pe(i)&&Pe(s)?uh(i,s,r):e[t]=om(s)}function uh(t,e,n){const r=it(e)?e:[e],i=r.length;if(!Pe(t))return t;n=n||{};const s=n.merger||Yte;let o;for(let a=0;a<i;++a){if(o=r[a],!Pe(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function ld(t,e){return uh(t,e,{merger:Xte})}function Xte(t,e,n){if(!TF(t))return;const r=e[t],i=n[t];Pe(r)&&Pe(i)?ld(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=om(i))}const EC={"":t=>t,x:t=>t.x,y:t=>t.y};function Jte(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Zte(t){const e=Jte(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function eo(t,e){return(EC[e]||(EC[e]=Zte(e)))(t)}function ZE(t){return t.charAt(0).toUpperCase()+t.slice(1)}const dh=t=>typeof t<"u",to=t=>typeof t=="function",IC=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function ene(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const lt=Math.PI,ot=2*lt,tne=ot+lt,am=Number.POSITIVE_INFINITY,nne=lt/180,Nt=lt/2,bo=lt/4,TC=lt*2/3,Es=Math.log10,pi=Math.sign;function cd(t,e,n){return Math.abs(t-e)<n}function RC(t){const e=Math.round(t);t=cd(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Es(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function rne(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function cc(t){return!isNaN(parseFloat(t))&&isFinite(t)}function ine(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function RF(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Lr(t){return t*(lt/180)}function eI(t){return t*(180/lt)}function CC(t){if(!xt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function CF(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*lt&&(s+=ot),{angle:s,distance:i}}function uw(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function sne(t,e){return(t-e+tne)%ot-lt}function sr(t){return(t%ot+ot)%ot}function hh(t,e,n,r){const i=sr(t),s=sr(e),o=sr(n),a=sr(s-i),l=sr(o-i),c=sr(i-s),u=sr(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function Yt(t,e,n){return Math.max(e,Math.min(n,t))}function one(t){return Yt(t,-32768,32767)}function Li(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function tI(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Vi=(t,e,n,r)=>tI(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),ane=(t,e,n)=>tI(t,n,r=>t[r][e]>=n);function lne(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const kF=["push","pop","shift","splice","unshift"];function cne(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),kF.forEach(n=>{const r="_onData"+ZE(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function kC(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(kF.forEach(s=>{delete t[s]}),delete t._chartjs)}function AF(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const PF=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function NF(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,PF.call(window,()=>{r=!1,t.apply(e,n)}))}}function une(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const nI=t=>t==="start"?"left":t==="end"?"right":"center",bn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,dne=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function DF(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(i=Yt(Math.min(Vi(a,l,c).lo,n?r:Vi(e,l,o.getPixelForValue(c)).lo),0,r-1)),h?s=Yt(Math.max(Vi(a,o.axis,u,!0).hi+1,n?0:Vi(e,l,o.getPixelForValue(u),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function OF(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const ep=t=>t===0||t===1,AC=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ot/n)),PC=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ot/n)+1,ud={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Nt)+1,easeOutSine:t=>Math.sin(t*Nt),easeInOutSine:t=>-.5*(Math.cos(lt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ep(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ep(t)?t:AC(t,.075,.3),easeOutElastic:t=>ep(t)?t:PC(t,.075,.3),easeInOutElastic(t){return ep(t)?t:t<.5?.5*AC(t*2,.1125,.45):.5+.5*PC(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ud.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ud.easeInBounce(t*2)*.5:ud.easeOutBounce(t*2-1)*.5+.5};function rI(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function NC(t){return rI(t)?t:new ch(t)}function L_(t){return rI(t)?t:new ch(t).saturate(.5).darken(.1).hexString()}const hne=["x","y","borderWidth","radius","tension"],fne=["color","borderColor","backgroundColor"];function pne(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:fne},numbers:{type:"number",properties:hne}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function gne(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const DC=new Map;function mne(t,e){e=e||{};const n=t+JSON.stringify(e);let r=DC.get(n);return r||(r=new Intl.NumberFormat(t,e),DC.set(n,r)),r}function pf(t,e,n){return mne(e,n).format(t)}const MF={values(t){return it(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=yne(t,n)}const o=Es(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),pf(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Es(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?MF.numeric.call(this,t,e,n):""}};function yne(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var lv={formatters:MF};function vne(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ba=Object.create(null),dw=Object.create(null);function dd(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function V_(t,e,n){return typeof e=="string"?uh(dd(t,e),n):uh(dd(t,""),e)}class _ne{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>L_(i.backgroundColor),this.hoverBorderColor=(r,i)=>L_(i.borderColor),this.hoverColor=(r,i)=>L_(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return V_(this,e,n)}get(e){return dd(this,e)}describe(e,n){return V_(dw,e,n)}override(e,n){return V_(ba,e,n)}route(e,n,r,i){const s=dd(this,e),o=dd(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Pe(l)?Object.assign({},c,l):Ee(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var St=new _ne({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[pne,gne,vne]);function bne(t){return!t||Me(t.size)||Me(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function lm(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function wne(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],d!=null&&!it(d))o=lm(t,i,s,o,d);else if(it(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!it(h)&&(o=lm(t,i,s,o,h));t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return o}function wo(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function OC(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function hw(t,e,n,r){LF(t,e,n,r,null)}function LF(t,e,n,r,i){let s,o,a,l,c,u,d,h;const f=e.pointStyle,g=e.rotation,m=e.radius;let _=(g||0)*nne;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(_),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,m,0,0,ot):t.arc(n,r,m,0,ot),t.closePath();break;case"triangle":u=i?i/2:m,t.moveTo(n+Math.sin(_)*u,r-Math.cos(_)*m),_+=TC,t.lineTo(n+Math.sin(_)*u,r-Math.cos(_)*m),_+=TC,t.lineTo(n+Math.sin(_)*u,r-Math.cos(_)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(_+bo)*l,d=Math.cos(_+bo)*(i?i/2-c:l),a=Math.sin(_+bo)*l,h=Math.sin(_+bo)*(i?i/2-c:l),t.arc(n-d,r-a,c,_-lt,_-Nt),t.arc(n+h,r-o,c,_-Nt,_),t.arc(n+d,r+a,c,_,_+Nt),t.arc(n-h,r+o,c,_+Nt,_+lt),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}_+=bo;case"rectRot":d=Math.cos(_)*(i?i/2:m),o=Math.cos(_)*m,a=Math.sin(_)*m,h=Math.sin(_)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+h,r-o),t.lineTo(n+d,r+a),t.lineTo(n-h,r+o),t.closePath();break;case"crossRot":_+=bo;case"cross":d=Math.cos(_)*(i?i/2:m),o=Math.cos(_)*m,a=Math.sin(_)*m,h=Math.sin(_)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"star":d=Math.cos(_)*(i?i/2:m),o=Math.cos(_)*m,a=Math.sin(_)*m,h=Math.sin(_)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o),_+=bo,d=Math.cos(_)*(i?i/2:m),o=Math.cos(_)*m,a=Math.sin(_)*m,h=Math.sin(_)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"line":o=i?i/2:Math.cos(_)*m,a=Math.sin(_)*m,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(_)*(i?i/2:m),r+Math.sin(_)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Fi(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function cv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function uv(t){t.restore()}function xne(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Sne(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Ene(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Me(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Ine(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function Tne(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function wa(t,e,n,r,i,s={}){const o=it(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,Ene(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Tne(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Me(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),Ine(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function fh(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*lt,lt,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,lt,Nt,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Nt,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Nt,!0),t.lineTo(n+o.topLeft,r)}const Rne=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Cne=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function kne(t,e){const n=(""+t).match(Rne);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Ane=t=>+t||0;function iI(t,e){const n={},r=Pe(e),i=r?Object.keys(e):e,s=Pe(t)?r?o=>Ee(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=Ane(s(o));return n}function VF(t){return iI(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Jo(t){return iI(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Tn(t){const e=VF(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function zt(t,e){t=t||{},e=e||St.font;let n=Ee(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ee(t.style,e.style);r&&!(""+r).match(Cne)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Ee(t.family,e.family),lineHeight:kne(Ee(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Ee(t.weight,e.weight),string:""};return i.string=bne(i),i}function Du(t,e,n,r){let i=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&it(a)&&(a=a[n%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function Pne(t,e,n){const{min:r,max:i}=t,s=IF(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function vo(t,e){return Object.assign(Object.create(t),e)}function sI(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=UF("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>sI([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return jF(a,l,()=>jne(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return LC(a).includes(l)},ownKeys(a){return LC(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function uc(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:FF(t,r),setContext:s=>uc(t,s,n,r),override:s=>uc(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return jF(s,o,()=>Dne(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function FF(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:to(n)?n:()=>n,isIndexable:to(r)?r:()=>r}}const Nne=(t,e)=>t?t+ZE(e):e,oI=(t,e)=>Pe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function jF(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function Dne(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return to(a)&&o.isScriptable(e)&&(a=One(e,a,t,n)),it(a)&&a.length&&(a=Mne(e,a,t,o.isIndexable)),oI(e,a)&&(a=uc(a,i,s&&s[e],o)),a}function One(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),oI(t,l)&&(l=aI(i._scopes,i,t,l)),l}function Mne(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Pe(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=aI(c,i,t,u);e.push(uc(d,s,o&&o[t],a))}}return e}function $F(t,e,n){return to(t)?t(e,n):t}const Lne=(t,e)=>t===!0?e:typeof t=="string"?eo(e,t):void 0;function Vne(t,e,n,r,i){for(const s of e){const o=Lne(n,s);if(o){t.add(o);const a=$F(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function aI(t,e,n,r){const i=e._rootScopes,s=$F(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=MC(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=MC(a,o,s,l,r),l===null)?!1:sI(Array.from(a),[""],i,s,()=>Fne(e,n,r))}function MC(t,e,n,r,i){for(;n;)n=Vne(t,e,n,r,i);return n}function Fne(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return it(i)&&Pe(n)?n:i||{}}function jne(t,e,n,r){let i;for(const s of e)if(i=UF(Nne(s,t),n),typeof i<"u")return oI(t,i)?aI(n,r,t,i):i}function UF(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function LC(t){let e=t._keys;return e||(e=t._keys=$ne(t._scopes)),e}function $ne(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function BF(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=e[c],o[a]={r:i.parse(eo(u,s),c)};return o}const Une=Number.EPSILON||1e-14,dc=(t,e)=>e<t.length&&!t[e].skip&&t[e],zF=t=>t==="x"?"y":"x";function Bne(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=uw(s,i),l=uw(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,h=r*u;return{previous:{x:s.x-d*(o.x-i.x),y:s.y-d*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function zne(t,e,n){const r=t.length;let i,s,o,a,l,c=dc(t,0);for(let u=0;u<r-1;++u)if(l=c,c=dc(t,u+1),!(!l||!c)){if(cd(e[u],0,Une)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}}function Wne(t,e,n="x"){const r=zF(n),i=t.length;let s,o,a,l=dc(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=dc(t,c+1),!a)continue;const u=a[n],d=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=d-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=d+s*e[c])}}function Hne(t,e="x"){const n=zF(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=dc(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=dc(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?pi(i[o-1])!==pi(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}zne(t,i,s),Wne(t,s,e)}function tp(t,e,n){return Math.max(Math.min(t,n),e)}function qne(t,e){let n,r,i,s,o,a=Fi(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&Fi(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=tp(i.cp1x,e.left,e.right),i.cp1y=tp(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=tp(i.cp2x,e.left,e.right),i.cp2y=tp(i.cp2y,e.top,e.bottom)))}function Kne(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Hne(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=Bne(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&qne(t,n)}function lI(){return typeof window<"u"&&typeof document<"u"}function cI(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function cm(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const dv=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Gne(t,e){return dv(t).getPropertyValue(e)}const Qne=["top","right","bottom","left"];function Zo(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=Qne[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Yne=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Xne(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(Yne(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Co(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=dv(n),s=i.boxSizing==="border-box",o=Zo(i,"padding"),a=Zo(i,"border","width"),{x:l,y:c,box:u}=Xne(t,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:g}=e;return s&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-d)/f*n.width/r),y:Math.round((c-h)/g*n.height/r)}}function Jne(t,e,n){let r,i;if(e===void 0||n===void 0){const s=cI(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=dv(s),l=Zo(a,"border","width"),c=Zo(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=cm(a.maxWidth,s,"clientWidth"),i=cm(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||am,maxHeight:i||am}}const np=t=>Math.round(t*10)/10;function Zne(t,e,n,r){const i=dv(t),s=Zo(i,"margin"),o=cm(i.maxWidth,t,"clientWidth")||am,a=cm(i.maxHeight,t,"clientHeight")||am,l=Jne(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=Zo(i,"border","width"),f=Zo(i,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=np(Math.min(c,o,l.maxWidth)),u=np(Math.min(u,a,l.maxHeight)),c&&!u&&(u=np(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=np(Math.floor(u*r))),{width:c,height:u}}function VC(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const ere=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};lI()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function FC(t,e){const n=Gne(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ko(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function tre(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function nre(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=ko(t,i,n),a=ko(i,s,n),l=ko(s,e,n),c=ko(o,a,n),u=ko(a,l,n);return ko(c,u,n)}const rre=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},ire=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Dl(t,e,n){return t?rre(e,n):ire()}function WF(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function HF(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function qF(t){return t==="angle"?{between:hh,compare:sne,normalize:sr}:{between:Li,compare:(e,n)=>e-n,normalize:e=>e}}function jC({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function sre(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=qF(r),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][r]),i,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function KF(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=qF(r),{start:u,end:d,loop:h,style:f}=sre(t,e,n),g=[];let m=!1,_=null,v,y,b;const w=()=>l(i,b,v)&&a(i,b)!==0,x=()=>a(s,v)===0||l(s,b,v),I=()=>m||w(),T=()=>!m||x();for(let E=u,A=u;E<=d;++E)y=e[E%o],!y.skip&&(v=c(y[r]),v!==b&&(m=l(v,i,s),_===null&&I()&&(_=a(v,i)===0?E:A),_!==null&&T()&&(g.push(jC({start:_,end:E,loop:h,count:o,style:f})),_=null),A=E,b=v));return _!==null&&g.push(jC({start:_,end:d,loop:h,count:o,style:f})),g}function GF(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=KF(r[i],t.points,e);s.length&&n.push(...s)}return n}function ore(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function are(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function lre(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=ore(n,i,s,r);if(r===!0)return $C(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return $C(t,are(n,o,l,c),n,e)}function $C(t,e,n,r){return!r||!r.setContext||!n?e:cre(t,e,n,r)}function cre(t,e,n,r){const i=t._chart.getContext(),s=UC(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,d=e[0].start,h=d;function f(g,m,_,v){const y=a?-1:1;if(g!==m){for(g+=l;n[g%l].skip;)g-=y;for(;n[m%l].skip;)m+=y;g%l!==m%l&&(c.push({start:g%l,end:m%l,loop:_,style:v}),u=v,d=m%l)}}for(const g of e){d=a?d:g.start;let m=n[d%l],_;for(h=d+1;h<=g.end;h++){const v=n[h%l];_=UC(r.setContext(vo(i,{type:"segment",p0:m,p1:v,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),ure(_,u)&&f(d,h-1,g.loop,u),m=v,u=_}d<h-1&&f(d,h-1,g.loop,u)}return c}function UC(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function ure(t,e){if(!e)return!1;const n=[],r=function(i,s){return rI(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class dre{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=PF.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ii=new dre;const BC="transparent",hre={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=NC(t||BC),i=r.valid&&NC(e||BC);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class fre{constructor(e,n,r,i){const s=n[r];i=Du([e.to,i,s,e.from]);const o=Du([e.from,s,i]);this._active=!0,this._fn=e.fn||hre[e.type||typeof o],this._easing=ud[e.easing]||ud.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Du([e.to,n,i,e.from]),this._from=Du([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class QF{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Pe(e))return;const n=Object.keys(St.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Pe(s))return;const o={};for(const a of n)o[a]=s[a];(it(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=gre(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&pre(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=s[c];const h=r.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}s[c]=d=new fre(h,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Ii.add(this._chart,r),!0}}function pre(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function gre(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function zC(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function mre(t,e,n){if(n===!1)return!1;const r=zC(t,n),i=zC(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function yre(t){let e,n,r,i;return Pe(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function YF(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function WC(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(r.all)continue;break}c=t.values[l],xt(c)&&(s||e===0||pi(e)===pi(c))&&(e+=c)}return e}}function vre(t){const e=Object.keys(t),n=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],n[r]={x:s,y:t[s]};return n}function HC(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function _re(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function bre(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function wre(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function qC(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function KC(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=_re(s,o,r),d=e.length;let h;for(let f=0;f<d;++f){const g=e[f],{[l]:m,[c]:_}=g,v=g._stacks||(g._stacks={});h=v[c]=wre(i,u,m),h[a]=_,h._top=qC(h,o,!0,r.type),h._bottom=qC(h,o,!1,r.type);const y=h._visualValues||(h._visualValues={});y[a]=_}}function F_(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function xre(t,e){return vo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Sre(t,e,n){return vo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function lu(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const j_=t=>t==="reset"||t==="none",GC=(t,e)=>e?t:Object.assign({},t),Ere=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:YF(n,!0),values:null};class jr{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=HC(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&lu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,h,f,g)=>d==="x"?h:d==="r"?g:f,s=n.xAxisID=Ee(r.xAxisID,F_(e,"x")),o=n.yAxisID=Ee(r.yAxisID,F_(e,"y")),a=n.rAxisID=Ee(r.rAxisID,F_(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&kC(this._data,this),e._stacked&&lu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Pe(n))this._data=vre(n);else if(r!==n){if(r){kC(r,this);const i=this._cachedMeta;lu(i),i._parsed=[]}n&&Object.isExtensible(n)&&cne(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=HC(n.vScale,n),n.stack!==r.stack&&(i=!0,lu(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&KC(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{it(i[e])?h=this.parseArrayData(r,i,e,n):Pe(i[e])?h=this.parseObjectData(r,i,e,n):h=this.parsePrimitiveData(r,i,e,n);const f=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);r._sorted=l}o&&KC(this,h)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(i);let h,f,g;for(h=0,f=i;h<f;++h)g=h+r,d[h]={[a]:u||s.parse(c[g],g),[l]:o.parse(n[g],g)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+r,d=n[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,f;for(u=0,d=i;u<d;++u)h=u+r,f=n[h],c[u]={x:s.parse(eo(f,a),h),y:o.parse(eo(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:YF(i,!0),values:n._stacks[e.axis]._visualValues};return WC(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=WC(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=Ere(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=bre(a);let h,f;function g(){f=i[h];const m=f[a.axis];return!xt(f[e.axis])||u>m||d<m}for(h=0;h<o&&!(!g()&&(this.updateRangeFromParsed(c,e,f,l),s));++h);if(s){for(h=o-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],xt(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=yre(Ee(this.options.clip,mre(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=Sre(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=xre(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&dh(r);if(a)return GC(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(St.elements[e]),g=()=>this.getContext(r,i,n),m=c.resolveNamedOptions(h,f,g,d);return m.$shared&&(m.$shared=l,s[o]=Object.freeze(GC(m,l))),m}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,r,n))}const c=new QF(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||j_(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){j_(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!j_(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&lu(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}J(jr,"defaults",{}),J(jr,"datasetElementType",null),J(jr,"dataElementType",null);function Ire(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=AF(r.sort((i,s)=>i-s))}return t._cache.$bar}function Tre(t){const e=t.iScale,n=Ire(e,t.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(dh(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function Rre(t,e,n,r){const i=n.barThickness;let s,o;return Me(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function Cre(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function kre(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function XF(t,e,n,r){return it(t)?kre(t,e,n,r):e[n.axis]=n.parse(t,r),e}function QC(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,d,h;for(c=n,u=n+r;c<u;++c)h=e[c],d={},d[i.axis]=a||i.parse(o[c],c),l.push(XF(h,d,s,c));return l}function $_(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Are(t,e,n){return t!==0?pi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Pre(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function Nre(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=Pre(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[YC(u,o,a,l)]=!0,i=c)),s[YC(i,o,a,l)]=!0,t.borderSkipped=s}function YC(t,e,n,r){return r?(t=Dre(t,e,n),t=XC(t,n,e)):t=XC(t,e,n),t}function Dre(t,e,n){return t===e?n:t===n?e:t}function XC(t,e,n){return t==="start"?e:t==="end"?n:t}function Ore(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Wp extends jr{parsePrimitiveData(e,n,r,i){return QC(e,n,r,i)}parseArrayData(e,n,r,i){return QC(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let h,f,g,m;for(h=r,f=r+i;h<f;++h)m=n[h],g={},g[s.axis]=s.parse(eo(m,c),h),d.push(XF(eo(m,u),g,o,h));return d}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=$_(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,i);for(let f=n;f<n+r;f++){const g=this.getParsed(f),m=s||Me(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),_=this._calculateBarIndexPixels(f,u),v=(g._stacks||{})[a.axis],y={horizontal:c,base:m.base,enableBorderRadius:!v||$_(g._custom)||o===v._top||o===v._bottom,x:c?m.head:_.center,y:c?_.center:m.head,height:c?_.size:Math.abs(m.size),width:c?Math.abs(m.size):_.size};h&&(y.options=d||this.resolveDataElementOptions(f,e[f].active?"active":i));const b=y.options||e[f].options;Nre(y,b,v,o),Ore(y,b,u.ratio),this.updateElement(e[f],f,y,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=r.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(Me(u)||isNaN(u))return!0};for(const l of i)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||Tre(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=$_(c);let d=l[n.axis],h=0,f=r?this.applyStack(n,l,r):d,g,m;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&pi(d)!==pi(c.barEnd)&&(h=0),h+=d);const _=!Me(s)&&!u?s:h;let v=n.getPixelForValue(_);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(h+f):g=v,m=g-v,Math.abs(m)<o){m=Are(m,n,a)*o,d===a&&(v-=m/2);const y=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),w=Math.min(y,b),x=Math.max(y,b);v=Math.max(Math.min(v,x),w),g=v+m,r&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(g)-n.getValueForPixel(v))}if(v===n.getPixelForValue(a)){const y=pi(m)*n.getLineWidthForValue(a)/2;v+=y,m-=y}return{size:m,base:v,head:g,center:g+m/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=Ee(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?Cre(e,n,i,c):Rre(e,n,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&r[s].draw(this._ctx)}}J(Wp,"id","bar"),J(Wp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),J(Wp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Hp extends jr{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,i){const s=super.parsePrimitiveData(e,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(e,n,r,i){const s=super.parseArrayData(e,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=Ee(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(e,n,r,i){const s=super.parseObjectData(e,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=Ee(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:r[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=o.axis,d=a.axis;for(let h=n;h<n+r;h++){const f=e[h],g=!s&&this.getParsed(h),m={},_=m[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(g[u]),v=m[d]=s?a.getBasePixel():a.getPixelForValue(g[d]);m.skip=isNaN(_)||isNaN(v),c&&(m.options=l||this.resolveDataElementOptions(h,f.active?"active":i),s&&(m.options.radius=0)),this.updateElement(f,h,m,i)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=Ee(r&&r._custom,s),i}}J(Hp,"id","bubble"),J(Hp,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),J(Hp,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Mre(t,e,n){let r=1,i=1,s=0,o=0;if(e<ot){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(b,w,x)=>hh(b,a,l,!0)?1:Math.max(w,w*n,x,x*n),g=(b,w,x)=>hh(b,a,l,!0)?-1:Math.min(w,w*n,x,x*n),m=f(0,c,d),_=f(Nt,u,h),v=g(lt,c,d),y=g(lt+Nt,u,h);r=(m-v)/2,i=(_-y)/2,s=-(m+v)/2,o=-(_+y)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Wo extends jr{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(Pe(r[e])){const{key:l="value"}=this._parsing;s=c=>+eo(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Lr(this.options.rotation-90)}_getCircumference(){return Lr(this.options.circumference)}_getRotationExtents(){let e=ot,n=-ot;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(Qte(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:g,offsetY:m}=Mre(d,u,l),_=(r.width-o)/h,v=(r.height-o)/f,y=Math.max(Math.min(_,v)/2,0),b=IF(this.options.radius,y),w=Math.max(b*l,0),x=(b-w)/this._getVisibleDatasetWeightTotal();this.offsetX=g*b,this.offsetY=m*b,i.total=this.calculateTotal(),this.outerRadius=b-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/ot)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=s&&c.animateScale,f=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:m,includeOptions:_}=this._getSharedOptions(n,i);let v=this._getRotation(),y;for(y=0;y<n;++y)v+=this._circumference(y,s);for(y=n;y<n+r;++y){const b=this._circumference(y,s),w=e[y],x={x:u+this.offsetX,y:d+this.offsetY,startAngle:v,endAngle:v+b,circumference:b,outerRadius:g,innerRadius:f};_&&(x.options=m||this.resolveDataElementOptions(y,w.active?"active":i)),v+=b,this.updateElement(w,y,x,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ot*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=pf(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Ee(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}J(Wo,"id","doughnut"),J(Wo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),J(Wo,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),J(Wo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class qp extends jr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=DF(n,i,o);this._drawStart=a,this._drawCount=l,OF(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),h=o.axis,f=a.axis,{spanGaps:g,segment:m}=this.options,_=cc(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none",y=n+r,b=e.length;let w=n>0&&this.getParsed(n-1);for(let x=0;x<b;++x){const I=e[x],T=v?I:{};if(x<n||x>=y){T.skip=!0;continue}const E=this.getParsed(x),A=Me(E[f]),D=T[h]=o.getPixelForValue(E[h],x),V=T[f]=s||A?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[f],x);T.skip=isNaN(D)||isNaN(V)||A,T.stop=x>0&&Math.abs(E[h]-w[h])>_,m&&(T.parsed=E,T.raw=c.data[x]),d&&(T.options=u||this.resolveDataElementOptions(x,I.active?"active":i)),v||this.updateElement(I,x,T,i),w=E}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}J(qp,"id","line"),J(qp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),J(qp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class hd extends jr{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=pf(n._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,n,r,i){return BF.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*lt;let f=h,g;const m=360/this.countVisibleElements();for(g=0;g<n;++g)f+=this._computeAngle(g,i,m);for(g=n;g<n+r;g++){const _=e[g];let v=f,y=f+this._computeAngle(g,i,m),b=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=y,s&&(l.animateScale&&(b=0),l.animateRotate&&(v=y=h));const w={x:u,y:d,innerRadius:0,outerRadius:b,startAngle:v,endAngle:y,options:this.resolveDataElementOptions(g,_.active?"active":i)};this.updateElement(_,g,w,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Lr(this.resolveDataElementOptions(e,n).angle||r):0}}J(hd,"id","polarArea"),J(hd,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),J(hd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class fw extends Wo{}J(fw,"id","pie"),J(fw,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Kp extends jr{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,i){return BF.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=s.getPointPositionForValue(a,this.getParsed(a).r),d=o?s.xCenter:u.x,h=o?s.yCenter:u.y,f={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:c};this.updateElement(l,a,f,i)}}}J(Kp,"id","radar"),J(Kp,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),J(Kp,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Gp extends jr{getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:r[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=DF(n,r,i);if(this._drawStart=s,this._drawCount=o,OF(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),d=this.getSharedOptions(u),h=this.includeOptions(i,d),f=o.axis,g=a.axis,{spanGaps:m,segment:_}=this.options,v=cc(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||i==="none";let b=n>0&&this.getParsed(n-1);for(let w=n;w<n+r;++w){const x=e[w],I=this.getParsed(w),T=y?x:{},E=Me(I[g]),A=T[f]=o.getPixelForValue(I[f],w),D=T[g]=s||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,I,l):I[g],w);T.skip=isNaN(A)||isNaN(D)||E,T.stop=w>0&&Math.abs(I[f]-b[f])>v,_&&(T.parsed=I,T.raw=c.data[w]),h&&(T.options=d||this.resolveDataElementOptions(w,x.active?"active":i)),y||this.updateElement(x,w,T,i),b=I}this.updateSharedOptions(d,i,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}J(Gp,"id","scatter"),J(Gp,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),J(Gp,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Lre=Object.freeze({__proto__:null,BarController:Wp,BubbleController:Hp,DoughnutController:Wo,LineController:qp,PieController:fw,PolarAreaController:hd,RadarController:Kp,ScatterController:Gp});function xo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class uI{constructor(e){J(this,"options");this.options=e||{}}static override(e){Object.assign(uI.prototype,e)}init(){}formats(){return xo()}parse(){return xo()}format(){return xo()}add(){return xo()}diff(){return xo()}startOf(){return xo()}endOf(){return xo()}}var Vre={_date:uI};function Fre(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?ane:Vi;if(r){if(i._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(s,e,n-u),h=l(s,e,n+u);return{lo:d.lo,hi:h.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function gf(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:h}=Fre(s[a],e,o,i);for(let f=d;f<=h;++f){const g=u[f];g.skip||r(g,c,f)}}}function jre(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function U_(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||gf(t,n,e,function(a,l,c){!i&&!Fi(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function $re(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=CF(o,{x:e.x,y:e.y});hh(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return gf(t,n,e,s),i}function Ure(t,e,n,r,i,s){let o=[];const a=jre(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,i);if(r&&!f)return;const g=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(g))&&!f)return;const _=a(e,g);_<l?(o=[{element:u,datasetIndex:d,index:h}],l=_):_===l&&o.push({element:u,datasetIndex:d,index:h})}return gf(t,n,e,c),o}function B_(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?$re(t,e,n,i):Ure(t,e,n,r,i,s)}function JC(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return gf(t,n,e,(l,c,u)=>{l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var Bre={evaluateInteractionItems:gf,modes:{index(t,e,n,r){const i=Co(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?U_(t,i,s,r,o):B_(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=Co(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?U_(t,i,s,r,o):B_(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=Co(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return U_(t,i,s,r,o)},nearest(t,e,n,r){const i=Co(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return B_(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=Co(e,t);return JC(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Co(e,t);return JC(t,i,"y",n.intersect,r)}}};const JF=["left","top","right","bottom"];function cu(t,e){return t.filter(n=>n.pos===e)}function ZC(t,e){return t.filter(n=>JF.indexOf(n.pos)===-1&&n.box.axis===e)}function uu(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function zre(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function Wre(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!JF.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function Hre(t,e){const n=Wre(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function qre(t){const e=zre(t),n=uu(e.filter(c=>c.box.fullSize),!0),r=uu(cu(e,"left"),!0),i=uu(cu(e,"right")),s=uu(cu(e,"top"),!0),o=uu(cu(e,"bottom")),a=ZC(e,"x"),l=ZC(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:cu(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function ek(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function ZF(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Kre(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!Pe(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&ZF(o,s.getPadding());const a=Math.max(0,e.outerWidth-ek(o,t,"left","right")),l=Math.max(0,e.outerHeight-ek(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Gre(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Qre(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Ou(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Qre(a.horizontal,e));const{same:d,other:h}=Kre(e,n,a,r);c|=d&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&Ou(i,e,n,r)||u}function rp(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function tk(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;dh(c.start)&&(o=c.start),l.fullSize?rp(l,i.left,o,n.outerWidth-i.right-i.left,h):rp(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,h=c.size||l.width;dh(c.start)&&(s=c.start),l.fullSize?rp(l,s,i.top,h,n.outerHeight-i.bottom-i.top):rp(l,s,e.top+c.placed,h,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var xn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Tn(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=qre(t.boxes),l=a.vertical,c=a.horizontal;$e(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,_)=>_.box.options&&_.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);ZF(h,Tn(r));const f=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),g=Hre(l.concat(c),d);Ou(a.fullSize,f,d,g),Ou(l,f,d,g),Ou(c,f,d,g)&&Ou(l,f,d,g),Gre(f),tk(a.leftAndTop,f,d,g),f.x+=f.w,f.y+=f.h,tk(a.rightAndBottom,f,d,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},$e(a.chartArea,m=>{const _=m.box;Object.assign(_,t.chartArea),_.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class ej{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class Yre extends ej{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Qp="$chartjs",Xre={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nk=t=>t===null||t==="";function Jre(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Qp]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",nk(i)){const s=FC(t,"width");s!==void 0&&(t.width=s)}if(nk(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=FC(t,"height");s!==void 0&&(t.height=s)}return t}const tj=ere?{passive:!0}:!1;function Zre(t,e,n){t&&t.addEventListener(e,n,tj)}function eie(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,tj)}function tie(t,e){const n=Xre[t.type]||t.type,{x:r,y:i}=Co(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function um(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function nie(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||um(a.addedNodes,r),o=o&&!um(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function rie(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||um(a.removedNodes,r),o=o&&!um(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const ph=new Map;let rk=0;function nj(){const t=window.devicePixelRatio;t!==rk&&(rk=t,ph.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function iie(t,e){ph.size||window.addEventListener("resize",nj),ph.set(t,e)}function sie(t){ph.delete(t),ph.size||window.removeEventListener("resize",nj)}function oie(t,e,n){const r=t.canvas,i=r&&cI(r);if(!i)return;const s=NF((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),iie(t,s),o}function z_(t,e,n){n&&n.disconnect(),e==="resize"&&sie(t)}function aie(t,e,n){const r=t.canvas,i=NF(s=>{t.ctx!==null&&n(tie(s,t))},t);return Zre(r,e,i),i}class lie extends ej{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(Jre(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Qp])return!1;const r=n[Qp].initial;["height","width"].forEach(s=>{const o=r[s];Me(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Qp],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:nie,detach:rie,resize:oie}[n]||aie;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:z_,detach:z_,resize:z_}[n]||eie)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return Zne(e,n,r,i)}isAttached(e){const n=cI(e);return!!(n&&n.isConnected)}}function cie(t){return!lI()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Yre:lie}var vp;let is=(vp=class{constructor(){J(this,"x");J(this,"y");J(this,"active",!1);J(this,"options");J(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return cc(this.x)&&cc(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},J(vp,"defaults",{}),J(vp,"defaultRoutes"),vp);function uie(t,e){const n=t.options.ticks,r=die(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?fie(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return pie(e,c,s,o/i),c;const u=hie(s,e,i);if(o>0){let d,h;const f=o>1?Math.round((l-a)/(o-1)):null;for(ip(e,c,u,Me(f)?0:a-f,a),d=0,h=o-1;d<h;d++)ip(e,c,u,s[d],s[d+1]);return ip(e,c,u,l,Me(f)?e.length:l+f),c}return ip(e,c,u),c}function die(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function hie(t,e,n){const r=gie(t),i=e.length/n;if(!r)return Math.max(i,1);const s=rne(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function fie(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function pie(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function ip(t,e,n,r,i){const s=Ee(r,0),o=Math.min(Ee(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function gie(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const mie=t=>t==="left"?"right":t==="right"?"left":t,ik=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,sk=(t,e)=>Math.min(e||t,t);function ok(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function yie(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function vie(t,e){$e(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function du(t){return t.drawTicks?t.tickLength:0}function ak(t,e){if(!t.display)return 0;const n=zt(t.font,e),r=Tn(t.padding);return(it(t.text)?t.text.length:1)*n.lineHeight+r.height}function _ie(t,e){return vo(t,{scale:e,type:"scale"})}function bie(t,e,n){return vo(t,{tick:n,index:e,type:"tick"})}function wie(t,e,n){let r=nI(t);return(n&&e!=="right"||!n&&e==="right")&&(r=mie(r)),r}function xie(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,g;const m=o-i,_=a-s;if(t.isHorizontal()){if(f=bn(r,s,a),Pe(n)){const v=Object.keys(n)[0],y=n[v];g=u[v].getPixelForValue(y)+m-e}else n==="center"?g=(c.bottom+c.top)/2+m-e:g=ik(t,n,e);h=a-s}else{if(Pe(n)){const v=Object.keys(n)[0],y=n[v];f=u[v].getPixelForValue(y)-_+e}else n==="center"?f=(c.left+c.right)/2-_+e:f=ik(t,n,e);g=bn(r,o,i),d=n==="left"?-Nt:Nt}return{titleX:f,titleY:g,maxWidth:h,rotation:d}}class Va extends is{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=rr(e,Number.POSITIVE_INFINITY),n=rr(n,Number.NEGATIVE_INFINITY),r=rr(r,Number.POSITIVE_INFINITY),i=rr(i,Number.NEGATIVE_INFINITY),{min:rr(e,r),max:rr(n,i),minDefined:xt(e),maxDefined:xt(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:rr(n,rr(r,n)),max:rr(r,rr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Qe(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Pne(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?ok(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=uie(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Qe(this.options.afterUpdate,[this])}beforeSetDimensions(){Qe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Qe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Qe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Qe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Qe(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Qe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Qe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=sk(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=Yt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),d+6>a&&(a=f/(r-(e.offset?.5:1)),l=this.maxHeight-du(e.grid)-n.padding-ak(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=eI(Math.min(Math.asin(Yt((u.highest.height+6)/a,-1,1)),Math.asin(Yt(l/c,-1,1))-Math.asin(Yt(h/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Qe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Qe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=ak(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=du(s)+l):(e.height=this.maxHeight,e.width=du(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=r.padding*2,g=Lr(this.labelRotation),m=Math.cos(g),_=Math.sin(g);if(a){const v=r.mirror?0:_*d.width+m*h.height;e.height=Math.min(this.maxHeight,e.height+v+f)}else{const v=r.mirror?0:m*d.width+_*h.height;e.width=Math.min(this.maxWidth,e.width+v+f)}this._calculatePadding(c,u,_,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=i*e.width,f=r*n.height):(h=r*e.height,f=i*n.width):s==="start"?f=n.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Qe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Me(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=ok(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/sk(n,r));let c=0,u=0,d,h,f,g,m,_,v,y,b,w,x;for(d=0;d<n;d+=l){if(g=e[d].label,m=this._resolveTickFontOptions(d),i.font=_=m.string,v=s[_]=s[_]||{data:{},gc:[]},y=m.lineHeight,b=w=0,!Me(g)&&!it(g))b=lm(i,v.data,v.gc,b,g),w=y;else if(it(g))for(h=0,f=g.length;h<f;++h)x=g[h],!Me(x)&&!it(x)&&(b=lm(i,v.data,v.gc,b,x),w+=y);o.push(b),a.push(w),c=Math.max(b,c),u=Math.max(w,u)}vie(s,n);const I=o.indexOf(c),T=a.indexOf(u),E=A=>({width:o[A]||0,height:a[A]||0});return{first:E(0),last:E(n-1),widest:E(I),highest:E(T),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return one(this._alignToPixels?wo(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=bie(this.getContext(),e,r))}return this.$context||(this.$context=_ie(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Lr(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=du(s),f=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,_=m/2,v=function(C){return wo(r,C,m)};let y,b,w,x,I,T,E,A,D,V,H,X;if(o==="top")y=v(this.bottom),T=this.bottom-h,A=y-_,V=v(e.top)+_,X=e.bottom;else if(o==="bottom")y=v(this.top),V=e.top,X=v(e.bottom)-_,T=y+_,A=this.top+h;else if(o==="left")y=v(this.right),I=this.right-h,E=y-_,D=v(e.left)+_,H=e.right;else if(o==="right")y=v(this.left),D=e.left,H=v(e.right)-_,I=y+_,E=this.left+h;else if(n==="x"){if(o==="center")y=v((e.top+e.bottom)/2+.5);else if(Pe(o)){const C=Object.keys(o)[0],j=o[C];y=v(this.chart.scales[C].getPixelForValue(j))}V=e.top,X=e.bottom,T=y+_,A=T+h}else if(n==="y"){if(o==="center")y=v((e.left+e.right)/2);else if(Pe(o)){const C=Object.keys(o)[0],j=o[C];y=v(this.chart.scales[C].getPixelForValue(j))}I=y-_,E=I-h,D=e.left,H=e.right}const Y=Ee(i.ticks.maxTicksLimit,d),R=Math.max(1,Math.ceil(d/Y));for(b=0;b<d;b+=R){const C=this.getContext(b),j=s.setContext(C),M=a.setContext(C),U=j.lineWidth,F=j.color,ie=M.dash||[],k=M.dashOffset,$=j.tickWidth,B=j.tickColor,le=j.tickBorderDash||[],Q=j.tickBorderDashOffset;w=yie(this,b,l),w!==void 0&&(x=wo(r,w,U),c?I=E=D=H=x:T=A=V=X=x,f.push({tx1:I,ty1:T,tx2:E,ty2:A,x1:D,y1:V,x2:H,y2:X,width:U,color:F,borderDash:ie,borderDashOffset:k,tickWidth:$,tickColor:B,tickBorderDash:le,tickBorderDashOffset:Q}))}return this._ticksLength=d,this._borderValue=y,f}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,h=du(r.grid),f=h+u,g=d?-u:f,m=-Lr(this.labelRotation),_=[];let v,y,b,w,x,I,T,E,A,D,V,H,X="middle";if(i==="top")I=this.bottom-g,T=this._getXAxisLabelAlignment();else if(i==="bottom")I=this.top+g,T=this._getXAxisLabelAlignment();else if(i==="left"){const R=this._getYAxisLabelAlignment(h);T=R.textAlign,x=R.x}else if(i==="right"){const R=this._getYAxisLabelAlignment(h);T=R.textAlign,x=R.x}else if(n==="x"){if(i==="center")I=(e.top+e.bottom)/2+f;else if(Pe(i)){const R=Object.keys(i)[0],C=i[R];I=this.chart.scales[R].getPixelForValue(C)+f}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")x=(e.left+e.right)/2-f;else if(Pe(i)){const R=Object.keys(i)[0],C=i[R];x=this.chart.scales[R].getPixelForValue(C)}T=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?X="top":l==="end"&&(X="bottom"));const Y=this._getLabelSizes();for(v=0,y=a.length;v<y;++v){b=a[v],w=b.label;const R=s.setContext(this.getContext(v));E=this.getPixelForTick(v)+s.labelOffset,A=this._resolveTickFontOptions(v),D=A.lineHeight,V=it(w)?w.length:1;const C=V/2,j=R.color,M=R.textStrokeColor,U=R.textStrokeWidth;let F=T;o?(x=E,T==="inner"&&(v===y-1?F=this.options.reverse?"left":"right":v===0?F=this.options.reverse?"right":"left":F="center"),i==="top"?c==="near"||m!==0?H=-V*D+D/2:c==="center"?H=-Y.highest.height/2-C*D+D:H=-Y.highest.height+D/2:c==="near"||m!==0?H=D/2:c==="center"?H=Y.highest.height/2-C*D:H=Y.highest.height-V*D,d&&(H*=-1),m!==0&&!R.showLabelBackdrop&&(x+=D/2*Math.sin(m))):(I=E,H=(1-V)*D/2);let ie;if(R.showLabelBackdrop){const k=Tn(R.backdropPadding),$=Y.heights[v],B=Y.widths[v];let le=H-k.top,Q=0-k.left;switch(X){case"middle":le-=$/2;break;case"bottom":le-=$;break}switch(T){case"center":Q-=B/2;break;case"right":Q-=B;break;case"inner":v===y-1?Q-=B:v>0&&(Q-=B/2);break}ie={left:Q,top:le,width:B+k.width,height:$+k.height,color:R.backdropColor}}_.push({label:w,font:A,textOffset:H,options:{rotation:m,color:j,strokeColor:M,strokeWidth:U,textAlign:F,textBaseline:X,translation:[x,I],backdrop:ie}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Lr(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=wo(e,this.left,o)-o/2,u=wo(e,this.right,a)+a/2,d=h=l):(d=wo(e,this.top,o)-o/2,h=wo(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&cv(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;wa(r,c,0,u,l,a)}i&&uv(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=zt(r.font),o=Tn(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Pe(n)?(l+=o.bottom,it(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=xie(this,l,n,a);wa(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:h,textAlign:wie(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Ee(e.grid&&e.grid.z,-1),i=Ee(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Va.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return zt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class sp{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Iie(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,Sie(e,o,r),this.override&&St.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in St[i]&&(delete St[i][r],this.override&&delete ba[r])}}function Sie(t,e,n){const r=uh(Object.create(null),[n?St.get(n):{},St.get(e),t.defaults]);St.set(e,r),t.defaultRoutes&&Eie(e,t.defaultRoutes),t.descriptors&&St.describe(e,t.descriptors)}function Eie(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");St.route(s,i,l,a)})}function Iie(t){return"id"in t&&"defaults"in t}class Tie{constructor(){this.controllers=new sp(jr,"datasets",!0),this.elements=new sp(is,"elements"),this.plugins=new sp(Object,"plugins"),this.scales=new sp(Va,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):$e(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=ZE(e);Qe(r["before"+i],[],r),n[e](r),Qe(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Qr=new Tie;class Rie{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Qe(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Me(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Ee(r.options&&r.options.plugins,{}),s=Cie(r);return i===!1&&!n?[]:Aie(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function Cie(t){const e={},n=[],r=Object.keys(Qr.plugins.items);for(let s=0;s<r.length;s++)n.push(Qr.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function kie(t,e){return!e&&t===!1?null:t===!0?{}:t}function Aie(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=kie(r[l],i);c!==null&&s.push({plugin:a,options:Pie(t.config,{plugin:a,local:n[l]},c,o)})}return s}function Pie(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function pw(t,e){const n=St.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Nie(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Die(t,e){return t===e?"_index_":"_value_"}function lk(t){if(t==="x"||t==="y"||t==="r")return t}function Oie(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function gw(t,...e){if(lk(t))return t;for(const n of e){const r=n.axis||Oie(n.position)||t.length>1&&lk(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function ck(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Mie(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return ck(t,"x",n[0])||ck(t,"y",n[0])}return{}}function Lie(t,e){const n=ba[t.type]||{scales:{}},r=e.scales||{},i=pw(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Pe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=gw(o,a,Mie(o,t),St.scales[a.type]),c=Die(l,i),u=n.scales||{};s[o]=ld(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||pw(a,e),u=(ba[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=Nie(d,l),f=o[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),ld(s[f],[{axis:h},r[f],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];ld(a,[St.scales[a.type],St.scale])}),s}function rj(t){const e=t.options||(t.options={});e.plugins=Ee(e.plugins,{}),e.scales=Lie(t,e)}function ij(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Vie(t){return t=t||{},t.data=ij(t.data),rj(t),t}const uk=new Map,sj=new Set;function op(t,e){let n=uk.get(t);return n||(n=e(),uk.set(t,n),sj.add(n)),n}const hu=(t,e,n)=>{const r=eo(e,n);r!==void 0&&t.add(r)};class Fie{constructor(e){this._config=Vie(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ij(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),rj(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return op(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return op(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return op(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return op(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>hu(l,e,d))),u.forEach(d=>hu(l,i,d)),u.forEach(d=>hu(l,ba[s]||{},d)),u.forEach(d=>hu(l,St,d)),u.forEach(d=>hu(l,dw,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),sj.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,ba[n]||{},St.datasets[n]||{},{type:n},St,dw]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=dk(this._resolverCache,e,i);let l=o;if($ie(o,n)){s.$shared=!1,r=to(r)?r():r;const c=this.createResolver(e,r,a);l=uc(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=dk(this._resolverCache,e,r);return Pe(n)?uc(s,n,void 0,i):s}}function dk(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:sI(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const jie=t=>Pe(t)&&Object.getOwnPropertyNames(t).some(e=>to(t[e]));function $ie(t,e){const{isScriptable:n,isIndexable:r}=FF(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(to(a)||jie(a))||o&&it(a))return!0}return!1}var Uie="4.4.2";const Bie=["top","bottom","left","right","chartArea"];function hk(t,e){return t==="top"||t==="bottom"||Bie.indexOf(t)===-1&&e==="x"}function fk(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function pk(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Qe(n&&n.onComplete,[t],e)}function zie(t){const e=t.chart,n=e.options.animation;Qe(n&&n.onProgress,[t],e)}function oj(t){return lI()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Yp={},gk=t=>{const e=oj(t);return Object.values(Yp).filter(n=>n.canvas===e).pop()};function Wie(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function Hie(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function ap(t,e,n){return t.options.clip?t[n]:e[n]}function qie(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:ap(n,e,"left"),right:ap(n,e,"right"),top:ap(r,e,"top"),bottom:ap(r,e,"bottom")}:e}class Ai{static register(...e){Qr.add(...e),mk()}static unregister(...e){Qr.remove(...e),mk()}constructor(e,n){const r=this.config=new Fie(n),i=oj(e),s=gk(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||cie(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Gte(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Rie,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=une(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Yp[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ii.listen(this,"complete",pk),Ii.listen(this,"progress",zie),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Me(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Qr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():VC(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return OC(this.canvas,this.ctx),this}stop(){return Ii.stop(this),this}resize(e,n){Ii.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,VC(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Qe(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};$e(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=gw(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),$e(s,o=>{const a=o.options,l=a.id,c=gw(l,a),u=Ee(a.type,o.dtype);(a.position===void 0||hk(a.position,c)!==hk(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const h=Qr.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),$e(i,(o,a)=>{o||delete r[a]}),$e(r,o=>{xn.configure(this,o,o.options),xn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(fk("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||pw(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Qr.getController(a),{datasetElementType:c,dataElementType:u}=St.datasets[a];Object.assign(l,{dataElementType:Qr.getElement(u),datasetElementType:c&&Qr.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){$e(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||$e(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(fk("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){$e(this.scales,e=>{xn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!IC(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;Wie(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!IC(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],$e(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,to(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ii.has(this)?this.attached&&!Ii.running(this)&&Ii.start(this):(this.draw(),pk({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=qie(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&cv(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&uv(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Fi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=Bre.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=vo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);dh(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ii.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),OC(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Yp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};$e(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){$e(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},$e(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!sm(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=ene(e),c=Hie(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Qe(s.onHover,[e,a,this],this),l&&Qe(s.onClick,[e,a,this],this));const u=!sm(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}J(Ai,"defaults",St),J(Ai,"instances",Yp),J(Ai,"overrides",ba),J(Ai,"registry",Qr),J(Ai,"version",Uie),J(Ai,"getChart",gk);function mk(){return $e(Ai.instances,t=>t._plugins.invalidate())}function Kie(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+Nt,r-Nt),t.closePath(),t.clip()}function Gie(t){return iI(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Qie(t,e,n,r){const i=Gie(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return Yt(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Yt(i.innerStart,0,o),innerEnd:Yt(i.innerEnd,0,o)}}function Qa(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function dm(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+n-c,0),h=u>0?u+r+n+c:0;let f=0;const g=i-l;if(r){const R=u>0?u-r:0,C=d>0?d-r:0,j=(R+C)/2,M=j!==0?g*j/(j+r):g;f=(g-M)/2}const m=Math.max(.001,g*d-n/lt)/d,_=(g-m)/2,v=l+_+f,y=i-_-f,{outerStart:b,outerEnd:w,innerStart:x,innerEnd:I}=Qie(e,h,d,y-v),T=d-b,E=d-w,A=v+b/T,D=y-w/E,V=h+x,H=h+I,X=v+x/V,Y=y-I/H;if(t.beginPath(),s){const R=(A+D)/2;if(t.arc(o,a,d,A,R),t.arc(o,a,d,R,D),w>0){const U=Qa(E,D,o,a);t.arc(U.x,U.y,w,D,y+Nt)}const C=Qa(H,y,o,a);if(t.lineTo(C.x,C.y),I>0){const U=Qa(H,Y,o,a);t.arc(U.x,U.y,I,y+Nt,Y+Math.PI)}const j=(y-I/h+(v+x/h))/2;if(t.arc(o,a,h,y-I/h,j,!0),t.arc(o,a,h,j,v+x/h,!0),x>0){const U=Qa(V,X,o,a);t.arc(U.x,U.y,x,X+Math.PI,v-Nt)}const M=Qa(T,v,o,a);if(t.lineTo(M.x,M.y),b>0){const U=Qa(T,A,o,a);t.arc(U.x,U.y,b,v-Nt,A)}}else{t.moveTo(o,a);const R=Math.cos(A)*d+o,C=Math.sin(A)*d+a;t.lineTo(R,C);const j=Math.cos(D)*d+o,M=Math.sin(D)*d+a;t.lineTo(j,M)}t.closePath()}function Yie(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){dm(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%ot||ot))}return dm(t,e,n,r,l,i),t.fill(),l}function Xie(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let g=e.endAngle;if(s){dm(t,e,n,r,g,i);for(let m=0;m<s;++m)t.stroke();isNaN(a)||(g=o+(a%ot||ot))}f&&Kie(t,e,g),s||(dm(t,e,n,r,g,i),t.stroke())}class Mu extends is{constructor(n){super();J(this,"circumference");J(this,"endAngle");J(this,"fullCircles");J(this,"innerRadius");J(this,"outerRadius");J(this,"pixelMargin");J(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=CF(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,m=Ee(h,c-l)>=ot||hh(o,l,c),_=Li(a,u+f,d+f);return m&&_}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(s+o)/2,h=(a+l+u+c)/2;return{x:r+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>ot?Math.floor(i/ot):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(lt,i||0)),u=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,Yie(n,this,u,o,a),Xie(n,this,u,o,a),n.restore()}}J(Mu,"id","arc"),J(Mu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),J(Mu,"defaultRoutes",{backgroundColor:"backgroundColor"}),J(Mu,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function aj(t,e,n=e){t.lineCap=Ee(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ee(n.borderDash,e.borderDash)),t.lineDashOffset=Ee(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ee(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ee(n.borderWidth,e.borderWidth),t.strokeStyle=Ee(n.borderColor,e.borderColor)}function Jie(t,e,n){t.lineTo(n.x,n.y)}function Zie(t){return t.stepped?xne:t.tension||t.cubicInterpolationMode==="monotone"?Sne:Jie}function lj(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function ese(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=lj(i,n,r),u=Zie(s);let{move:d=!0,reverse:h}=r||{},f,g,m;for(f=0;f<=c;++f)g=i[(a+(h?c-f:f))%o],!g.skip&&(d?(t.moveTo(g.x,g.y),d=!1):u(t,m,g,h,s.stepped),m=g);return l&&(g=i[(a+(h?c:0))%o],u(t,m,g,h,s.stepped)),!!l}function tse(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=lj(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,h,f,g,m,_,v;const y=w=>(o+(c?a-w:w))%s,b=()=>{m!==_&&(t.lineTo(u,_),t.lineTo(u,m),t.lineTo(u,v))};for(l&&(f=i[y(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=i[y(h)],f.skip)continue;const w=f.x,x=f.y,I=w|0;I===g?(x<m?m=x:x>_&&(_=x),u=(d*u+w)/++d):(b(),t.lineTo(w,x),g=I,d=0,m=_=x),v=x}b()}function mw(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?tse:ese}function nse(t){return t.stepped?tre:t.tension||t.cubicInterpolationMode==="monotone"?nre:ko}function rse(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),aj(t,e.options),t.stroke(i)}function ise(t,e,n,r){const{segments:i,options:s}=e,o=mw(e);for(const a of i)aj(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const sse=typeof Path2D=="function";function ose(t,e,n,r){sse&&!e.options.segment?rse(t,e,n,r):ise(t,e,n,r)}class Is extends is{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;Kne(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=lre(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=GF(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=nse(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],f=s[d],g=s[h];if(f===g){a.push(f);continue}const m=Math.abs((i-f[n])/(g[n]-f[n])),_=l(f,g,m,r.stepped);_[n]=e[n],a.push(_)}return a.length===1?a[0]:a}pathSegment(e,n,r){return mw(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=mw(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),ose(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}J(Is,"id","line"),J(Is,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),J(Is,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),J(Is,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function yk(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Xp extends is{constructor(n){super();J(this,"parsed");J(this,"skip");J(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return yk(this,n,"x",r)}inYRange(n,r){return yk(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Fi(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,hw(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}J(Xp,"id","point"),J(Xp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),J(Xp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function cj(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-d,u=r+d):(d=s/2,a=n-d,l=n+d,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function Ts(t,e,n,r){return t?0:Yt(e,n,r)}function ase(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=VF(r);return{t:Ts(i.top,s.top,0,n),r:Ts(i.right,s.right,0,e),b:Ts(i.bottom,s.bottom,0,n),l:Ts(i.left,s.left,0,e)}}function lse(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Jo(i),o=Math.min(e,n),a=t.borderSkipped,l=r||Pe(i);return{topLeft:Ts(!l||a.top||a.left,s.topLeft,0,o),topRight:Ts(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Ts(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Ts(!l||a.bottom||a.right,s.bottomRight,0,o)}}function cse(t){const e=cj(t),n=e.right-e.left,r=e.bottom-e.top,i=ase(t,n/2,r/2),s=lse(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function W_(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&cj(t,r);return a&&(i||Li(e,a.left,a.right))&&(s||Li(n,a.top,a.bottom))}function use(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function dse(t,e){t.rect(e.x,e.y,e.w,e.h)}function H_(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class Jp extends is{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=cse(this),a=use(o.radius)?fh:dse;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,H_(o,n,s)),e.clip(),a(e,H_(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,H_(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return W_(this,e,n,r)}inXRange(e,n){return W_(this,e,null,n)}inYRange(e,n){return W_(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}J(Jp,"id","bar"),J(Jp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),J(Jp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var hse=Object.freeze({__proto__:null,ArcElement:Mu,BarElement:Jp,LineElement:Is,PointElement:Xp});const yw=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],vk=yw.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function uj(t){return yw[t%yw.length]}function dj(t){return vk[t%vk.length]}function fse(t,e){return t.borderColor=uj(e),t.backgroundColor=dj(e),++e}function pse(t,e){return t.backgroundColor=t.data.map(()=>uj(e++)),e}function gse(t,e){return t.backgroundColor=t.data.map(()=>dj(e++)),e}function mse(t){let e=0;return(n,r)=>{const i=t.getDatasetMeta(r).controller;i instanceof Wo?e=pse(n,e):i instanceof hd?e=gse(n,e):i&&(e=fse(n,e))}}function _k(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function yse(t){return t&&(t.borderColor||t.backgroundColor)}var vse={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=t.config,{elements:s}=i;if(!n.forceOverride&&(_k(r)||yse(i)||s&&_k(s)))return;const o=mse(t);r.forEach(o)}};function _se(t,e,n,r,i){const s=i.samples||r;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const c=e+n-1;let u=e,d,h,f,g,m;for(o[l++]=t[u],d=0;d<s-2;d++){let _=0,v=0,y;const b=Math.floor((d+1)*a)+1+e,w=Math.min(Math.floor((d+2)*a)+1,n)+e,x=w-b;for(y=b;y<w;y++)_+=t[y].x,v+=t[y].y;_/=x,v/=x;const I=Math.floor(d*a)+1+e,T=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:E,y:A}=t[u];for(f=g=-1,y=I;y<T;y++)g=.5*Math.abs((E-_)*(t[y].y-A)-(E-t[y].x)*(v-A)),g>f&&(f=g,h=t[y],m=y);o[l++]=h,u=m}return o[l++]=t[c],o}function bse(t,e,n,r){let i=0,s=0,o,a,l,c,u,d,h,f,g,m;const _=[],v=e+n-1,y=t[e].x,w=t[v].x-y;for(o=e;o<e+n;++o){a=t[o],l=(a.x-y)/w*r,c=a.y;const x=l|0;if(x===u)c<g?(g=c,d=o):c>m&&(m=c,h=o),i=(s*i+a.x)/++s;else{const I=o-1;if(!Me(d)&&!Me(h)){const T=Math.min(d,h),E=Math.max(d,h);T!==f&&T!==I&&_.push({...t[T],x:i}),E!==f&&E!==I&&_.push({...t[E],x:i})}o>0&&I!==f&&_.push(t[I]),_.push(a),u=x,s=0,g=m=c,d=h=f=o}}return _}function hj(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function bk(t){t.data.datasets.forEach(e=>{hj(e)})}function wse(t,e){const n=e.length;let r=0,i;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=Yt(Vi(e,s.axis,o).lo,0,n-1)),c?i=Yt(Vi(e,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var xse={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){bk(t);return}const r=t.width;t.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,l=t.getDatasetMeta(s),c=o||i.data;if(Du([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:h}=wse(l,c);const f=n.threshold||4*r;if(h<=f){hj(i);return}Me(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let g;switch(n.algorithm){case"lttb":g=_se(c,d,h,r,n);break;case"min-max":g=bse(c,d,h,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=g})},destroy(t){bk(t)}};function Sse(t,e,n){const r=t.segments,i=t.points,s=e.points,o=[];for(const a of r){let{start:l,end:c}=a;c=dI(l,c,i);const u=vw(n,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const d=GF(e,u);for(const h of d){const f=vw(n,s[h.start],s[h.end],h.loop),g=KF(a,i,f);for(const m of g)o.push({source:m,target:h,start:{[n]:wk(u,f,"start",Math.max)},end:{[n]:wk(u,f,"end",Math.min)}})}}return o}function vw(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=sr(i),s=sr(s)),{property:t,start:i,end:s}}function Ese(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=dI(o,a,i);const l=i[o],c=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function dI(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function wk(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function fj(t,e){let n=[],r=!1;return it(t)?(r=!0,n=t):n=Ese(t,e),n.length?new Is({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function xk(t){return t&&t.fill!==!1}function Ise(t,e,n){let i=t[e].fill;const s=[e];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!xt(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function Tse(t,e,n){const r=Ase(t);if(Pe(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return xt(i)&&Math.floor(i)===i?Rse(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Rse(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function Cse(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Pe(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function kse(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Pe(t)?r=t.value:r=e.getBaseValue(),r}function Ase(t){const e=t.options,n=e.fill;let r=Ee(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Pse(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=Nse(e,n);a.push(fj({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)Dse(i,o[u],a)}return new Is({points:i,options:{}})}function Nse(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function Dse(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=Ose(s,e,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(t.push(l),!a)break}}t.push(...r)}function Ose(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=o[u.start][n],h=o[u.end][n];if(Li(i,d,h)){a=i===d,l=i===h;break}}return{first:a,last:l,point:r}}class pj{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:ot},e.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function Mse(t){const{chart:e,fill:n,line:r}=t;if(xt(n))return Lse(e,n);if(n==="stack")return Pse(t);if(n==="shape")return!0;const i=Vse(t);return i instanceof pj?i:fj(i,r)}function Lse(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function Vse(t){return(t.scale||{}).getPointPositionForValue?jse(t):Fse(t)}function Fse(t){const{scale:e={},fill:n}=t,r=Cse(n,e);if(xt(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function jse(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=kse(n,e,s),a=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,s);return new pj({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function q_(t,e,n){const r=Mse(e),{line:i,scale:s,axis:o}=e,a=i.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};r&&i.points.length&&(cv(t,n),$se(t,{line:i,target:r,above:u,below:d,area:n,scale:s,axis:o}),uv(t))}function $se(t,e){const{line:n,target:r,above:i,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==i&&(Sk(t,r,o.top),Ek(t,{line:n,target:r,color:i,scale:a,property:l}),t.restore(),t.save(),Sk(t,r,o.bottom)),Ek(t,{line:n,target:r,color:s,scale:a,property:l}),t.restore()}function Sk(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:c}=a,u=i[l],d=i[dI(l,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Ek(t,e){const{line:n,target:r,property:i,color:s,scale:o}=e,a=Sse(n,r,i);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:h=s}={}}=l,f=r!==!0;t.save(),t.fillStyle=h,Use(t,o,f&&vw(i,u,d)),t.beginPath();const g=!!n.pathSegment(t,l);let m;if(f){g?t.closePath():Ik(t,r,d,i);const _=!!r.pathSegment(t,c,{move:g,reverse:!0});m=g&&_,m||Ik(t,r,u,i)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function Use(t,e,n){const{top:r,bottom:i}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,r,a-o,i-r),t.clip())}function Ik(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var Bse={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Is&&(l={visible:t.isDatasetVisible(o),index:o,fill:Tse(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=Ise(i,o,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&q_(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;xk(s)&&q_(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!xk(r)||n.drawTime!=="beforeDatasetDraw"||q_(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Tk=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},zse=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Rk extends is{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Qe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=zt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Tk(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((g,m)=>{const _=r+n/2+s.measureText(g.text).width;(m===0||c[c.length-1]+_+2*a>o)&&(d+=u,c[c.length-(m>0?0:1)]=0,f+=u,h++),l[m]={left:0,top:f,row:h,width:_,height:i},c[c.length-1]+=_+a}),d}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,h=0,f=0,g=0,m=0;return this.legendItems.forEach((_,v)=>{const{itemWidth:y,itemHeight:b}=Wse(r,n,s,_,i);v>0&&f+b+2*a>u&&(d+=h+a,c.push({width:h,height:f}),g+=h+a,m++,h=f=0),l[v]={left:g,top:f,col:m,width:y,height:b},h=Math.max(h,y),f+=b+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Dl(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=bn(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=bn(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=bn(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=bn(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;cv(e,this),this._draw(),uv(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=St.color,l=Dl(e.rtl,this.left,this.width),c=zt(o.font),{padding:u}=o,d=c.size,h=d/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:_}=Tk(o,d),v=function(I,T,E){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const A=Ee(E.lineWidth,1);if(i.fillStyle=Ee(E.fillStyle,a),i.lineCap=Ee(E.lineCap,"butt"),i.lineDashOffset=Ee(E.lineDashOffset,0),i.lineJoin=Ee(E.lineJoin,"miter"),i.lineWidth=A,i.strokeStyle=Ee(E.strokeStyle,a),i.setLineDash(Ee(E.lineDash,[])),o.usePointStyle){const D={radius:m*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:A},V=l.xPlus(I,g/2),H=T+h;LF(i,D,V,H,o.pointStyleWidth&&g)}else{const D=T+Math.max((d-m)/2,0),V=l.leftForLtr(I,g),H=Jo(E.borderRadius);i.beginPath(),Object.values(H).some(X=>X!==0)?fh(i,{x:V,y:D,w:g,h:m,radius:H}):i.rect(V,D,g,m),i.fill(),A!==0&&i.stroke()}i.restore()},y=function(I,T,E){wa(i,E.text,I,T+_/2,c,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},b=this.isHorizontal(),w=this._computeTitleHeight();b?f={x:bn(s,this.left+u,this.right-r[0]),y:this.top+u+w,line:0}:f={x:this.left+u,y:bn(s,this.top+w+u,this.bottom-n[0].height),line:0},WF(this.ctx,e.textDirection);const x=_+u;this.legendItems.forEach((I,T)=>{i.strokeStyle=I.fontColor,i.fillStyle=I.fontColor;const E=i.measureText(I.text).width,A=l.textAlign(I.textAlign||(I.textAlign=o.textAlign)),D=g+h+E;let V=f.x,H=f.y;l.setWidth(this.width),b?T>0&&V+D+u>this.right&&(H=f.y+=x,f.line++,V=f.x=bn(s,this.left+u,this.right-r[f.line])):T>0&&H+x>this.bottom&&(V=f.x=V+n[f.line].width+u,f.line++,H=f.y=bn(s,this.top+w+u,this.bottom-n[f.line].height));const X=l.x(V);if(v(X,H,I),V=dne(A,V+g+h,b?V+D:this.right,e.rtl),y(l.x(V),H,I),b)f.x+=D+u;else if(typeof I.text!="string"){const Y=c.lineHeight;f.y+=gj(I,Y)+u}else f.y+=x}),HF(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=zt(n.font),i=Tn(n.padding);if(!n.display)return;const s=Dl(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=bn(e.align,d,this.right-h);else{const g=this.columnSizes.reduce((m,_)=>Math.max(m,_.height),0);u=c+bn(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=bn(a,d,d+h);o.textAlign=s.textAlign(nI(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,wa(o,n.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,n=zt(e.font),r=Tn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Li(e,this.left,this.right)&&Li(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Li(e,i.left,i.left+i.width)&&Li(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Kse(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=zse(i,r);i&&!s&&Qe(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Qe(n.onHover,[e,r,this],this)}else r&&Qe(n.onClick,[e,r,this],this)}}function Wse(t,e,n,r,i){const s=Hse(r,t,e,n),o=qse(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function Hse(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function qse(t,e,n){let r=t;return typeof e.text!="string"&&(r=gj(e,n)),r}function gj(t,e){const n=t.text?t.text.length:0;return e*n}function Kse(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Gse={id:"legend",_element:Rk,start(t,e,n){const r=t.legend=new Rk({ctx:t.ctx,options:n,chart:t});xn.configure(t,r,n),xn.addBox(t,r)},stop(t){xn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;xn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Tn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class hI extends is{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=it(r.text)?r.text.length:1;this._padding=Tn(r.padding);const s=i*zt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=bn(a,r,s),d=n+e,c=s-r):(o.position==="left"?(u=r+e,d=bn(a,i,n),l=lt*-.5):(u=s-e,d=bn(a,n,i),l=lt*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=zt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);wa(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:nI(n.align),textBaseline:"middle",translation:[o,a]})}}function Qse(t,e){const n=new hI({ctx:t.ctx,options:e,chart:t});xn.configure(t,n,e),xn.addBox(t,n),t.titleBlock=n}var Yse={id:"title",_element:hI,start(t,e,n){Qse(t,n)},stop(t){const e=t.titleBlock;xn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;xn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lp=new WeakMap;var Xse={id:"subtitle",start(t,e,n){const r=new hI({ctx:t.ctx,options:n,chart:t});xn.configure(t,r,n),xn.addBox(t,r),lp.set(t,r)},stop(t){xn.removeBox(t,lp.get(t)),lp.delete(t)},beforeUpdate(t,e,n){const r=lp.get(t);xn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Lu={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=uw(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Kr(t,e){return e&&(it(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ti(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Jse(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Ck(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=zt(e.bodyFont),c=zt(e.titleFont),u=zt(e.footerFont),d=s.length,h=i.length,f=r.length,g=Tn(e.padding);let m=g.height,_=0,v=r.reduce((w,x)=>w+x.before.length+x.lines.length+x.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),v){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=f*w+(v-f)*l.lineHeight+(v-1)*e.bodySpacing}h&&(m+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let y=0;const b=function(w){_=Math.max(_,n.measureText(w).width+y)};return n.save(),n.font=c.string,$e(t.title,b),n.font=l.string,$e(t.beforeBody.concat(t.afterBody),b),y=e.displayColors?o+2+e.boxPadding:0,$e(r,w=>{$e(w.before,b),$e(w.lines,b),$e(w.after,b)}),y=0,n.font=u.string,$e(t.footer,b),n.restore(),_+=g.width,{width:_,height:m}}function Zse(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function eoe(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function toe(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),eoe(c,t,e,n)&&(c="center"),c}function kk(t,e,n){const r=n.yAlign||e.yAlign||Zse(t,n);return{xAlign:n.xAlign||e.xAlign||toe(t,e,n,r),yAlign:r}}function noe(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function roe(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function Ak(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Jo(o);let g=noe(e,a);const m=roe(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,h)+i:a==="right"&&(g+=Math.max(d,f)+i),{x:Yt(g,0,r.width-e.width),y:Yt(m,0,r.height-e.height)}}function cp(t,e,n){const r=Tn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Pk(t){return Kr([],Ti(t))}function ioe(t,e,n){return vo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Nk(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const mj={beforeTitle:Ei,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Ei,beforeBody:Ei,beforeLabel:Ei,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Me(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ei,afterBody:Ei,beforeFooter:Ei,footer:Ei,afterFooter:Ei};function Un(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?mj[e].call(n,r):i}class _w extends is{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new QF(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=ioe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Un(r,"beforeTitle",this,e),s=Un(r,"title",this,e),o=Un(r,"afterTitle",this,e);let a=[];return a=Kr(a,Ti(i)),a=Kr(a,Ti(s)),a=Kr(a,Ti(o)),a}getBeforeBody(e,n){return Pk(Un(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return $e(e,s=>{const o={before:[],lines:[],after:[]},a=Nk(r,s);Kr(o.before,Ti(Un(a,"beforeLabel",this,s))),Kr(o.lines,Un(a,"label",this,s)),Kr(o.after,Ti(Un(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return Pk(Un(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Un(r,"beforeFooter",this,e),s=Un(r,"footer",this,e),o=Un(r,"afterFooter",this,e);let a=[];return a=Kr(a,Ti(i)),a=Kr(a,Ti(s)),a=Kr(a,Ti(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(Jse(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,r))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,r))),$e(a,u=>{const d=Nk(e.callbacks,u);i.push(Un(d,"labelColor",this,u)),s.push(Un(d,"labelPointStyle",this,u)),o.push(Un(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Lu[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=Ck(this,r),c=Object.assign({},a,l),u=kk(this.chart,r,c),d=Ak(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Jo(a),{x:h,y:f}=e,{width:g,height:m}=n;let _,v,y,b,w,x;return s==="center"?(w=f+m/2,i==="left"?(_=h,v=_-o,b=w+o,x=w-o):(_=h+g,v=_+o,b=w-o,x=w+o),y=_):(i==="left"?v=h+Math.max(l,u)+o:i==="right"?v=h+g-Math.max(c,d)-o:v=this.caretX,s==="top"?(b=f,w=b-o,_=v-o,y=v+o):(b=f+m,w=b+o,_=v+o,y=v-o),x=b),{x1:_,x2:v,x3:y,y1:b,y2:w,y3:x}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=Dl(r.rtl,this.x,this.width);for(e.x=cp(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=zt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=zt(s.bodyFont),d=cp(this,"left",s),h=i.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+f;if(s.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=i.leftForLtr(h,c)+c/2,v=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,hw(e,m,_,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,hw(e,m,_,v)}else{e.lineWidth=Pe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(h,c),_=i.leftForLtr(i.xPlus(h,1),c-2),v=Jo(o.borderRadius);Object.values(v).some(y=>y!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,fh(e,{x:m,y:g,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),fh(e,{x:_,y:g+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,g,c,l),e.strokeRect(m,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(_,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=zt(r.bodyFont);let h=d.lineHeight,f=0;const g=Dl(r.rtl,this.x,this.width),m=function(E){n.fillText(E,g.x(e.x+f),e.y+h/2),e.y+=h+s},_=g.textAlign(o);let v,y,b,w,x,I,T;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=cp(this,_,r),n.fillStyle=r.bodyColor,$e(this.beforeBody,m),f=a&&_!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,I=i.length;w<I;++w){for(v=i[w],y=this.labelTextColors[w],n.fillStyle=y,$e(v.before,m),b=v.lines,a&&b.length&&(this._drawColorBox(n,e,w,g,r),h=Math.max(d.lineHeight,l)),x=0,T=b.length;x<T;++x)m(b[x]),h=d.lineHeight;$e(v.after,m)}f=0,h=d.lineHeight,$e(this.afterBody,m),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Dl(r.rtl,this.x,this.width);for(e.x=cp(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=zt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=Jo(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Lu[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Ck(this,e),l=Object.assign({},o,this._size),c=kk(n,e,l),u=Ak(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Tn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),WF(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),HF(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!sm(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!sm(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Lu[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}J(_w,"positioners",Lu);var soe={id:"tooltip",_element:_w,positioners:Lu,afterInit(t,e,n){n&&(t.tooltip=new _w({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ooe=Object.freeze({__proto__:null,Colors:vse,Decimation:xse,Filler:Bse,Legend:Gse,SubTitle:Xse,Title:Yse,Tooltip:soe});const aoe=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function loe(t,e,n,r){const i=t.indexOf(e);if(i===-1)return aoe(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const coe=(t,e)=>t===null?null:Yt(Math.round(t),0,e);function Dk(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class bw extends Va{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Me(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:loe(r,e,Ee(n,e),this._addedLabels),coe(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return Dk.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}J(bw,"id","category"),J(bw,"defaults",{ticks:{callback:Dk}});function uoe(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=s||1,g=u-1,{min:m,max:_}=e,v=!Me(o),y=!Me(a),b=!Me(c),w=(_-m)/(d+1);let x=RC((_-m)/g/f)*f,I,T,E,A;if(x<1e-14&&!v&&!y)return[{value:m},{value:_}];A=Math.ceil(_/x)-Math.floor(m/x),A>g&&(x=RC(A*x/g/f)*f),Me(l)||(I=Math.pow(10,l),x=Math.ceil(x*I)/I),i==="ticks"?(T=Math.floor(m/x)*x,E=Math.ceil(_/x)*x):(T=m,E=_),v&&y&&s&&ine((a-o)/s,x/1e3)?(A=Math.round(Math.min((a-o)/x,u)),x=(a-o)/A,T=o,E=a):b?(T=v?o:T,E=y?a:E,A=c-1,x=(E-T)/A):(A=(E-T)/x,cd(A,Math.round(A),x/1e3)?A=Math.round(A):A=Math.ceil(A));const D=Math.max(CC(x),CC(T));I=Math.pow(10,Me(l)?D:l),T=Math.round(T*I)/I,E=Math.round(E*I)/I;let V=0;for(v&&(h&&T!==o?(n.push({value:o}),T<o&&V++,cd(Math.round((T+V*x)*I)/I,o,Ok(o,w,t))&&V++):T<o&&V++);V<A;++V){const H=Math.round((T+V*x)*I)/I;if(y&&H>a)break;n.push({value:H})}return y&&h&&E!==a?n.length&&cd(n[n.length-1].value,a,Ok(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!y||E===a)&&n.push({value:E}),n}function Ok(t,e,{horizontal:n,minRotation:r}){const i=Lr(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class hm extends Va{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Me(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=pi(i),c=pi(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=uoe(i,s);return e.bounds==="ticks"&&RF(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return pf(e,this.chart.options.locale,this.options.ticks.format)}}class ww extends hm{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=xt(e)?e:0,this.max=xt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Lr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}J(ww,"id","linear"),J(ww,"defaults",{ticks:{callback:lv.formatters.numeric}});const gh=t=>Math.floor(Es(t)),So=(t,e)=>Math.pow(10,gh(t)+e);function Mk(t){return t/Math.pow(10,gh(t))===1}function Lk(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function doe(t,e){const n=e-t;let r=gh(n);for(;Lk(t,e,r)>10;)r++;for(;Lk(t,e,r)<10;)r--;return Math.min(r,gh(t))}function hoe(t,{min:e,max:n}){e=rr(t.min,e);const r=[],i=gh(e);let s=doe(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,s)),h=rr(t.min,Math.round((l+u+d*Math.pow(10,s))*o)/o);for(;h<n;)r.push({value:h,major:Mk(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),h=Math.round((l+u+d*Math.pow(10,s))*o)/o;const f=rr(t.max,h);return r.push({value:f,major:Mk(f),significand:d}),r}class xw extends Va{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=hm.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return xt(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=xt(e)?Math.max(0,e):null,this.max=xt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!xt(this._userMin)&&(this.min=e===So(this.min,0)?So(this.min,-1):So(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(So(r,-1)),o(So(i,1)))),r<=0&&s(So(i,-1)),i<=0&&o(So(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=hoe(n,this);return e.bounds==="ticks"&&RF(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":pf(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Es(e),this._valueRange=Es(this.max)-Es(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Es(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}J(xw,"id","logarithmic"),J(xw,"defaults",{ticks:{callback:lv.formatters.logarithmic,major:{enabled:!0}}});function Sw(t){const e=t.ticks;if(e.display&&t.display){const n=Tn(e.backdropPadding);return Ee(e.font&&e.font.size,St.font.size)+n.height}return 0}function foe(t,e,n){return n=it(n)?n:[n],{w:wne(t,e.string,n),h:n.length*e.lineHeight}}function Vk(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function poe(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?lt/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),d=zt(c.font),h=foe(t.ctx,d,t._pointLabels[l]);r[l]=h;const f=sr(t.getIndexAngle(l)+a),g=Math.round(eI(f)),m=Vk(g,u.x,h.w,0,180),_=Vk(g,u.y,h.h,90,270);goe(n,e,f,m,_)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=voe(t,r,i)}function goe(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function moe(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,r+i+o,s),c=Math.round(eI(sr(l.angle+Nt))),u=woe(l.y,a.h,c),d=_oe(c),h=boe(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function yoe(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(Fi({x:n,y:r},e)||Fi({x:n,y:s},e)||Fi({x:i,y:r},e)||Fi({x:i,y:s},e))}function voe(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Sw(s)/2,additionalAngle:o?lt/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const d=moe(t,u,l);r.push(d),a==="auto"&&(d.visible=yoe(d,c),d.visible&&(c=d))}return r}function _oe(t){return t===0||t===180?"center":t<180?"left":"right"}function boe(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function woe(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function xoe(t,e,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!Me(a)){const l=Jo(e.borderRadius),c=Tn(e.backdropPadding);t.fillStyle=a;const u=r-c.left,d=i-c.top,h=s-r+c.width,f=o-i+c.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),fh(t,{x:u,y:d,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,d,h,f)}}function Soe(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(t.getPointLabelContext(i));xoe(n,o,s);const a=zt(o.font),{x:l,y:c,textAlign:u}=s;wa(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function yj(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,ot);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function Eoe(t,e,n,r,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash),s.lineDashOffset=i.dashOffset,s.beginPath(),yj(t,n,o,r),s.closePath(),s.stroke(),s.restore())}function Ioe(t,e,n){return vo(t,{label:n,index:e,type:"pointLabel"})}class Vu extends hm{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Tn(Sw(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=xt(e)&&!isNaN(e)?e:0,this.max=xt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Sw(this.options))}generateTickLabels(e){hm.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=Qe(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?poe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=ot/(this._pointLabels.length||1),r=this.options.startAngle||0;return sr(e*n+Lr(r))}getDistanceFromCenterForValue(e){if(Me(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Me(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return Ioe(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-Nt+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),yj(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&Soe(this,o),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),f=i.setContext(h),g=s.setContext(h);Eoe(this,f,l,o,g)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const u=r.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),u=zt(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=Tn(c.backdropPadding);e.fillRect(-o/2-d.left,-s-u.size/2-d.top,o+d.width,u.size+d.height)}wa(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}J(Vu,"id","radialLinear"),J(Vu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:lv.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),J(Vu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),J(Vu,"descriptors",{angleLines:{_fallback:"grid"}});const hv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Hn=Object.keys(hv);function Fk(t,e){return t-e}function jk(t,e){if(Me(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),xt(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(cc(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function $k(t,e,n,r){const i=Hn.length;for(let s=Hn.indexOf(t);s<i-1;++s){const o=hv[Hn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Hn[s]}return Hn[i-1]}function Toe(t,e,n,r,i){for(let s=Hn.length-1;s>=Hn.indexOf(n);s--){const o=Hn[s];if(hv[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return Hn[n?Hn.indexOf(n):0]}function Roe(t){for(let e=Hn.indexOf(t)+1,n=Hn.length;e<n;++e)if(hv[Hn[e]].common)return Hn[e]}function Uk(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=tI(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function Coe(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function Bk(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:Coe(t,r,i,n)}class mh extends Va{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new Vre._date(e.adapters.date);i.init(n),ld(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:jk(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=xt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=xt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=lne(i,s,o);return this._unit=n.unit||(r.autoSkip?$k(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Toe(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Roe(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),Bk(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Yt(n,0,o),r=Yt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||$k(s.minUnit,n,r,this._getLabelCapacity(n)),a=Ee(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=cc(l)||l===!0,u={};let d=n,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<r;h=+e.add(h,a,o),f++)Uk(u,h,g);return(h===r||i.bounds==="ticks"||f===1)&&Uk(u,h,g),Object.keys(u).sort(Fk).map(m=>+m)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Qe(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=r[n],f=c&&d&&h&&h.major;return this._adapter.format(e,i||(f?d:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Lr(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,Bk(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(jk(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return AF(e.sort(Fk))}}J(mh,"id","time"),J(mh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function up(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Vi(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Vi(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class Ew extends mh{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=up(n,this.min),this._tableRange=up(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(up(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return up(this._table,r*this._tableRange+this._minPos,!0)}}J(Ew,"id","timeseries"),J(Ew,"defaults",mh.defaults);var koe=Object.freeze({__proto__:null,CategoryScale:bw,LinearScale:ww,LogarithmicScale:xw,RadialLinearScale:Vu,TimeScale:mh,TimeSeriesScale:Ew});const Aoe=[Lre,hse,ooe,koe];Ai.register(...Aoe);const vj=({data:t,updateTime:e,width:n,height:r})=>{const i=S.useRef(null),s=S.useRef(null);return S.useEffect(()=>{const o=i.current;if(o&&t){s.current&&s.current.destroy();const l=o.getContext("2d"),c=Object.values(t).map(u=>parseFloat(u));var a=l.createLinearGradient(0,0,0,l.canvas.height);a.addColorStop(0,"rgba(75, 192, 192, 0.5)"),a.addColorStop(1,"rgba(75, 192, 192, 0)"),s.current=new Ai(l,{type:"line",data:{labels:Array.from({length:t.length},(u,d)=>d+1),datasets:[{data:c,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,fill:!0,backgroundColor:a,pointRadius:0,tension:.1}]},options:{responsive:!1,plugins:{legend:{display:!1},tooltip:{enabled:e!==void 0,mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleFontColor:"rgba(255, 255, 255, 0.8)",bodyFontColor:"rgba(255, 255, 255, 0.8)",borderColor:"rgba(0, 0, 0, 0.8)",borderWidth:1,cornerRadius:5,displayColors:!1,callbacks:{title:function(u){let d=new Date(e);return d instanceof Date&&!isNaN(d)||(d=new Date),d.setDate(d.getDate()-7),d.setHours(d.getHours()+u[0].parsed.x),d.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})},label:function(u){let d=u.dataset.label||"";return d&&(d+=": "),u.parsed.y!==null&&(d+=u.parsed.y.toFixed(5))," $"+d}}}},scales:{x:{display:!1},y:{display:!1,beginAtZero:!0}},elements:{line:{borderWidth:1},point:{radius:0}},hover:{mode:"index"},maintainAspectRatio:!1}})}return()=>{s.current&&s.current.destroy()}},[t]),p.jsx("div",{className:"flex justify-center w-full",children:p.jsx("canvas",{ref:i,width:n,height:r})})};function un(t,e=10){return parseFloat(t.toString().replace(/(\.\d*?[1-9])0+$|\.0*$/,"$1")).toLocaleString("en-US",{maximumFractionDigits:e})}const Poe=t=>{const e=t.data;function n(o,a,l){return p.jsxs("div",{children:["$"+i(o),p.jsx("div",{className:"text-slate-400",children:i(o/a)+" "+l.toUpperCase()})]})}function r(o){const a=o<0;o=a?o*-1:o;const l=a?"-":"+";return p.jsx("div",{className:`flex justify-end items-center font-semibold ${a?"text-red":"text-green"}`,children:p.jsx("div",{className:"ml-3",children:l+i(o)+"%"})})}function i(o){let a=o.toFixed(10);return parseFloat(a).toLocaleString()}function s(){return new Date(e.last_updated).toLocaleString("en-US",{timeZone:"Asia/Jerusalem"})}return p.jsxs("tr",{className:"border-b hover:bg-gray-200 dark:hover:bg-gray-900",children:[p.jsx("td",{className:"py-2 text-center",children:t.index}),p.jsx("td",{className:"py-2",children:p.jsxs("div",{className:"flex justify-start h-full items-center",children:[p.jsx("img",{className:"w-6 h-6 mr-2",loading:"lazy",src:e.image,alt:e.name+" Logo"}),p.jsxs("div",{className:"flex flex-col justify-center items-start",children:[e.symbol.toUpperCase(),p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.name})]})]})}),p.jsx("td",{className:"py-2 text-end",children:"$"+un(e.current_price)}),p.jsx("td",{className:"py-2 md:table-cell hidden text-end",children:r(e.price_change_percentage_1h_in_currency)}),p.jsx("td",{className:"py-2 md:table-cell hidden text-end",children:r(e.price_change_percentage_24h_in_currency)}),p.jsx("td",{className:"py-2 text-end",children:r(e.price_change_percentage_7d_in_currency)}),p.jsx("td",{className:"py-2 md:table-cell hidden text-end",children:"$"+i(e.market_cap)}),p.jsx("td",{className:"py-2 md:table-cell hidden text-end",children:n(e.total_volume,e.current_price,e.symbol)}),p.jsx("td",{className:"py-2 md:table-cell hidden text-end",children:i(e.circulating_supply)+" "+e.symbol.toUpperCase()}),p.jsx("td",{className:"py-2 md:table-cell hidden",children:p.jsx(vj,{data:e.sparkline_in_7d.price,width:100,height:50,updateTime:s()})})]})},Oc=t=>{const{totalPageNumber:e,currentPage:n,setCurrentPage:r}=t,[i,s]=S.useState(window.innerWidth),[o,a]=S.useState(5);S.useEffect(()=>{const d=()=>{s(window.innerWidth)};return window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[]),S.useEffect(()=>{i<768?a(3):a(5)},[i]);function l(){n!==e()&&r(n+1)}function c(){n!==1&&r(n-1)}function u(d){r(d)}return e()===1?null:p.jsxs("div",{className:"flex justify-end items-center mt-2",children:[p.jsx("button",{onClick:c,className:"material-icons w-8 h-8 m-px hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md disabled:opacity-50 disabled:hover:bg-transparent disabled:dark:hover:bg-transparent",disabled:n===1,children:"navigate_before"}),p.jsx("button",{onClick:()=>u(1),className:`w-8 h-8 m-px hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md ${n===1?"bg-gray-200 dark:bg-gray-700":""}`,children:"1"}),n>3?p.jsx("p",{className:"w-8 h-8 m-px grid text-center items-center",children:"..."}):null,Array.from({length:o},(d,h)=>n+h-(o===5?2:1)).map(d=>{if(d>1&&d<e())return p.jsx("button",{onClick:()=>u(d),className:`w-8 h-8 m-px hover:bg-gray-200 dark:hover:bg-gray-600  rounded-md ${n===d?"bg-gray-200 dark:bg-gray-700":""}`,children:d},`pageButton-${d}`)}),n<e()-(o===5?3:2)?p.jsx("p",{className:"w-8 h-8 m-px grid text-center items-center",children:"..."}):null,p.jsx("button",{onClick:()=>u(e()),className:`w-8 h-8 m-px hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md ${n===e()?"bg-gray-200 dark:bg-gray-700":""}`,children:e()}),p.jsx("button",{onClick:l,className:"material-icons w-8 h-8 m-px hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md disabled:opacity-50 disabled:hover:bg-transparent disabled:dark:hover:bg-transparent",disabled:e()===n,children:"navigate_next"})]})};function Mc(){const{t}=qe();return p.jsx("div",{className:"flex items-center justify-center h-full w-full",children:p.jsxs("div",{className:"flex items-center justify-center gap-5",children:[p.jsx("p",{className:"text-gray-900 dark:text-white text-3xl font-semibold",children:t("fetchingdata")}),p.jsxs("div",{className:"loading-container",children:[p.jsx("span",{className:"dot bg-gray-900 dark:bg-white",style:{height:"20px",width:"20px"}}),p.jsx("span",{className:"dot bg-gray-900 dark:bg-white",style:{height:"20px",width:"20px"}}),p.jsx("span",{className:"dot bg-gray-900 dark:bg-white",style:{height:"20px",width:"20px"}})]})]})})}const Noe=()=>{const{t}=qe(),e=10,n=Vh(lo),[r,i]=S.useState([...n.filterdData].slice(0,e)),[s,o]=S.useState({field:"",asc:null}),[a,l]=S.useState(1);S.useEffect(()=>{Math.ceil(n.filterdData.length/e)<a&&l(1),f()},[n]);const c=()=>Math.ceil(n.filterdData.length/e)||1;S.useEffect(()=>{f()},[a]);function u(g){if(s.field===g){if(s.asc===!1){const _=[...n.filterdData].sort((v,y)=>typeof v[g]=="number"?y[g]-v[g]:(""+y[g]).localeCompare(v[g]));i(_.slice((a-1)*e,a*e)),o({field:g,asc:!0});return}f(),o({field:"",asc:null});return}const m=[...n.filterdData].sort((_,v)=>typeof _[g]=="number"?_[g]-v[g]:(""+_[g]).localeCompare(v[g]));i(m.slice((a-1)*e,a*e)),o({field:g,asc:!1})}const d=(g,m)=>p.jsxs("div",{className:`flex py-2 ${m==="name"?"justify-start":"justify-end"} items-center`,children:[t(m),h(g)?p.jsx("i",{className:"material-icons",children:s.asc?"expand_less":"expand_more"}):null]});function h(g){return s.field===g}function f(){i([...n.filterdData].slice((a-1)*e,a*e))}return p.jsxs("div",{children:[n.updatedTime?p.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 dark:text-gray-400",children:[t("lastUpdated")," ",n.updatedTime]}):null,p.jsxs("table",{className:"w-full h-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b",children:[p.jsx("th",{className:"cursor-pointer bg-white dark:bg-gray-800 ",children:"#"}),p.jsx("th",{onClick:()=>u("name"),className:"cursor-pointer bg-white dark:bg-gray-800 ",children:d("name","name")}),p.jsx("th",{onClick:()=>u("current_price"),className:"cursor-pointer bg-white dark:bg-gray-800",children:d("current_price","price")}),p.jsx("th",{onClick:()=>u("price_change_percentage_1h_in_currency"),className:"cursor-pointer bg-white dark:bg-gray-800 md:table-cell hidden",children:d("price_change_percentage_1h_in_currency","1h%")}),p.jsx("th",{onClick:()=>u("price_change_percentage_24h_in_currency"),className:"cursor-pointer bg-white dark:bg-gray-800 md:table-cell hidden",children:d("price_change_percentage_24h_in_currency","24h%")}),p.jsx("th",{onClick:()=>u("price_change_percentage_7d_in_currency"),className:"cursor-pointer bg-white dark:bg-gray-800 ",children:d("price_change_percentage_7d_in_currency","7d%")}),p.jsx("th",{onClick:()=>u("market_cap"),className:"cursor-pointer bg-white dark:bg-gray-800 md:table-cell hidden",children:d("market_cap","marketCap")}),p.jsx("th",{onClick:()=>u("total_volume"),className:"cursor-pointer bg-white dark:bg-gray-800 md:table-cell hidden",children:d("total_volume","volume")}),p.jsx("th",{onClick:()=>u("circulating_supply"),className:"cursor-pointer bg-white dark:bg-gray-800 md:table-cell hidden",children:d("circulating_supply","circulatingSupply")}),p.jsx("th",{className:"cursor-pointer bg-white dark:bg-gray-800 md:table-cell hidden",children:t("last7Days")})]})}),p.jsx("tbody",{children:r.map((g,m)=>p.jsx(Poe,{data:g,index:m+1+(a-1)*e,header:!1},g.id))})]}),p.jsx("div",{className:`${r.length===0?"":"hidden"} h-20`,children:p.jsx(Mc,{})}),p.jsx(Oc,{totalPageNumber:c,currentPage:a,setCurrentPage:l})]})};function Fa(){const{t}=qe();return p.jsxs("footer",{className:"flex w-full justify-between items-center bg-white dark:bg-gray-800 text-black dark:text-white p-5 eft-0 right-0 font-semibold",children:[p.jsxs("p",{children:[" ",new Date().getFullYear()+" "+t("rights")]}),p.jsxs("div",{className:"hidden md:flex gap-4 text-lg ",children:[p.jsx("a",{href:"https://www.instagram.com",className:"fa fa-instagram cursor-pointer p-1 text-fuchsia-400",target:"_blank","aria-hidden":"true"}),p.jsx("a",{href:"https://wa.me/972543921507",className:"fa fa-whatsapp cursor-pointer p-1 text-green",target:"_blank","aria-hidden":"true"}),p.jsx("a",{href:"https://www.facebook.com",className:"fa fa-facebook-official cursor-pointer p-1 text-blue-500",target:"_blank","aria-hidden":"true"})]})]})}function Doe(){const{t}=qe(),[e,n]=$s(lo);S.useEffect(()=>(document.title=t("coins")+" | "+t("cryptoPulse"),()=>{document.title=t("cryptoPulse")}),[]);const r=i=>{const s=i.target.value.toLowerCase(),a=[...e.data].filter(l=>l.name.toLowerCase().includes(s));n({...e,filterdData:a})};return p.jsxs("div",{className:"scrollable-content content",children:[p.jsxs("div",{className:"m-5 text-slate-950 dark:text-white",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-5",children:[p.jsx("h1",{className:"mb-5 text-3xl font-bold md: m-0",children:t("cryptocurrencyPrices")}),p.jsxs("div",{className:"relative hidden md:block",children:[p.jsx("div",{className:"material-icons absolute inset-y-0 start-0 flex items-center pl-2 pointer-events-none text-gray-500 dark:text-gray-400",children:"search"}),p.jsx("input",{type:"text",onChange:r,className:"pl-9 w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("search")+"..."})]})]}),p.jsx(Noe,{data:e})]}),p.jsx(Fa,{})]})}function Ooe({news_object:t}){const{t:e}=qe();function n(r){r<1e10&&(r*=1e3);const i=new Date(r);return("0"+i.getDate()).slice(-2)+"/"+("0"+(i.getMonth()+1)).slice(-2)+"/"+i.getFullYear()}return p.jsxs("div",{className:"flex flex-col justify-between rounded-lg shadow-md p-4 bg-gray-100 dark:bg-gray-700",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("img",{src:t.imageurl,alt:t.title,className:"w-16 h-16 rounded-full object-cover bg-white p-1"}),p.jsxs("div",{className:"flex flex-col justify-center items-start m-4 gap-3",children:[p.jsx("h3",{className:"text-xl font-bold dark:text-gray-100",children:t.title}),p.jsxs("div",{children:[t.tags===""?null:p.jsx("h6",{className:"text-sm text-gray-400 dark:text-gray-400",children:e("tags")+": "+t.tags.replaceAll("|",", ")+"."}),t.categories===""?null:p.jsx("h6",{className:"text-sm text-gray-400 dark:text-gray-400",children:e("Categories")+": "+t.categories.replaceAll("|",", ")+"."})]})]})]}),p.jsx("div",{className:"w-full bg-gray-3 bg-gray-300 dark:bg-gray-600 h-px mx-3"}),p.jsx("p",{className:"h-full text-gray-600 my-2 dark:text-gray-100",children:t.body}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-100",children:[p.jsx("img",{className:"w-6 h-6 mr-2 rounded-full",loading:"lazy",src:t.source_info.img,alt:t.source_info.name}),p.jsx("span",{children:t.source_info.name})]}),e("publishedAt")+": "+n(t.published_on)]})]})}function Moe({news:t}){const[n,r]=S.useState(1),[i,s]=S.useState([...t].slice(0,3));S.useEffect(()=>{o()<n&&r(1),a()},[t,n]);const o=()=>Math.ceil(t.length/3)||1;function a(){s([...t].slice((n-1)*3,n*3))}return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsx("div",{className:"flex flex-col gap-5",children:i.map(l=>p.jsx(Ooe,{news_object:l},l.id))}),p.jsx("div",{className:`${i.length===0?"":"hidden"} h-20`,children:p.jsx(Mc,{})}),p.jsx(Oc,{totalPageNumber:o,currentPage:n,setCurrentPage:r})]})}function Loe(){const{t}=qe(),[e,n]=$s(Xx);S.useEffect(()=>(document.title=t("news")+" | "+t("cryptoPulse"),()=>{document.title=t("cryptoPulse")}),[]);const r=i=>{const s=i.target.value.toLowerCase(),a=[...e.data].filter(l=>l.title.toLowerCase().includes(s)||l.body.toLowerCase().includes(s)||l.tags.toLowerCase().includes(s)||l.categories.toLowerCase().includes(s));n({...e,filterdData:a})};return p.jsxs("div",{className:"scrollable-content content",children:[p.jsxs("div",{className:"m-5 text-slate-950 dark:text-white",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-5",children:[p.jsx("h1",{className:"text-3xl font-bold",children:t("latestNews")}),p.jsxs("div",{className:"relative hidden md:block",children:[p.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center pl-2 pointer-events-none material-icons text-gray-500 dark:text-gray-400",children:"search"}),p.jsx("input",{type:"text",onChange:r,className:"pl-9 w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("search")+"..."})]})]}),p.jsxs("div",{className:"rounded-lg grid gap-4 border-gray-300 dark:border-gray-600",children:[e.updatedTime?p.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 dark:text-gray-400",children:[t("lastUpdated")," ",e.updatedTime]}):null,p.jsx(Moe,{news:e.filterdData})]})]}),p.jsx(Fa,{})]})}function Voe(){const{t}=qe();return p.jsxs("div",{className:"text-slate-950 dark:text-white content",children:[p.jsx(bF,{}),p.jsx("div",{className:"h-full w-full flex flex-col justify-center items-center ",children:p.jsxs("div",{className:"text-center absolute opacity-80",children:[p.jsx("h1",{className:"mb-5 text-6xl font-thin",children:t("welcomeTo")}),p.jsx("h1",{className:"mb-5 text-8xl font-bold",children:t("cryptoPulse")})]})}),p.jsx(Fa,{})]})}const Foe=t=>{const e=t.data,n=()=>p.jsxs("div",{className:"flex flex-col text-md font-semibold",children:[un(e.amount)+" "+e.symbol.toUpperCase(),p.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"$ "+un(e.amount*e.current_price)})]});function r(i){const s=i<0;i=s?i*-1:i;const o=s?"-":"+";return p.jsx("div",{className:`flex justify-end items-center font-semibold ${s?"text-red":"text-green"}`,children:p.jsx("div",{className:"ml-3",children:o+i.toFixed(3)+"%"})})}return p.jsxs("tr",{className:"border-b hover:bg-gray-200 dark:hover:bg-gray-900 font-semibold",children:[p.jsx("td",{className:"py-2 text-start",children:p.jsxs("div",{className:"flex justify-start h-full items-center",children:[p.jsx("img",{className:"w-6 h-6 mr-2",loading:"lazy",src:e.image,alt:e.name+" Logo"}),p.jsxs("div",{className:"flex flex-col justify-center items-start",children:[e.symbol.toUpperCase(),p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.name})]})]})}),p.jsx("td",{className:"py-2 text-end",children:n()}),p.jsx("td",{className:"py-2 md:table-cell hidden text-end",children:"$ "+un(e.current_price)}),p.jsx("td",{className:"py-2 md:table-cell hidden text-end",children:r(e.price_change_percentage_24h_in_currency)})]})},joe=t=>{const{t:e}=qe(),n=3,{currentUserData:r}=xi(),[i,s]=S.useState([...t.data]),[o,a]=S.useState([...t.data].slice(0,n)),[l,c]=S.useState({field:"",asc:null}),[u,d]=S.useState(1);S.useEffect(()=>{s([...t.data]),a([...t.data].slice(0,n))},[t.data]),S.useEffect(()=>{m()},[i,u]);const h=()=>Math.ceil(i.length/n)||1;function f(v){if(l.field===v){if(l.asc===!1){s([...t.data].sort((y,b)=>typeof y[v]=="number"?b[v]-y[v]:(""+b[v]).localeCompare(y[v]))),c({field:v,asc:!0});return}s([...t.data]),c({field:"",asc:null});return}s([...t.data].sort((y,b)=>typeof y[v]=="number"?y[v]-b[v]:(""+y[v]).localeCompare(b[v]))),c({field:v,asc:!1})}const g=(v,y)=>p.jsxs("div",{className:"flex justify-end items-center",children:[e(y),_(v)?p.jsx("i",{className:"material-icons",children:l.asc?"expand_less":"expand_more"}):null]});function m(){a([...i].slice((u-1)*n,u*n))}function _(v){return l.field===v}return p.jsxs("div",{className:"w-full",children:[p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"w-full",children:p.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b",children:[p.jsx("th",{className:"text-start",children:e("coin")}),p.jsx("th",{onClick:()=>f("amount"),className:"text-end ",children:g("amount","amount")}),p.jsx("th",{onClick:()=>f("current_price"),className:"md:table-cell hidden text-end",children:g("current_price","coinPrice")}),p.jsx("th",{onClick:()=>f("price_change_percentage_24h_in_currency"),className:"md:table-cell hidden text-end",children:g("price_change_percentage_24h_in_currency","today'sPnL")})]})}),p.jsx("tbody",{children:o.map(v=>p.jsx(Foe,{data:v,header:!1},v.id))})]}),r.wallet.length===0?p.jsx("div",{children:p.jsx("h1",{className:"text-2xl text-center mt-5",children:e("no-transactions")})}):o.length===0&&p.jsx("div",{className:"h-20",children:p.jsx(Mc,{})}),p.jsx(Oc,{totalPageNumber:h,currentPage:u,setCurrentPage:d})]})};function $oe(){const{t}=qe(),{currentUser:e,currentUserData:n}=xi(),r=Vh(lo),[i,s]=S.useState([]),[o,a]=S.useState([]),[l,c]=S.useState(!1),[u,d]=S.useState("BTC");S.useEffect(()=>(document.title=t("dashboard")+" | "+t("cryptoPulse"),()=>{document.title=t("cryptoPulse")}),[]),S.useEffect(()=>{if(!n||r.data.length===0)return;const m=n.wallet.map(_=>{const v=r.data.find(y=>y.id===_.id);return{..._,...v}});s(m)},[r.data]),S.useEffect(()=>{if(!n.email)return;const _=n.transactions.filter(v=>v.transactionType!=="trade").sort((v,y)=>Hr(v.timestamp)-Hr(y.timestamp)).map(v=>v.accountBalance);a(_)},[n]);function h(){navigator.clipboard.writeText(e.uid).then(()=>{const m=document.getElementById("tooltip");m.style.visibility="visible",setTimeout(()=>{m.style.visibility="hidden"},1500)}).catch(m=>{console.error("Error in copying text: ",m)})}function f(){let m=0;if(i.forEach(v=>{m+=parseFloat(v.amount)*v.current_price}),u.toLowerCase()==="usd")return un(m,10);const _=r.data.find(v=>v.symbol.toLowerCase()===u.toLowerCase());return _&&(m=m/_.current_price),un(m,10)}function g(){let m=0;return i.forEach(_=>{m+=parseFloat(_.amount)*_.current_price}),un(m,10)}return p.jsxs("div",{className:"scrollable-content content",children:[p.jsxs("div",{className:"m-2 md:m-5 text-slate-950 dark:text-white flex flex-col items-center gap-5 md:gap-10 ",children:[p.jsxs("div",{className:"flex divide-x gap-5 w-full md:w-[70%]",children:[p.jsxs("div",{className:"flex justify-center items-center",children:[p.jsx("i",{className:"material-icons",style:{fontSize:"100px"},children:"account_circle"}),p.jsx("h1",{className:"text-3xl font-bold ml-2",children:n.displayName})]}),p.jsxs("div",{className:"hidden md:flex justify-center items-center pl-5 gap-10",children:[p.jsxs("div",{className:"w-full",children:[p.jsx("h5",{className:"font-semibold text-gray-400",children:t("userID")}),p.jsxs("div",{className:"flex justify-center items-center gap-2",children:[n.uid,p.jsxs("div",{className:"relative inline-block",children:[p.jsx("button",{id:"copyButton",onClick:h,className:"material-icons text-sm text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-400",children:"content_copy"}),p.jsx("div",{id:"tooltip",className:"tooltip bg-gray-200 dark:bg-gray-600 font-medium text-sm",children:t("userIDcopied")})]})]})]}),p.jsxs("div",{className:"w-full",children:[p.jsx("h5",{className:"font-semibold text-gray-400",children:t("mail")}),p.jsx("p",{children:n.email})]}),p.jsxs("div",{className:"w-full",children:[p.jsx("h5",{className:"font-semibold text-gray-400",children:t("phone")}),p.jsx("p",{children:n.phone})]})]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-start md:border w-full md:w-[70%] dark:border-gray-500 md:rounded-lg p-2 md:p-5",children:[p.jsxs("div",{className:"flex flex-col w-full",children:[p.jsx("h2",{className:"mb-5 text-xl font-bold",children:t("estimatedBalance")}),p.jsxs("div",{className:"mb-5 flex items-end",children:[p.jsx("h2",{className:"text-3xl font-bold me-3",children:f()}),p.jsxs("div",{className:"relative inline-block",children:[p.jsxs("button",{onClick:()=>c(!l),className:"flex items-center",children:[u,p.jsx("i",{className:"material-icons text-sm text-gray-500 dark:text-gray-300",children:"expand_more"})]}),l&&p.jsxs("div",{className:"z-50 w-32 my-4 py-2 font-medium text-base list-none bg-white rounded-lg shadow dark:bg-gray-700 absolute origin-top left-0 mt-2",children:[p.jsx("button",{type:"button",onClick:()=>{d("BTC"),c(!1)},className:`p-2 flex justify-start items-center hover:bg-gray-100 dark:hover:bg-gray-600 ${u==="BTC"?"text-teal-500 dark:text-custom-teal":"text-black dark:text-white"}`,style:{width:"-webkit-fill-available"},children:"BTC"}),p.jsx("button",{type:"button",onClick:()=>{d("ETH"),c(!1)},className:`p-2 flex justify-start items-center hover:bg-gray-100 dark:hover:bg-gray-600 ${u==="ETH"?"text-custom-teal dark:text-custom-teal":"text-black dark:text-white"}`,style:{width:"-webkit-fill-available"},children:"ETH"}),p.jsx("button",{type:"button",onClick:()=>{d("USD"),c(!1)},className:`p-2 flex justify-start items-center hover:bg-gray-100 dark:hover:bg-gray-600 ${u==="USD"?"text-custom-teal dark:text-custom-teal":"text-black dark:text-white"}`,style:{width:"-webkit-fill-available"},children:"USD"})]})]})]}),p.jsx("h2",{className:"mb-5 text-md",children:" $"+g()})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("div",{className:"flex justify-between font-semibold mb-2 gap-3",children:[p.jsx("button",{onClick:()=>An("/home/dashboard/withdraw"),className:"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 w-full py-2 px-4 rounded-lg",children:t("withdraw")}),p.jsx("button",{onClick:()=>An("/home/dashboard/cashin"),className:"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 w-full py-2 px-4 rounded-lg",children:t("cashIn")})]}),p.jsx(vj,{data:o,width:400,height:100})]})]}),p.jsxs("div",{className:"flex flex-col justify-between items-start w-full md:w-[70%] md:border dark:border-gray-500 md:rounded-lg p-2 md:p-5 ",children:[p.jsx("h2",{className:"mb-5 text-xl font-bold",children:t("holding")}),p.jsx(joe,{data:i})]})]}),p.jsx(Fa,{})]})}function xa(t){"@babel/helpers - typeof";return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(t)}function Uoe(t,e){if(xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _j(t){var e=Uoe(t,"string");return xa(e)=="symbol"?e:e+""}function Fu(t,e,n){return e=_j(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){Fu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Boe(t){if(Array.isArray(t))return t}function zoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bj(t,e){if(t){if(typeof t=="string")return Iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iw(t,e)}}function Woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bi(t,e){return Boe(t)||zoe(t,e)||bj(t,e)||Woe()}function Hoe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ss(t,e){if(t==null)return{};var n=Hoe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var qoe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Koe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,c=t.onChange,u=t.onInputChange,d=t.onMenuClose,h=t.onMenuOpen,f=t.value,g=ss(t,qoe),m=S.useState(a!==void 0?a:n),_=Bi(m,2),v=_[0],y=_[1],b=S.useState(l!==void 0?l:i),w=Bi(b,2),x=w[0],I=w[1],T=S.useState(f!==void 0?f:o),E=Bi(T,2),A=E[0],D=E[1],V=S.useCallback(function(M,U){typeof c=="function"&&c(M,U),D(M)},[c]),H=S.useCallback(function(M,U){var F;typeof u=="function"&&(F=u(M,U)),y(F!==void 0?F:M)},[u]),X=S.useCallback(function(){typeof h=="function"&&h(),I(!0)},[h]),Y=S.useCallback(function(){typeof d=="function"&&d(),I(!1)},[d]),R=a!==void 0?a:v,C=l!==void 0?l:x,j=f!==void 0?f:A;return pe(pe({},g),{},{inputValue:R,menuIsOpen:C,onChange:V,onInputChange:H,onMenuClose:Y,onMenuOpen:X,value:j})}function me(){return me=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},me.apply(this,arguments)}function wj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_j(r.key),r)}}function xj(t,e,n){return e&&Wk(t.prototype,e),n&&Wk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tw(t,e){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tw(t,e)}function Goe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tw(t,e)}function fm(t){return fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fm(t)}function Sj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sj=function(){return!!t})()}function Qoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yoe(t,e){if(e&&(xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qoe(t)}function Xoe(t){var e=Sj();return function(){var r=fm(t),i;if(e){var s=fm(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Yoe(this,i)}}function Joe(t){if(Array.isArray(t))return Iw(t)}function Zoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fI(t){return Joe(t)||Zoe(t)||bj(t)||eae()}function tae(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function nae(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var rae=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(nae(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=tae(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),_n="-ms-",pm="-moz-",Fe="-webkit-",Ej="comm",pI="rule",gI="decl",iae="@import",Ij="@keyframes",sae="@layer",oae=Math.abs,fv=String.fromCharCode,aae=Object.assign;function lae(t,e){return an(t,0)^45?(((e<<2^an(t,0))<<2^an(t,1))<<2^an(t,2))<<2^an(t,3):0}function Tj(t){return t.trim()}function cae(t,e){return(t=e.exec(t))?t[0]:t}function je(t,e,n){return t.replace(e,n)}function Rw(t,e){return t.indexOf(e)}function an(t,e){return t.charCodeAt(e)|0}function yh(t,e,n){return t.slice(e,n)}function Yr(t){return t.length}function mI(t){return t.length}function dp(t,e){return e.push(t),t}function uae(t,e){return t.map(e).join("")}var pv=1,hc=1,Rj=0,er=0,Vt=0,Lc="";function gv(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:pv,column:hc,length:o,return:""}}function fu(t,e){return aae(gv("",null,null,"",null,null,0),t,{length:-t.length},e)}function dae(){return Vt}function hae(){return Vt=er>0?an(Lc,--er):0,hc--,Vt===10&&(hc=1,pv--),Vt}function ur(){return Vt=er<Rj?an(Lc,er++):0,hc++,Vt===10&&(hc=1,pv++),Vt}function gi(){return an(Lc,er)}function Zp(){return er}function mf(t,e){return yh(Lc,t,e)}function vh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Cj(t){return pv=hc=1,Rj=Yr(Lc=t),er=0,[]}function kj(t){return Lc="",t}function eg(t){return Tj(mf(er-1,Cw(t===91?t+2:t===40?t+1:t)))}function fae(t){for(;(Vt=gi())&&Vt<33;)ur();return vh(t)>2||vh(Vt)>3?"":" "}function pae(t,e){for(;--e&&ur()&&!(Vt<48||Vt>102||Vt>57&&Vt<65||Vt>70&&Vt<97););return mf(t,Zp()+(e<6&&gi()==32&&ur()==32))}function Cw(t){for(;ur();)switch(Vt){case t:return er;case 34:case 39:t!==34&&t!==39&&Cw(Vt);break;case 40:t===41&&Cw(t);break;case 92:ur();break}return er}function gae(t,e){for(;ur()&&t+Vt!==57;)if(t+Vt===84&&gi()===47)break;return"/*"+mf(e,er-1)+"*"+fv(t===47?t:ur())}function mae(t){for(;!vh(gi());)ur();return mf(t,er)}function yae(t){return kj(tg("",null,null,null,[""],t=Cj(t),0,[0],t))}function tg(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,f=0,g=0,m=1,_=1,v=1,y=0,b="",w=i,x=s,I=r,T=b;_;)switch(g=y,y=ur()){case 40:if(g!=108&&an(T,d-1)==58){Rw(T+=je(eg(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:T+=eg(y);break;case 9:case 10:case 13:case 32:T+=fae(g);break;case 92:T+=pae(Zp()-1,7);continue;case 47:switch(gi()){case 42:case 47:dp(vae(gae(ur(),Zp()),e,n),l);break;default:T+="/"}break;case 123*m:a[c++]=Yr(T)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:_=0;case 59+u:v==-1&&(T=je(T,/\f/g,"")),f>0&&Yr(T)-d&&dp(f>32?qk(T+";",r,n,d-1):qk(je(T," ","")+";",r,n,d-2),l);break;case 59:T+=";";default:if(dp(I=Hk(T,e,n,c,u,i,a,b,w=[],x=[],d),s),y===123)if(u===0)tg(T,e,I,I,w,s,d,a,x);else switch(h===99&&an(T,3)===110?100:h){case 100:case 108:case 109:case 115:tg(t,I,I,r&&dp(Hk(t,I,I,0,0,i,a,b,i,w=[],d),x),i,x,d,a,r?w:x);break;default:tg(T,I,I,I,[""],x,0,a,x)}}c=u=f=0,m=v=1,b=T="",d=o;break;case 58:d=1+Yr(T),f=g;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&hae()==125)continue}switch(T+=fv(y),y*m){case 38:v=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(Yr(T)-1)*v,v=1;break;case 64:gi()===45&&(T+=eg(ur())),h=gi(),u=d=Yr(b=T+=mae(Zp())),y++;break;case 45:g===45&&Yr(T)==2&&(m=0)}}return s}function Hk(t,e,n,r,i,s,o,a,l,c,u){for(var d=i-1,h=i===0?s:[""],f=mI(h),g=0,m=0,_=0;g<r;++g)for(var v=0,y=yh(t,d+1,d=oae(m=o[g])),b=t;v<f;++v)(b=Tj(m>0?h[v]+" "+y:je(y,/&\f/g,h[v])))&&(l[_++]=b);return gv(t,e,n,i===0?pI:a,l,c,u)}function vae(t,e,n){return gv(t,e,n,Ej,fv(dae()),yh(t,2,-2),0)}function qk(t,e,n,r){return gv(t,e,n,gI,yh(t,0,r),yh(t,r+1,-1),r)}function Ol(t,e){for(var n="",r=mI(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function _ae(t,e,n,r){switch(t.type){case sae:if(t.children.length)break;case iae:case gI:return t.return=t.return||t.value;case Ej:return"";case Ij:return t.return=t.value+"{"+Ol(t.children,r)+"}";case pI:t.value=t.props.join(",")}return Yr(n=Ol(t.children,r))?t.return=t.value+"{"+n+"}":""}function bae(t){var e=mI(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function wae(t){return function(e){e.root||(e=e.return)&&t(e)}}function xae(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Sae=function(e,n,r){for(var i=0,s=0;i=s,s=gi(),i===38&&s===12&&(n[r]=1),!vh(s);)ur();return mf(e,er)},Eae=function(e,n){var r=-1,i=44;do switch(vh(i)){case 0:i===38&&gi()===12&&(n[r]=1),e[r]+=Sae(er-1,n,r);break;case 2:e[r]+=eg(i);break;case 4:if(i===44){e[++r]=gi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=fv(i)}while(i=ur());return e},Iae=function(e,n){return kj(Eae(Cj(e),n))},Kk=new WeakMap,Tae=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Kk.get(r))&&!i){Kk.set(e,!0);for(var s=[],o=Iae(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},Rae=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Aj(t,e){switch(lae(t,e)){case 5103:return Fe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Fe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Fe+t+pm+t+_n+t+t;case 6828:case 4268:return Fe+t+_n+t+t;case 6165:return Fe+t+_n+"flex-"+t+t;case 5187:return Fe+t+je(t,/(\w+).+(:[^]+)/,Fe+"box-$1$2"+_n+"flex-$1$2")+t;case 5443:return Fe+t+_n+"flex-item-"+je(t,/flex-|-self/,"")+t;case 4675:return Fe+t+_n+"flex-line-pack"+je(t,/align-content|flex-|-self/,"")+t;case 5548:return Fe+t+_n+je(t,"shrink","negative")+t;case 5292:return Fe+t+_n+je(t,"basis","preferred-size")+t;case 6060:return Fe+"box-"+je(t,"-grow","")+Fe+t+_n+je(t,"grow","positive")+t;case 4554:return Fe+je(t,/([^-])(transform)/g,"$1"+Fe+"$2")+t;case 6187:return je(je(je(t,/(zoom-|grab)/,Fe+"$1"),/(image-set)/,Fe+"$1"),t,"")+t;case 5495:case 3959:return je(t,/(image-set\([^]*)/,Fe+"$1$`$1");case 4968:return je(je(t,/(.+:)(flex-)?(.*)/,Fe+"box-pack:$3"+_n+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Fe+t+t;case 4095:case 3583:case 4068:case 2532:return je(t,/(.+)-inline(.+)/,Fe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Yr(t)-1-e>6)switch(an(t,e+1)){case 109:if(an(t,e+4)!==45)break;case 102:return je(t,/(.+:)(.+)-([^]+)/,"$1"+Fe+"$2-$3$1"+pm+(an(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Rw(t,"stretch")?Aj(je(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(an(t,e+1)!==115)break;case 6444:switch(an(t,Yr(t)-3-(~Rw(t,"!important")&&10))){case 107:return je(t,":",":"+Fe)+t;case 101:return je(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Fe+(an(t,14)===45?"inline-":"")+"box$3$1"+Fe+"$2$3$1"+_n+"$2box$3")+t}break;case 5936:switch(an(t,e+11)){case 114:return Fe+t+_n+je(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Fe+t+_n+je(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Fe+t+_n+je(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Fe+t+_n+t+t}return t}var Cae=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case gI:e.return=Aj(e.value,e.length);break;case Ij:return Ol([fu(e,{value:je(e.value,"@","@"+Fe)})],i);case pI:if(e.length)return uae(e.props,function(s){switch(cae(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ol([fu(e,{props:[je(s,/:(read-\w+)/,":"+pm+"$1")]})],i);case"::placeholder":return Ol([fu(e,{props:[je(s,/:(plac\w+)/,":"+Fe+"input-$1")]}),fu(e,{props:[je(s,/:(plac\w+)/,":"+pm+"$1")]}),fu(e,{props:[je(s,/:(plac\w+)/,_n+"input-$1")]})],i)}return""})}},kae=[Cae],Aae=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var _=m.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||kae,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var _=m.getAttribute("data-emotion").split(" "),v=1;v<_.length;v++)s[_[v]]=!0;a.push(m)});var l,c=[Tae,Rae];{var u,d=[_ae,wae(function(m){u.insert(m)})],h=bae(c.concat(i,d)),f=function(_){return Ol(yae(_),h)};l=function(_,v,y,b){u=y,f(_?_+"{"+v.styles+"}":v.styles),b&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new rae({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},Pj={exports:{}},We={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rn=typeof Symbol=="function"&&Symbol.for,yI=rn?Symbol.for("react.element"):60103,vI=rn?Symbol.for("react.portal"):60106,mv=rn?Symbol.for("react.fragment"):60107,yv=rn?Symbol.for("react.strict_mode"):60108,vv=rn?Symbol.for("react.profiler"):60114,_v=rn?Symbol.for("react.provider"):60109,bv=rn?Symbol.for("react.context"):60110,_I=rn?Symbol.for("react.async_mode"):60111,wv=rn?Symbol.for("react.concurrent_mode"):60111,xv=rn?Symbol.for("react.forward_ref"):60112,Sv=rn?Symbol.for("react.suspense"):60113,Pae=rn?Symbol.for("react.suspense_list"):60120,Ev=rn?Symbol.for("react.memo"):60115,Iv=rn?Symbol.for("react.lazy"):60116,Nae=rn?Symbol.for("react.block"):60121,Dae=rn?Symbol.for("react.fundamental"):60117,Oae=rn?Symbol.for("react.responder"):60118,Mae=rn?Symbol.for("react.scope"):60119;function mr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case yI:switch(t=t.type,t){case _I:case wv:case mv:case vv:case yv:case Sv:return t;default:switch(t=t&&t.$$typeof,t){case bv:case xv:case Iv:case Ev:case _v:return t;default:return e}}case vI:return e}}}function Nj(t){return mr(t)===wv}We.AsyncMode=_I;We.ConcurrentMode=wv;We.ContextConsumer=bv;We.ContextProvider=_v;We.Element=yI;We.ForwardRef=xv;We.Fragment=mv;We.Lazy=Iv;We.Memo=Ev;We.Portal=vI;We.Profiler=vv;We.StrictMode=yv;We.Suspense=Sv;We.isAsyncMode=function(t){return Nj(t)||mr(t)===_I};We.isConcurrentMode=Nj;We.isContextConsumer=function(t){return mr(t)===bv};We.isContextProvider=function(t){return mr(t)===_v};We.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===yI};We.isForwardRef=function(t){return mr(t)===xv};We.isFragment=function(t){return mr(t)===mv};We.isLazy=function(t){return mr(t)===Iv};We.isMemo=function(t){return mr(t)===Ev};We.isPortal=function(t){return mr(t)===vI};We.isProfiler=function(t){return mr(t)===vv};We.isStrictMode=function(t){return mr(t)===yv};We.isSuspense=function(t){return mr(t)===Sv};We.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===mv||t===wv||t===vv||t===yv||t===Sv||t===Pae||typeof t=="object"&&t!==null&&(t.$$typeof===Iv||t.$$typeof===Ev||t.$$typeof===_v||t.$$typeof===bv||t.$$typeof===xv||t.$$typeof===Dae||t.$$typeof===Oae||t.$$typeof===Mae||t.$$typeof===Nae)};We.typeOf=mr;Pj.exports=We;var Lae=Pj.exports,Dj=Lae,Vae={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Fae={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Oj={};Oj[Dj.ForwardRef]=Vae;Oj[Dj.Memo]=Fae;var jae=!0;function $ae(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var Mj=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||jae===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Uae=function(e,n,r){Mj(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Bae(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var zae={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Wae=/[A-Z]|^ms/g,Hae=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Lj=function(e){return e.charCodeAt(1)===45},Gk=function(e){return e!=null&&typeof e!="boolean"},K_=xae(function(t){return Lj(t)?t:t.replace(Wae,"-$&").toLowerCase()}),Qk=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Hae,function(r,i,s){return Xr={name:i,styles:s,next:Xr},i})}return zae[e]!==1&&!Lj(e)&&typeof n=="number"&&n!==0?n+"px":n};function _h(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Xr={name:n.name,styles:n.styles,next:Xr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Xr={name:r.name,styles:r.styles,next:Xr},r=r.next;var i=n.styles+";";return i}return qae(t,e,n)}case"function":{if(t!==void 0){var s=Xr,o=n(t);return Xr=s,_h(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function qae(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=_h(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":Gk(o)&&(r+=K_(s)+":"+Qk(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)Gk(o[a])&&(r+=K_(s)+":"+Qk(s,o[a])+";");else{var l=_h(t,e,o);switch(s){case"animation":case"animationName":{r+=K_(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var Yk=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Xr,Vj=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Xr=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=_h(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=_h(r,n,e[a]),i&&(s+=o[a]);Yk.lastIndex=0;for(var l="",c;(c=Yk.exec(s))!==null;)l+="-"+c[1];var u=Bae(s)+l;return{name:u,styles:s,next:Xr}},Kae=function(e){return e()},Gae=a0.useInsertionEffect?a0.useInsertionEffect:!1,Qae=Gae||Kae,bI={}.hasOwnProperty,Fj=S.createContext(typeof HTMLElement<"u"?Aae({key:"css"}):null);Fj.Provider;var Yae=function(e){return S.forwardRef(function(n,r){var i=S.useContext(Fj);return e(n,i,r)})},Xae=S.createContext({}),kw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Jae=function(e,n){var r={};for(var i in n)bI.call(n,i)&&(r[i]=n[i]);return r[kw]=e,r},Zae=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Mj(n,r,i),Qae(function(){return Uae(n,r,i)}),null},ele=Yae(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[kw],s=[r],o="";typeof t.className=="string"?o=$ae(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=Vj(s,void 0,S.useContext(Xae));o+=e.key+"-"+a.name;var l={};for(var c in t)bI.call(t,c)&&c!=="css"&&c!==kw&&(l[c]=t[c]);return l.ref=n,l.className=o,S.createElement(S.Fragment,null,S.createElement(Zae,{cache:e,serialized:a,isStringTag:typeof i=="string"}),S.createElement(i,l))}),tle=ele,fe=function(e,n){var r=arguments;if(n==null||!bI.call(n,"css"))return S.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=tle,s[1]=Jae(e,n);for(var o=2;o<i;o++)s[o]=r[o];return S.createElement.apply(null,s)};function wI(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Vj(e)}var nle=function(){var e=wI.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function rle(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const ile=Math.min,sle=Math.max,gm=Math.round,hp=Math.floor,mm=t=>({x:t,y:t});function ole(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function jj(t){return Uj(t)?(t.nodeName||"").toLowerCase():"#document"}function $r(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $j(t){var e;return(e=(Uj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Uj(t){return t instanceof Node||t instanceof $r(t).Node}function Aw(t){return t instanceof Element||t instanceof $r(t).Element}function xI(t){return t instanceof HTMLElement||t instanceof $r(t).HTMLElement}function Xk(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $r(t).ShadowRoot}function Bj(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=SI(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function ale(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function lle(t){return["html","body","#document"].includes(jj(t))}function SI(t){return $r(t).getComputedStyle(t)}function cle(t){if(jj(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Xk(t)&&t.host||$j(t);return Xk(e)?e.host:e}function zj(t){const e=cle(t);return lle(e)?t.ownerDocument?t.ownerDocument.body:t.body:xI(e)&&Bj(e)?e:zj(e)}function ym(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=zj(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=$r(i);return s?e.concat(o,o.visualViewport||[],Bj(i)?i:[],o.frameElement&&n?ym(o.frameElement):[]):e.concat(i,ym(i,[],n))}function ule(t){const e=SI(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=xI(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=gm(n)!==s||gm(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function EI(t){return Aw(t)?t:t.contextElement}function G_(t){const e=EI(t);if(!xI(e))return mm(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=ule(e);let o=(s?gm(n.width):n.width)/r,a=(s?gm(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const dle=mm(0);function hle(t){const e=$r(t);return!ale()||!e.visualViewport?dle:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fle(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==$r(t)?!1:e}function Jk(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=EI(t);let o=mm(1);e&&(r?Aw(r)&&(o=G_(r)):o=G_(t));const a=fle(s,n,r)?hle(s):mm(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=$r(s),f=r&&Aw(r)?$r(r):r;let g=h,m=g.frameElement;for(;m&&r&&f!==g;){const _=G_(m),v=m.getBoundingClientRect(),y=SI(m),b=v.left+(m.clientLeft+parseFloat(y.paddingLeft))*_.x,w=v.top+(m.clientTop+parseFloat(y.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=b,c+=w,g=$r(m),m=g.frameElement}}return ole({width:u,height:d,x:l,y:c})}function ple(t,e){let n=null,r;const i=$j(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:h}=t.getBoundingClientRect();if(a||e(),!d||!h)return;const f=hp(u),g=hp(i.clientWidth-(c+d)),m=hp(i.clientHeight-(u+h)),_=hp(c),y={rootMargin:-f+"px "+-g+"px "+-m+"px "+-_+"px",threshold:sle(0,ile(1,l))||1};let b=!0;function w(x){const I=x[0].intersectionRatio;if(I!==l){if(!b)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},100)}b=!1}try{n=new IntersectionObserver(w,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,y)}n.observe(t)}return o(!0),s}function gle(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=EI(t),u=i||s?[...c?ym(c):[],...ym(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const d=c&&a?ple(c,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let g,m=l?Jk(t):null;l&&_();function _(){const v=Jk(t);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,g=requestAnimationFrame(_)}return n(),()=>{var v;u.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),d==null||d(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(g)}}var Pw=S.useLayoutEffect,mle=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],vm=function(){};function yle(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function vle(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(yle(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var Zk=function(e){return Rle(e)?e.filter(Boolean):xa(e)==="object"&&e!==null?[e]:[]},Wj=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=ss(e,mle);return pe({},n)},Et=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function Tv(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function _le(t){return Tv(t)?window.innerHeight:t.clientHeight}function Hj(t){return Tv(t)?window.pageYOffset:t.scrollTop}function _m(t,e){if(Tv(t)){window.scrollTo(0,e);return}t.scrollTop=e}function ble(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function wle(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function fp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:vm,i=Hj(t),s=e-i,o=10,a=0;function l(){a+=o;var c=wle(a,i,s,n);_m(t,c),a<n?window.requestAnimationFrame(l):r(t)}l()}function eA(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?_m(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&_m(t,Math.max(e.offsetTop-i,0))}function xle(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function tA(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Sle(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var qj=!1,Ele={get passive(){return qj=!0}},pp=typeof window<"u"?window:{};pp.addEventListener&&pp.removeEventListener&&(pp.addEventListener("p",vm,Ele),pp.removeEventListener("p",vm,!1));var Ile=qj;function Tle(t){return t!=null}function Rle(t){return Array.isArray(t)}function gp(t,e,n){return t?e:n}var Cle=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=Bi(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=Bi(a,2),c=l[0],u=l[1];return o[c]=u,o},{})},kle=["children","innerProps"],Ale=["children","innerProps"];function Ple(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=ble(n),c={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return c;var u=l.getBoundingClientRect(),d=u.height,h=n.getBoundingClientRect(),f=h.bottom,g=h.height,m=h.top,_=n.offsetParent.getBoundingClientRect(),v=_.top,y=o?window.innerHeight:_le(l),b=Hj(l),w=parseInt(getComputedStyle(n).marginBottom,10),x=parseInt(getComputedStyle(n).marginTop,10),I=v-x,T=y-m,E=I+b,A=d-b-m,D=f-y+b+w,V=b+m-x,H=160;switch(i){case"auto":case"bottom":if(T>=g)return{placement:"bottom",maxHeight:e};if(A>=g&&!o)return s&&fp(l,D,H),{placement:"bottom",maxHeight:e};if(!o&&A>=r||o&&T>=r){s&&fp(l,D,H);var X=o?T-w:A-w;return{placement:"bottom",maxHeight:X}}if(i==="auto"||o){var Y=e,R=o?I:E;return R>=r&&(Y=Math.min(R-w-a,e)),{placement:"top",maxHeight:Y}}if(i==="bottom")return s&&_m(l,D),{placement:"bottom",maxHeight:e};break;case"top":if(I>=g)return{placement:"top",maxHeight:e};if(E>=g&&!o)return s&&fp(l,V,H),{placement:"top",maxHeight:e};if(!o&&E>=r||o&&I>=r){var C=e;return(!o&&E>=r||o&&I>=r)&&(C=o?I-x:E-x),s&&fp(l,V,H),{placement:"top",maxHeight:C}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function Nle(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var Kj=function(e){return e==="auto"?"bottom":e},Dle=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return pe((r={label:"menu"},Fu(r,Nle(i),"100%"),Fu(r,"position","absolute"),Fu(r,"width","100%"),Fu(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},Gj=S.createContext(null),Ole=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,c=S.useContext(Gj)||{},u=c.setPortalPlacement,d=S.useRef(null),h=S.useState(i),f=Bi(h,2),g=f[0],m=f[1],_=S.useState(null),v=Bi(_,2),y=v[0],b=v[1],w=l.spacing.controlHeight;return Pw(function(){var x=d.current;if(x){var I=o==="fixed",T=a&&!I,E=Ple({maxHeight:i,menuEl:x,minHeight:r,placement:s,shouldScroll:T,isFixedPosition:I,controlHeight:w});m(E.maxHeight),b(E.placement),u==null||u(E.placement)}},[i,s,o,a,r,u,w]),n({ref:d,placerProps:pe(pe({},e),{},{placement:y||Kj(s),maxHeight:g})})},Mle=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return fe("div",me({},Et(e,"menu",{menu:!0}),{ref:r},i),n)},Lle=Mle,Vle=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return pe({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},Fle=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return fe("div",me({},Et(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},Qj=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return pe({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},jle=Qj,$le=Qj,Ule=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=ss(e,kle);return fe("div",me({},Et(pe(pe({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},Ble=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=ss(e,Ale);return fe("div",me({},Et(pe(pe({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},zle=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},Wle=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=S.useRef(null),c=S.useRef(null),u=S.useState(Kj(o)),d=Bi(u,2),h=d[0],f=d[1],g=S.useMemo(function(){return{setPortalPlacement:f}},[]),m=S.useState(null),_=Bi(m,2),v=_[0],y=_[1],b=S.useCallback(function(){if(i){var T=xle(i),E=a==="fixed"?0:window.pageYOffset,A=T[h]+E;(A!==(v==null?void 0:v.offset)||T.left!==(v==null?void 0:v.rect.left)||T.width!==(v==null?void 0:v.rect.width))&&y({offset:A,rect:T})}},[i,a,h,v==null?void 0:v.offset,v==null?void 0:v.rect.left,v==null?void 0:v.rect.width]);Pw(function(){b()},[b]);var w=S.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=gle(i,l.current,b,{elementResize:"ResizeObserver"in window}))},[i,b]);Pw(function(){w()},[w]);var x=S.useCallback(function(T){l.current=T,w()},[w]);if(!n&&a!=="fixed"||!v)return null;var I=fe("div",me({ref:x},Et(pe(pe({},e),{},{offset:v.offset,position:a,rect:v.rect}),"menuPortal",{"menu-portal":!0}),s),r);return fe(Gj.Provider,{value:g},n?Nx.createPortal(I,n):I)},Hle=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},qle=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return fe("div",me({},Et(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},Kle=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return pe({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},Gle=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return fe("div",me({},Et(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},Qle=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Yle=function(e){var n=e.children,r=e.innerProps;return fe("div",me({},Et(e,"indicatorsContainer",{indicators:!0}),r),n)},nA,Xle=["size"],Jle=["innerProps","isRtl","size"],Zle={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Yj=function(e){var n=e.size,r=ss(e,Xle);return fe("svg",me({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Zle},r))},II=function(e){return fe(Yj,me({size:20},e),fe("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Xj=function(e){return fe(Yj,me({size:20},e),fe("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Jj=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return pe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},ece=Jj,tce=function(e){var n=e.children,r=e.innerProps;return fe("div",me({},Et(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||fe(Xj,null))},nce=Jj,rce=function(e){var n=e.children,r=e.innerProps;return fe("div",me({},Et(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||fe(II,null))},ice=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return pe({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},sce=function(e){var n=e.innerProps;return fe("span",me({},n,Et(e,"indicatorSeparator",{"indicator-separator":!0})))},oce=nle(nA||(nA=rle([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),ace=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return pe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},Q_=function(e){var n=e.delay,r=e.offset;return fe("span",{css:wI({animation:"".concat(oce," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},lce=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,o=ss(e,Jle);return fe("div",me({},Et(pe(pe({},o),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),fe(Q_,{delay:0,offset:r}),fe(Q_,{delay:160,offset:!0}),fe(Q_,{delay:320,offset:!r}))},cce=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return pe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},uce=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return fe("div",me({ref:s},Et(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o,{"aria-disabled":r||void 0}),n)},dce=uce,hce=["data"],fce=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},pce=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,c=e.label,u=e.theme,d=e.selectProps;return fe("div",me({},Et(e,"group",{group:!0}),l),fe(o,me({},a,{selectProps:d,theme:u,getStyles:i,getClassNames:s,cx:r}),c),fe("div",null,n))},gce=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return pe({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},mce=function(e){var n=Wj(e);n.data;var r=ss(n,hce);return fe("div",me({},Et(e,"groupHeading",{"group-heading":!0}),r))},yce=pce,vce=["innerRef","isDisabled","isHidden","inputClassName"],_ce=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return pe(pe({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},bce),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},Zj={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},bce={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":pe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Zj)},wce=function(e){return pe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Zj)},xce=function(e){var n=e.cx,r=e.value,i=Wj(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,c=ss(i,vce);return fe("div",me({},Et(e,"input",{"input-container":!0}),{"data-value":r||""}),fe("input",me({className:n({input:!0},l),ref:s,style:wce(a),disabled:o},c)))},Sce=xce,Ece=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return pe({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},Ice=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return pe({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Tce=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return pe({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},e$=function(e){var n=e.children,r=e.innerProps;return fe("div",r,n)},Rce=e$,Cce=e$;function kce(t){var e=t.children,n=t.innerProps;return fe("div",me({role:"button"},n),e||fe(II,{size:14}))}var Ace=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,c=r.Container,u=r.Label,d=r.Remove;return fe(c,{data:i,innerProps:pe(pe({},Et(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},fe(u,{data:i,innerProps:pe({},Et(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),fe(d,{data:i,innerProps:pe(pe({},Et(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},Pce=Ace,Nce=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return pe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},Dce=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return fe("div",me({},Et(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},Oce=Dce,Mce=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return pe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Lce=function(e){var n=e.children,r=e.innerProps;return fe("div",me({},Et(e,"placeholder",{placeholder:!0}),r),n)},Vce=Lce,Fce=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return pe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},jce=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return fe("div",me({},Et(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},$ce=jce,Uce={ClearIndicator:rce,Control:dce,DropdownIndicator:tce,DownChevron:Xj,CrossIcon:II,Group:yce,GroupHeading:mce,IndicatorsContainer:Yle,IndicatorSeparator:sce,Input:Sce,LoadingIndicator:lce,Menu:Lle,MenuList:Fle,MenuPortal:Wle,LoadingMessage:Ble,NoOptionsMessage:Ule,MultiValue:Pce,MultiValueContainer:Rce,MultiValueLabel:Cce,MultiValueRemove:kce,Option:Oce,Placeholder:Vce,SelectContainer:qle,SingleValue:$ce,ValueContainer:Gle},Bce=function(e){return pe(pe({},Uce),e.components)},rA=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function zce(t,e){return!!(t===e||rA(t)&&rA(e))}function Wce(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!zce(t[n],e[n]))return!1;return!0}function Hce(t,e){e===void 0&&(e=Wce);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var qce={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Kce=function(e){return fe("span",me({css:qce},e))},iA=Kce,Gce={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,c=e.isSelected,u=e.isAppleDevice,d=function(m,_){return m&&m.length?"".concat(m.indexOf(_)+1," of ").concat(m.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(d(a,r),".");if(n==="menu"&&u){var h=l?" disabled":"",f="".concat(c?" selected":"").concat(h);return"".concat(o).concat(f,", ").concat(d(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},Qce=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,c=e.id,u=e.isAppleDevice,d=l.ariaLiveMessages,h=l.getOptionLabel,f=l.inputValue,g=l.isMulti,m=l.isOptionDisabled,_=l.isSearchable,v=l.menuIsOpen,y=l.options,b=l.screenReaderStatus,w=l.tabSelectsValue,x=l.isLoading,I=l["aria-label"],T=l["aria-live"],E=S.useMemo(function(){return pe(pe({},Gce),d||{})},[d]),A=S.useMemo(function(){var R="";if(n&&E.onChange){var C=n.option,j=n.options,M=n.removedValue,U=n.removedValues,F=n.value,ie=function(_e){return Array.isArray(_e)?null:_e},k=M||C||ie(F),$=k?h(k):"",B=j||U||void 0,le=B?B.map(h):[],Q=pe({isDisabled:k&&m(k,a),label:$,labels:le},n);R=E.onChange(Q)}return R},[n,E,m,a,h]),D=S.useMemo(function(){var R="",C=r||i,j=!!(r&&a&&a.includes(r));if(C&&E.onFocus){var M={focused:C,label:h(C),isDisabled:m(C,a),isSelected:j,options:s,context:C===r?"menu":"value",selectValue:a,isAppleDevice:u};R=E.onFocus(M)}return R},[r,i,h,m,E,s,a,u]),V=S.useMemo(function(){var R="";if(v&&y.length&&!x&&E.onFilter){var C=b({count:s.length});R=E.onFilter({inputValue:f,resultsMessage:C})}return R},[s,f,v,E,y,b,x]),H=(n==null?void 0:n.action)==="initial-input-focus",X=S.useMemo(function(){var R="";if(E.guidance){var C=i?"value":v?"menu":"input";R=E.guidance({"aria-label":I,context:C,isDisabled:r&&m(r,a),isMulti:g,isSearchable:_,tabSelectsValue:w,isInitialFocus:H})}return R},[I,r,i,g,m,_,v,E,a,w,H]),Y=fe(S.Fragment,null,fe("span",{id:"aria-selection"},A),fe("span",{id:"aria-focused"},D),fe("span",{id:"aria-results"},V),fe("span",{id:"aria-guidance"},X));return fe(S.Fragment,null,fe(iA,{id:c},H&&Y),fe(iA,{"aria-live":T,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!H&&Y))},Yce=Qce,Nw=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Xce=new RegExp("["+Nw.map(function(t){return t.letters}).join("")+"]","g"),t$={};for(var Y_=0;Y_<Nw.length;Y_++)for(var X_=Nw[Y_],J_=0;J_<X_.letters.length;J_++)t$[X_.letters[J_]]=X_.base;var n$=function(e){return e.replace(Xce,function(n){return t$[n]})},Jce=Hce(n$),sA=function(e){return e.replace(/^\s+|\s+$/g,"")},Zce=function(e){return"".concat(e.label," ").concat(e.value)},eue=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=pe({ignoreCase:!0,ignoreAccents:!0,stringify:Zce,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,c=i.matchFrom,u=l?sA(r):r,d=l?sA(a(n)):a(n);return s&&(u=u.toLowerCase(),d=d.toLowerCase()),o&&(u=Jce(u),d=n$(d)),c==="start"?d.substr(0,u.length)===u:d.indexOf(u)>-1}},tue=["innerRef"];function nue(t){var e=t.innerRef,n=ss(t,tue),r=Cle(n,"onExited","in","enter","exit","appear");return fe("input",me({ref:e},r,{css:wI({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var rue=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function iue(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=S.useRef(!1),a=S.useRef(!1),l=S.useRef(0),c=S.useRef(null),u=S.useCallback(function(_,v){if(c.current!==null){var y=c.current,b=y.scrollTop,w=y.scrollHeight,x=y.clientHeight,I=c.current,T=v>0,E=w-x-b,A=!1;E>v&&o.current&&(r&&r(_),o.current=!1),T&&a.current&&(s&&s(_),a.current=!1),T&&v>E?(n&&!o.current&&n(_),I.scrollTop=w,A=!0,o.current=!0):!T&&-v>b&&(i&&!a.current&&i(_),I.scrollTop=0,A=!0,a.current=!0),A&&rue(_)}},[n,r,i,s]),d=S.useCallback(function(_){u(_,_.deltaY)},[u]),h=S.useCallback(function(_){l.current=_.changedTouches[0].clientY},[]),f=S.useCallback(function(_){var v=l.current-_.changedTouches[0].clientY;u(_,v)},[u]),g=S.useCallback(function(_){if(_){var v=Ile?{passive:!1}:!1;_.addEventListener("wheel",d,v),_.addEventListener("touchstart",h,v),_.addEventListener("touchmove",f,v)}},[f,h,d]),m=S.useCallback(function(_){_&&(_.removeEventListener("wheel",d,!1),_.removeEventListener("touchstart",h,!1),_.removeEventListener("touchmove",f,!1))},[f,h,d]);return S.useEffect(function(){if(e){var _=c.current;return g(_),function(){m(_)}}},[e,g,m]),function(_){c.current=_}}var oA=["boxSizing","height","overflow","paddingRight","position"],aA={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function lA(t){t.preventDefault()}function cA(t){t.stopPropagation()}function uA(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function dA(){return"ontouchstart"in window||navigator.maxTouchPoints}var hA=!!(typeof window<"u"&&window.document&&window.document.createElement),pu=0,Ya={capture:!1,passive:!1};function sue(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=S.useRef({}),s=S.useRef(null),o=S.useCallback(function(l){if(hA){var c=document.body,u=c&&c.style;if(r&&oA.forEach(function(g){var m=u&&u[g];i.current[g]=m}),r&&pu<1){var d=parseInt(i.current.paddingRight,10)||0,h=document.body?document.body.clientWidth:0,f=window.innerWidth-h+d||0;Object.keys(aA).forEach(function(g){var m=aA[g];u&&(u[g]=m)}),u&&(u.paddingRight="".concat(f,"px"))}c&&dA()&&(c.addEventListener("touchmove",lA,Ya),l&&(l.addEventListener("touchstart",uA,Ya),l.addEventListener("touchmove",cA,Ya))),pu+=1}},[r]),a=S.useCallback(function(l){if(hA){var c=document.body,u=c&&c.style;pu=Math.max(pu-1,0),r&&pu<1&&oA.forEach(function(d){var h=i.current[d];u&&(u[d]=h)}),c&&dA()&&(c.removeEventListener("touchmove",lA,Ya),l&&(l.removeEventListener("touchstart",uA,Ya),l.removeEventListener("touchmove",cA,Ya)))}},[r]);return S.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var oue=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},aue={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function lue(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,c=iue({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),u=sue({isEnabled:n}),d=function(f){c(f),u(f)};return fe(S.Fragment,null,n&&fe("div",{onClick:oue,css:aue}),e(d))}var cue={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},uue=function(e){var n=e.name,r=e.onFocus;return fe("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:cue,value:"",onChange:function(){}})},due=uue;function TI(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function hue(){return TI(/^iPhone/i)}function r$(){return TI(/^Mac/i)}function fue(){return TI(/^iPad/i)||r$()&&navigator.maxTouchPoints>1}function pue(){return hue()||fue()}function gue(){return r$()||pue()}var mue=function(e){return e.label},yue=function(e){return e.label},vue=function(e){return e.value},_ue=function(e){return!!e.isDisabled},bue={clearIndicator:nce,container:Hle,control:cce,dropdownIndicator:ece,group:fce,groupHeading:gce,indicatorsContainer:Qle,indicatorSeparator:ice,input:_ce,loadingIndicator:ace,loadingMessage:$le,menu:Dle,menuList:Vle,menuPortal:zle,multiValue:Ece,multiValueLabel:Ice,multiValueRemove:Tce,noOptionsMessage:jle,option:Nce,placeholder:Mce,singleValue:Fce,valueContainer:Kle},wue={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},xue=4,i$=4,Sue=38,Eue=i$*2,Iue={baseUnit:i$,controlHeight:Sue,menuGutter:Eue},Z_={borderRadius:xue,colors:wue,spacing:Iue},Tue={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:tA(),captureMenuScroll:!tA(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:eue(),formatGroupLabel:mue,getOptionLabel:yue,getOptionValue:vue,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:_ue,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Sle(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function fA(t,e,n,r){var i=a$(t,e,n),s=l$(t,e,n),o=o$(t,e),a=bm(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function ng(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return fA(t,o,e,a)}).filter(function(o){return gA(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=fA(t,n,e,r);return gA(t,s)?s:void 0}).filter(Tle)}function s$(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,fI(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function pA(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,fI(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function Rue(t,e){return s$(ng(t,e))}function gA(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!u$(t)||!s)&&c$(t,{label:o,value:a,data:i},r)}function Cue(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function kue(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var e0=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},o$=function(e,n){return e.getOptionLabel(n)},bm=function(e,n){return e.getOptionValue(n)};function a$(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function l$(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=bm(t,e);return n.some(function(i){return bm(t,i)===r})}function c$(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var u$=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},Aue=1,d$=function(t){Goe(n,t);var e=Xoe(n);function n(r){var i;if(wj(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=gue(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,c){var u=i.props,d=u.onChange,h=u.name;c.name=h,i.ariaOnChange(l,c),d(l,c)},i.setValue=function(l,c,u){var d=i.props,h=d.closeMenuOnSelect,f=d.isMulti,g=d.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:g}),h&&(i.setState({inputIsHiddenAfterUpdate:!f}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:c,option:u})},i.selectOption=function(l){var c=i.props,u=c.blurInputOnSelect,d=c.isMulti,h=c.name,f=i.state.selectValue,g=d&&i.isOptionSelected(l,f),m=i.isOptionDisabled(l,f);if(g){var _=i.getOptionValue(l);i.setValue(f.filter(function(v){return i.getOptionValue(v)!==_}),"deselect-option",l)}else if(!m)d?i.setValue([].concat(fI(f),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:h});return}u&&i.blurInput()},i.removeValue=function(l){var c=i.props.isMulti,u=i.state.selectValue,d=i.getOptionValue(l),h=u.filter(function(g){return i.getOptionValue(g)!==d}),f=gp(c,h,h[0]||null);i.onChange(f,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(gp(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,c=i.state.selectValue,u=c[c.length-1],d=c.slice(0,c.length-1),h=gp(l,d,d[0]||null);i.onChange(h,{action:"pop-value",removedValue:u})},i.getFocusedOptionId=function(l){return e0(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return pA(ng(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return vle.apply(void 0,[i.props.classNamePrefix].concat(c))},i.getOptionLabel=function(l){return o$(i.props,l)},i.getOptionValue=function(l){return bm(i.props,l)},i.getStyles=function(l,c){var u=i.props.unstyled,d=bue[l](c,u);d.boxSizing="border-box";var h=i.props.styles[l];return h?h(d,c):d},i.getClassNames=function(l,c){var u,d;return(u=(d=i.props.classNames)[l])===null||u===void 0?void 0:u.call(d,c)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return Bce(i.props)},i.buildCategorizedOptions=function(){return ng(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return s$(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,c){i.setState({ariaSelection:pe({value:l},c)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var c=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():c&&i.openMenu("first"):(c&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var c=i.props,u=c.isMulti,d=c.menuIsOpen;i.focusInput(),d?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Tv(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var c=l.touches,u=c&&c.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var c=l.touches,u=c&&c.item(0);if(u){var d=Math.abs(u.clientX-i.initialTouchX),h=Math.abs(u.clientY-i.initialTouchY),f=5;i.userIsDragging=d>f||h>f}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var c=i.props.inputValue,u=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:c}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var c=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:c}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var c=i.getFocusableOptions(),u=c.indexOf(l);i.setState({focusedOption:l,focusedOptionId:u>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return u$(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var c=i.props,u=c.isMulti,d=c.backspaceRemovesValue,h=c.escapeClearsValue,f=c.inputValue,g=c.isClearable,m=c.isDisabled,_=c.menuIsOpen,v=c.onKeyDown,y=c.tabSelectsValue,b=c.openMenuOnFocus,w=i.state,x=w.focusedOption,I=w.focusedValue,T=w.selectValue;if(!m&&!(typeof v=="function"&&(v(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!u||f)return;i.focusValue("previous");break;case"ArrowRight":if(!u||f)return;i.focusValue("next");break;case"Delete":case"Backspace":if(f)return;if(I)i.removeValue(I);else{if(!d)return;u?i.popValue():g&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!_||!y||!x||b&&i.isOptionSelected(x,T))return;i.selectOption(x);break;case"Enter":if(l.keyCode===229)break;if(_){if(!x||i.isComposing)return;i.selectOption(x);break}return;case"Escape":_?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:f}),i.onMenuClose()):g&&h&&i.clearValue();break;case" ":if(f)return;if(!_){i.openMenu("first");break}if(!x)return;i.selectOption(x);break;case"ArrowUp":_?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":_?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!_)return;i.focusOption("pageup");break;case"PageDown":if(!_)return;i.focusOption("pagedown");break;case"Home":if(!_)return;i.focusOption("first");break;case"End":if(!_)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++Aue),i.state.selectValue=Zk(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),a=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=o[a],i.state.focusedOptionId=e0(s,o[a])}return i}return xj(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&eA(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(eA(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,c=this.buildFocusableOptions(),u=i==="first"?0:c.length-1;if(!this.props.isMulti){var d=c.indexOf(a[0]);d>-1&&(u=d)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[u],focusedOptionId:this.getFocusedOptionId(c[u])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var c=o.length-1,u=-1;if(o.length){switch(i){case"previous":l===0?u=0:l===-1?u=c:u=l-1;break;case"next":l>-1&&l<c&&(u=l+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:o[u]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,c=a.indexOf(o);o||(c=-1),i==="up"?l=c>0?c-1:a.length-1:i==="down"?l=(c+1)%a.length:i==="pageup"?(l=c-s,l<0&&(l=0)):i==="pagedown"?(l=c+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Z_):pe(pe({},Z_),this.props.theme):Z_}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,c=this.selectOption,u=this.setValue,d=this.props,h=d.isMulti,f=d.isRtl,g=d.options,m=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:m,isMulti:h,isRtl:f,options:g,selectOption:c,selectProps:d,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return a$(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return l$(this.props,i,s)}},{key:"filterOption",value:function(i,s){return c$(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,c=i.tabIndex,u=i.form,d=i.menuIsOpen,h=i.required,f=this.getComponents(),g=f.Input,m=this.state,_=m.inputIsHidden,v=m.ariaSelection,y=this.commonProps,b=a||this.getElementId("input"),w=pe(pe(pe({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":h,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},d&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(v==null?void 0:v.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?S.createElement(g,me({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:b,innerRef:this.getInputRef,isDisabled:s,isHidden:_,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:u,type:"text",value:l},w)):S.createElement(nue,me({id:b,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:vm,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:u,value:""},w))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,c=s.MultiValueRemove,u=s.SingleValue,d=s.Placeholder,h=this.commonProps,f=this.props,g=f.controlShouldRenderValue,m=f.isDisabled,_=f.isMulti,v=f.inputValue,y=f.placeholder,b=this.state,w=b.selectValue,x=b.focusedValue,I=b.isFocused;if(!this.hasValue()||!g)return v?null:S.createElement(d,me({},h,{key:"placeholder",isDisabled:m,isFocused:I,innerProps:{id:this.getElementId("placeholder")}}),y);if(_)return w.map(function(E,A){var D=E===x,V="".concat(i.getOptionLabel(E),"-").concat(i.getOptionValue(E));return S.createElement(o,me({},h,{components:{Container:a,Label:l,Remove:c},isFocused:D,isDisabled:m,key:V,index:A,removeProps:{onClick:function(){return i.removeValue(E)},onTouchEnd:function(){return i.removeValue(E)},onMouseDown:function(X){X.preventDefault()}},data:E}),i.formatOptionLabel(E,"value"))});if(v)return null;var T=w[0];return S.createElement(u,me({},h,{data:T,isDisabled:m}),this.formatOptionLabel(T,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,u=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||c)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return S.createElement(s,me({},o,{innerProps:d,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,u=this.state.isFocused;if(!s||!c)return null;var d={"aria-hidden":"true"};return S.createElement(s,me({},o,{innerProps:d,isDisabled:l,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return S.createElement(o,me({},a,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return S.createElement(s,me({},o,{innerProps:c,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,c=s.MenuList,u=s.MenuPortal,d=s.LoadingMessage,h=s.NoOptionsMessage,f=s.Option,g=this.commonProps,m=this.state.focusedOption,_=this.props,v=_.captureMenuScroll,y=_.inputValue,b=_.isLoading,w=_.loadingMessage,x=_.minMenuHeight,I=_.maxMenuHeight,T=_.menuIsOpen,E=_.menuPlacement,A=_.menuPosition,D=_.menuPortalTarget,V=_.menuShouldBlockScroll,H=_.menuShouldScrollIntoView,X=_.noOptionsMessage,Y=_.onMenuScrollToTop,R=_.onMenuScrollToBottom;if(!T)return null;var C=function($,B){var le=$.type,Q=$.data,ge=$.isDisabled,_e=$.isSelected,de=$.label,Ge=$.value,_t=m===Q,Ve=ge?void 0:function(){return i.onOptionHover(Q)},Ze=ge?void 0:function(){return i.selectOption(Q)},jn="".concat(i.getElementId("option"),"-").concat(B),Si={id:jn,onClick:Ze,onMouseMove:Ve,onMouseOver:Ve,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:_e};return S.createElement(f,me({},g,{innerProps:Si,data:Q,isDisabled:ge,isSelected:_e,key:jn,label:de,type:le,value:Ge,isFocused:_t,innerRef:_t?i.getFocusedOptionRef:void 0}),i.formatOptionLabel($.data,"menu"))},j;if(this.hasOptions())j=this.getCategorizedOptions().map(function(k){if(k.type==="group"){var $=k.data,B=k.options,le=k.index,Q="".concat(i.getElementId("group"),"-").concat(le),ge="".concat(Q,"-heading");return S.createElement(o,me({},g,{key:Q,data:$,options:B,Heading:a,headingProps:{id:ge,data:k.data},label:i.formatGroupLabel(k.data)}),k.options.map(function(_e){return C(_e,"".concat(le,"-").concat(_e.index))}))}else if(k.type==="option")return C(k,"".concat(k.index))});else if(b){var M=w({inputValue:y});if(M===null)return null;j=S.createElement(d,g,M)}else{var U=X({inputValue:y});if(U===null)return null;j=S.createElement(h,g,U)}var F={minMenuHeight:x,maxMenuHeight:I,menuPlacement:E,menuPosition:A,menuShouldScrollIntoView:H},ie=S.createElement(Ole,me({},g,F),function(k){var $=k.ref,B=k.placerProps,le=B.placement,Q=B.maxHeight;return S.createElement(l,me({},g,F,{innerRef:$,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:b,placement:le}),S.createElement(lue,{captureEnabled:v,onTopArrive:Y,onBottomArrive:R,lockEnabled:V},function(ge){return S.createElement(c,me({},g,{innerRef:function(de){i.getMenuListRef(de),ge(de)},innerProps:{role:"listbox","aria-multiselectable":g.isMulti,id:i.getElementId("listbox")},isLoading:b,maxHeight:Q,focusedOption:m}),j)}))});return D||A==="fixed"?S.createElement(u,me({},g,{appendTo:D,controlElement:this.controlRef,menuPlacement:E,menuPosition:A}),ie):ie}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,c=s.name,u=s.required,d=this.state.selectValue;if(u&&!this.hasValue()&&!a)return S.createElement(due,{name:c,onFocus:this.onValueInputFocus});if(!(!c||a))if(l)if(o){var h=d.map(function(m){return i.getOptionValue(m)}).join(o);return S.createElement("input",{name:c,type:"hidden",value:h})}else{var f=d.length>0?d.map(function(m,_){return S.createElement("input",{key:"i-".concat(_),name:c,type:"hidden",value:i.getOptionValue(m)})}):S.createElement("input",{name:c,type:"hidden",value:""});return S.createElement("div",null,f)}else{var g=d[0]?this.getOptionValue(d[0]):"";return S.createElement("input",{name:c,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,c=s.isFocused,u=s.selectValue,d=this.getFocusableOptions();return S.createElement(Yce,me({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:c,selectValue:u,focusableOptions:d,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,c=this.props,u=c.className,d=c.id,h=c.isDisabled,f=c.menuIsOpen,g=this.state.isFocused,m=this.commonProps=this.getCommonProps();return S.createElement(a,me({},m,{className:u,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:h,isFocused:g}),this.renderLiveRegion(),S.createElement(s,me({},m,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:h,isFocused:g,menuIsOpen:f}),S.createElement(l,me({},m,{isDisabled:h}),this.renderPlaceholderOrValue(),this.renderInput()),S.createElement(o,me({},m,{isDisabled:h}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,u=s.isFocused,d=s.prevWasFocused,h=s.instancePrefix,f=i.options,g=i.value,m=i.menuIsOpen,_=i.inputValue,v=i.isMulti,y=Zk(g),b={};if(o&&(g!==o.value||f!==o.options||m!==o.menuIsOpen||_!==o.inputValue)){var w=m?Rue(i,y):[],x=m?pA(ng(i,y),"".concat(h,"-option")):[],I=a?Cue(s,y):null,T=kue(s,w),E=e0(x,T);b={selectValue:y,focusedOption:T,focusedOptionId:E,focusableOptionsWithIds:x,focusedValue:I,clearFocusValueOnUpdate:!1}}var A=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},D=c,V=u&&d;return u&&!V&&(D={value:gp(v,y,y[0]||null),options:y,action:"initial-input-focus"},V=!d),(c==null?void 0:c.action)==="initial-input-focus"&&(D=null),pe(pe(pe({},b),A),{},{prevProps:i,ariaSelection:D,prevWasFocused:V})}}]),n}(S.Component);d$.defaultProps=Tue;var Pue=S.forwardRef(function(t,e){var n=Koe(t);return S.createElement(d$,me({ref:e},n))}),wm=Pue;const Nue=({handleCreditCardData:t,hiddenBackground:e,disabledFields:n,cardDetails:r})=>{const[i,s]=S.useState(""),[o,a]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState(""),{t:h}=qe(),f=_=>{let b=_.target.value.replace(/[^\d\s]/g,"").replace(/[^0-9]+/g,"").replace(/(.{4})/g,"$1 ").trim();s(b)};S.useEffect(()=>{r&&(s(r.cardNumber),a(r.cardName),c(r.expDate),d(r.ccv))},[r]),S.useEffect(()=>{g()},[i,o,l,u]);function g(){t({cardNumber:i,cardName:o,expDate:l,ccv:u})}const m=_=>{let v=_.target.value.replace(/[^0-9]+/g,"");v.length===1&&parseInt(v)>1&&(v="0"+v),v.length===2&&parseInt(v)>12&&(v=v.substring(0,1),console.log("value",v)),v.length>2&&(v=v.substring(0,2)+"/"+v.substring(2)),v.length===3&&_.target.value.length===2&&(v=v.substring(0,2)),c(v)};return p.jsxs("div",{className:"flex w-full flex-col justify-center items-center relative",children:[p.jsx("h1",{className:`title text-black dark:text-white ${e&&"hidden"}`,children:h("creditCardTitle")}),p.jsxs("div",{className:"card-wrapper",children:[p.jsxs("div",{className:`circles ${e&&"hidden"}`,children:[p.jsx("div",{className:"circle circle-1"}),p.jsx("div",{className:"circle circle-2"})]}),p.jsx("div",{className:"card",children:p.jsxs("form",{children:[p.jsxs("div",{className:"logo text-gray-900 dark:text-white",children:[p.jsx("i",{className:"material-icons -m-0.5",children:"circle"}),p.jsx("i",{className:"material-icons -m-0.5",children:"circle"}),p.jsx("i",{className:"material-icons -m-0.5",children:"circle"}),p.jsx("i",{className:"material-icons -m-0.5",children:"circle"})]}),p.jsxs("div",{className:"card-number",children:[p.jsx("label",{className:"label text-black dark:text-white",children:h("cardNumber")}),p.jsx("input",{id:"card-number",className:"text-black dark:text-white placeholder-black dark:placeholder-gray-300",value:i,onChange:f,placeholder:"1234 1234 1234 1234",type:"text",maxLength:"19",disabled:n,required:!0}),p.jsx("span",{className:`${!n&&"card-underline"} bg-gray-600 dark:bg-white `})]}),p.jsx("br",{}),p.jsxs("div",{className:"group whitespace-nowrap",children:[p.jsxs("div",{className:"card-name",children:[p.jsx("label",{className:"label text-black dark:text-white",children:h("cardHolder")}),p.jsx("input",{id:"card-name",className:"text-black dark:text-white placeholder-black dark:placeholder-gray-300",value:o,onChange:_=>a(_.target.value.toUpperCase()),placeholder:"Safa Khier",type:"text",disabled:n,required:!0}),p.jsx("span",{className:`${!n&&"card-underline"} bg-gray-600 dark:bg-white `})]}),p.jsxs("div",{className:"expiration-date",children:[p.jsx("label",{className:"label text-black dark:text-white",children:h("expDate")}),p.jsx("input",{id:"card-exp",className:"text-black dark:text-white placeholder-black dark:placeholder-gray-300",value:l,onChange:m,placeholder:"10/25",type:"text",maxLength:"5",disabled:n,required:!0}),p.jsx("span",{className:`${!n&&"card-underline"} bg-gray-600 dark:bg-white `})]}),p.jsxs("div",{className:"ccv",children:[p.jsx("label",{className:"label text-black dark:text-white",children:h("cvv")}),p.jsx("input",{id:"card-ccv",className:"text-black dark:text-white placeholder-black dark:placeholder-gray-300",value:u,onChange:_=>d(_.target.value.replace(/[^0-9]+/g,"")),placeholder:"123",type:"text",maxLength:"3",disabled:n,required:!0}),p.jsx("span",{className:`${!n&&"card-underline"} bg-gray-600 dark:bg-white `})]})]})]})})]})]})},Due=({currencies:t,currentUser:e,currentUserData:n,fetchUserData:r,alert:i})=>{const{t:s}=qe(),[o,a]=S.useState(!1),[l,c]=S.useState(""),[u,d]=S.useState(),[h,f]=S.useState({cardNumber:"",cardName:"",expDate:"",ccv:""}),g=E=>{f(E)};function m(){if(!u){i({title:"error",message:"errorSelectCurrency"});return}if(!l){i({title:"error",message:"errorEnterAmount"});return}if(h.cardNumber.length!==19)return i({title:"error",message:"errorInvalidCardNumber"}),!1;if(h.cardName==="")return i({title:"error",message:"errorInvalidCardName"}),!1;const E=new Date,A=E.getMonth()+1,D=E.getFullYear().toString().slice(2,4),V=h.expDate.split("/");return h.expDate.length!==5||parseInt(V[1])<D||parseInt(V[0])<=A&&parseInt(V[1])==parseInt(D)?(i({title:"error",message:"errorInvalidExpDate"}),!1):h.ccv.length!==3?(i({title:"error",message:"errorInvalidCCV"}),!1):!0}async function _(){if(!m())return;a(!0);const E=l.replace(/[^0-9.]/g,""),A=(parseFloat(E)||0)/u.current_price;let D=u.current_price*A;n.wallet.forEach(V=>{const H=t.find(X=>X.id===V.id).current_price;D+=V.amount*H});try{await Xee(n,u,parseFloat(A),parseFloat(E),h,D),r(e),i({title:"success",message:"successBuyCrypto"})}catch(V){console.log(V),i({title:"error",message:"errorSomethingWentWrong"})}finally{a(!1),c(""),d(null),f({cardNumber:"",cardName:"",expDate:"",ccv:""})}}const v=E=>{let V=E.target.value.replace(/[^\d\s]/g,"").replace(/[^0-9]+/g,"").replace(/(.{4})/g,"$1 ").trim();f({...h,cardNumber:V})},y=E=>{let A=E.target.value.replace(/[^0-9]+/g,"");A.length===1&&parseInt(A)>1&&(A="0"+A),A.length===2&&parseInt(A)>12&&(A=A.substring(0,1)),A.length>2&&(A=A.substring(0,2)+"/"+A.substring(2)),A.length===3&&E.target.value.length===2&&(A=A.substring(0,2)),f({...h,expDate:A})},b=({innerProps:E,isFocused:A,isSelected:D,data:V})=>p.jsxs("div",{...E,className:`text-sm flex justify-between items-center p-2 ${A&&"bg-gray-300 dark:bg-gray-600"} ${D&&"font-bold text-custom-teal"}`,children:[p.jsxs("div",{className:"flex justify-start h-full items-center",children:[p.jsx("img",{className:"w-6 h-6 mr-2",loading:"lazy",src:V.image,alt:V.label+" Logo"}),p.jsxs("div",{className:"flex flex-col justify-center items-start",children:[V.symbol.toUpperCase(),p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:V.label})]})]}),D&&p.jsx("i",{className:"material-icons",children:"done"})]}),w=({data:E})=>p.jsxs("div",{className:"flex items-center",children:[p.jsx("img",{src:E.image,style:{width:20,height:20,marginRight:8}})," "+x()+" "+E.symbol.toUpperCase()]}),x=()=>{if(!u)return 0;const E=l.replace(/[^0-9.]/g,"");let A=(parseFloat(E)||0)/u.current_price;return un(A)},I=E=>{if(E.target.value==="$"){c("");return}const A=E.target.value.replace(/[^0-9.]/g,"");if(A===""){c("");return}if(parseFloat(A)>2e4)return;const D=parseFloat(A).toLocaleString("en-US");c("$"+(D||0))};function T(){return p.jsxs("div",{className:"",children:[p.jsx("label",{className:"font-bold",children:s("cardNumber")}),p.jsx("input",{type:"text",value:h.cardNumber,className:"react-input w-full rounded focus:ring-transparent text-lg",onChange:v,placeholder:"1234 1234 1234 1234",maxLength:"19"}),p.jsx("label",{className:"font-bold",children:s("cardHolder")}),p.jsx("input",{type:"text",value:h.cardName,className:"react-input w-full rounded focus:ring-transparent text-lg",placeholder:"Safa Khier",onChange:E=>f({...h,cardName:E.target.value.toUpperCase()})}),p.jsxs("div",{className:"flex gap-5 w-full",children:[p.jsxs("div",{className:"w-full",children:[p.jsx("label",{className:"font-bold",children:s("expDate")}),p.jsx("input",{type:"text",value:h.expDate,className:"react-input w-full rounded focus:ring-transparent text-lg",onChange:y,placeholder:"10/25",maxLength:"5"})]}),p.jsxs("div",{className:"w-full",children:[p.jsx("label",{className:"font-bold",children:s("cvv")}),p.jsx("input",{type:"text",value:h.ccv,onChange:E=>f({...h,ccv:E.target.value.replace(/[^0-9]+/g,"")}),className:"react-input w-full rounded focus:ring-transparent text-lg",maxLength:"3",placeholder:"123"})]})]})]})}return p.jsxs("div",{className:"grid xl:grid-cols-2 h-full w-full xl:p-10 xl:border rounded-xl dark:border-gray-600",children:[p.jsxs("div",{className:"w-full max-h-full md:p-5 flex flex-col justify-between items-start text-xl",children:[p.jsxs("div",{className:"text-lg w-full h-full flex flex-col gap-10",children:[p.jsxs("div",{className:"flex flex-col w-full",children:[p.jsx("label",{className:"font-bold mb-1",children:s("spend")}),p.jsx("input",{type:"text",value:l,className:"react-input w-full rounded focus:ring-transparent text-lg",onChange:I,placeholder:"$0 - $20,000"})]}),p.jsxs("div",{className:"flex flex-col w-full",children:[p.jsx("label",{className:"font-bold",children:s("receive")}),p.jsx(wm,{value:u,className:"react-select-container w-full",classNamePrefix:"react-select",placeholder:s("search")+"...",isOptionSelected:E=>u?E.id===u.id:!1,onChange:E=>d(E),components:{Option:b,SingleValue:w},options:t,isLoading:!t})]})]}),p.jsx("button",{onClick:_,disabled:o,className:`hidden xl:flex justify-center items-center w-full font-bold bg-custom-teal ${!o&&"hover:bg-teal-500"} h-14 rounded`,children:o?p.jsxs("div",{className:"loading-container",children:[p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"})]}):s("buy")})]}),p.jsx("div",{className:"p-14 hidden md:flex",children:p.jsx(Nue,{handleCreditCardData:g,hiddenBackground:!1,disabledFields:!1,cardDetails:h})}),p.jsxs("div",{className:"flex flex-col md:hidden mt-10",children:[p.jsx("label",{className:"font-bold text-xl mb-5",children:s("creditCardDetails")}),T()]}),p.jsx("button",{onClick:_,disabled:o,className:`flex justify-center items-center xl:hidden w-full font-bold bg-custom-teal ${!o&&"hover:bg-teal-500"} mt-10 h-11 rounded`,children:o?p.jsxs("div",{className:"loading-container",children:[p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"})]}):s("buy")})]})},Oue=({currencies:t,currentUserData:e,fetchUserData:n,currentUser:r,alert:i})=>{const{t:s}=qe(),[o,a]=S.useState([]),[l,c]=S.useState(""),[u,d]=S.useState(),[h,f]=S.useState(),[g,m]=S.useState(!1);S.useEffect(()=>{if(!e.wallet||t.length===0)return;const E=e.wallet.map(A=>{const D=t.find(V=>V.id===A.id);return{amount:A.amount,...D}});console.log(E),a(E)},[e.wallet,t]);const _=()=>!u||!h||!l?(i({title:"error",message:"errorFillAllFields"}),!1):!0;async function v(){if(_())try{m(!0),await Jee(e,u,h,parseFloat(l.replace(/[^0-9.]/g,"")),parseFloat(x())),n(r),i({title:"success",message:"successTradeCrypto"})}catch(E){console.log(E),i({title:"error",message:"errorSomethingWentWrong"})}finally{m(!1),c(""),d(null),f(null)}}const y=({innerProps:E,isFocused:A,isSelected:D,data:V})=>{const H=!D&&(h&&V.id===h.id||u&&V.id===u.id);return p.jsxs("div",{...E,className:`text-sm flex justify-between items-center p-2 
        ${A&&"bg-gray-300 dark:bg-gray-600"} 
        ${D&&"font-bold text-custom-teal"} 
        ${H&&"text-gray-500 dark:text-gray-400 opacity-50"}`,children:[p.jsxs("div",{className:"flex justify-start h-full items-center",children:[p.jsx("img",{className:"w-6 h-6 mr-2",loading:"lazy",src:V.image,alt:V.name+" Logo"}),p.jsxs("div",{className:"flex flex-col justify-center items-start",children:[V.symbol.toUpperCase(),p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:V.name})]})]}),D?p.jsx("i",{className:"material-icons",children:"done"}):H&&p.jsx("i",{className:"material-icons",children:"block"})]})},b=({data:E})=>p.jsxs("div",{className:"flex items-center",children:[p.jsx("img",{src:E.image,style:{width:20,height:20,marginRight:8}})," "+x()+" "+E.symbol.toUpperCase()]}),w=({data:E})=>p.jsxs("div",{className:"flex items-center",children:[p.jsx("img",{src:E.image,style:{width:20,height:20,marginRight:8}}),E.symbol.toUpperCase(),p.jsx("div",{className:"pl-2 text-gray-500 dark:text-gray-400",children:" ("+E.name+")"})]}),x=()=>{if(!h||!u)return 0;let A=(u.current_price*parseFloat(l.replace(/[^0-9.]/g,""))||0)/h.current_price;return un(A)},I=E=>{var X;let A=E.target.value;A==="."&&(A="0."),A=A.replace(/[^0-9.]/g,"");const D=A.split(".");if(D.length>2&&(A=D[0]+"."+D.slice(1).join("")),A===""||A==="."){c(A);return}if(!u)return"";const V=((X=e.wallet.find(Y=>u.id===Y.id))==null?void 0:X.amount)||0;parseFloat(A)>V||c(A)},T=()=>u?"(Up To  "+e.wallet.find(A=>u.id===A.id).amount+")":"";return p.jsxs("div",{className:"flex flex-col lg:flex-row h-full w-full md:p-10 md:border rounded-xl dark:border-gray-600 text-lg",children:[p.jsx("div",{className:"w-full max-h-full md:p-5 flex flex-col  justify-between items-start text-xl",children:p.jsxs("div",{className:" w-full h-full flex flex-col md:gap-10",children:[p.jsxs("div",{className:"flex flex-col w-full",children:[p.jsx("label",{className:"font-bold",children:s("spend")}),p.jsx(wm,{value:u,className:"react-select-container w-full py-5",classNamePrefix:"react-select",placeholder:s("search")+"...",onChange:d,isOptionDisabled:E=>h?E.id===h.id:!1,isOptionSelected:E=>u?E.id===u.id:!1,components:{Option:y,SingleValue:w},options:o,isClearable:!0,isLoading:t&&t.length===0||t===null})]}),p.jsxs("div",{className:"flex flex-col w-full",children:[p.jsx("label",{className:"font-bold mb-1",children:s("amount")}),p.jsx("input",{type:"text",value:l,className:"react-input w-full rounded focus:ring-transparent text-lg",onChange:I,placeholder:s(u?"selectAmount":"selectCurrencyFirst"),disabled:!u}),p.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-300",children:u?`select amount...${T()}`:""})]})]})}),p.jsx("div",{children:p.jsx("i",{className:"material-icons w-full text-9xl text-custom-teal p-10 h-full flex justify-center items-center",children:"currency_exchange"})}),p.jsxs("div",{className:"w-full md:p-5 flex flex-col justify-between items-center",children:[p.jsxs("div",{className:"flex flex-col w-full",children:[p.jsx("label",{className:"font-bold mb-1",children:s("receive")}),p.jsx(wm,{value:h,className:"react-select-container w-full py-5",classNamePrefix:"react-select",placeholder:s("search")+"...",isOptionDisabled:E=>u?E.id===u.id:!1,isOptionSelected:E=>h?E.id===h.id:!1,onChange:E=>f(E),components:{Option:y,SingleValue:b},options:t,isLoading:t&&t.length===0||t===null})]}),p.jsx("button",{onClick:v,disabled:g,className:`flex justify-center items-center w-full font-bold bg-custom-teal ${!g&&"hover:bg-teal-500"} h-11 rounded`,children:g?p.jsxs("div",{className:"loading-container",children:[p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"})]}):p.jsx("div",{children:s("trade")})})]})]})};function Mue(){const{t}=qe(),{currentUser:e,currentUserData:n,fetchUserData:r}=xi(),[i,s]=S.useState(!1),o=()=>s(!0),a=()=>s(!1),[l,c]=S.useState({title:"",message:"",messageType:"",action:null}),[u,d]=S.useState("buy"),[h,f]=S.useState(),g=Vh(lo),[m,_]=S.useState({width:0,transform:"translateX(0px)"}),v=S.useRef([]),[y,b]=S.useState(window.innerWidth);S.useEffect(()=>{if(v.current[u]){const{offsetLeft:E,clientWidth:A}=v.current[u];_({width:A,transform:`translateX(${E}px)`})}},[u,v,y]),S.useEffect(()=>{f(g.data.map(E=>({id:E.id,label:E.name,image:E.image,symbol:E.symbol,...E})))},[g.data]),S.useEffect(()=>{document.title=t("cashIn")+" | "+t("cryptoPulse");const E=()=>{b(window.innerWidth)};return window.addEventListener("resize",E),()=>{document.title=t("cryptoPulse"),window.removeEventListener("resize",E)}},[]);const w=({title:E,message:A,messageType:D,action:V})=>{c({title:E,message:A,messageType:D,action:V}),o()},x=()=>{switch(u){case"buy":return p.jsx(Due,{currencies:h,currentUser:e,currentUserData:n,fetchUserData:r,alert:w});case"trade":return p.jsx(Oue,{currencies:h,currentUser:e,currentUserData:n,fetchUserData:r,alert:w});default:return null}},I=E=>{switch(E){case"buy":return"shopping_cart";case"trade":return"compare_arrows";default:return""}},T=E=>p.jsx("div",{className:`flex flex-col justify-start items-center text-xl font-semibold ${u===E&&"text-custom-teal"}`,children:p.jsxs("button",{ref:A=>v.current[E]=A,className:"flex justify-center items-center gap-2 p-1 hover:text-gray-500 dark:hover:text-gray-300",onClick:()=>d(E),children:[p.jsx("i",{className:"material-icons",children:I(E)}),t(E)]})});return p.jsxs("div",{className:"scrollable-content content w-full",children:[p.jsxs("div",{className:"p-5 text-slate-950 dark:text-white flex flex-col items-center justify-start",children:[p.jsxs("div",{className:"w-full xl:w-[80%] flex flex-col justify-center items-start border-b md:p-0",children:[p.jsxs("div",{className:"flex justify-between md:justify-start w-full gap-5 relative",children:[T("buy"),T("trade")]}),p.jsx("div",{className:"w-full border-2 rounded border-custom-teal",style:{...m,transition:"width 0.3s ease, transform 0.3s ease"}})]}),p.jsx("div",{className:"pt-5 md:p-5 h-full w-full xl:w-[80%]",children:x()})]}),p.jsx(La,{title:l.title,message:l.message,isVisible:i,onClose:a,messageType:l.messageType,action:l.action}),p.jsx(Fa,{})]})}function Lue(){const{t}=qe(),{currentUser:e,currentUserData:n,fetchUserData:r}=xi(),[i,s]=S.useState(),[o,a]=S.useState([]),l=Vh(lo),[c,u]=S.useState(""),[d,h]=S.useState({accountNumber:"",branchNumber:"",bankNumber:""}),[f,g]=S.useState(!1),[m,_]=S.useState(!1),v=()=>_(!0),y=()=>_(!1),[b,w]=S.useState({title:"",message:"",messageType:"",action:()=>{}});S.useEffect(()=>(document.title=t("withdraw")+" | "+t("cryptoPulse"),()=>{document.title=t("cryptoPulse")}),[]),S.useEffect(()=>{if(!n||l.data.length===0)return;const R=n.wallet.map(C=>{const j=l.data.find(M=>M.id===C.id);return{...j,...C,label:j.name}});a(R)},[l.data]);const x=({innerProps:R,isFocused:C,isSelected:j,data:M})=>p.jsxs("div",{...R,className:`text-sm flex justify-between items-center p-2 ${C&&"bg-gray-300 dark:bg-gray-600"} ${j&&"font-bold text-custom-teal"}`,children:[p.jsxs("div",{className:"flex justify-start h-full items-center",children:[p.jsx("img",{className:"w-6 h-6 mr-2",loading:"lazy",src:M.image,alt:M.label+" Logo"}),p.jsxs("div",{className:"flex flex-col justify-center items-start",children:[M.symbol.toUpperCase(),p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:M.label})]})]}),j&&p.jsx("i",{className:"material-icons",children:"done"})]}),I=({data:R})=>p.jsxs("div",{className:"flex items-center",children:[p.jsx("img",{src:R.image,style:{width:20,height:20,marginRight:8}}),R.symbol.toUpperCase()+" ("+R.label+")"]}),T=R=>{let C=R.target.value;C==="."&&(C="0."),C=C.replace(/[^0-9.]/g,"");const j=C.split(".");if(j.length>2&&(C=j[0]+"."+j.slice(1).join("")),C===""||C==="."){u(C);return}if(!i)return"";const M=E();parseFloat(C)>M||u(C)},E=()=>{var C;return i&&((C=n.wallet.find(j=>i.id===j.id))==null?void 0:C.amount)||0},A=()=>{if(!i)return"Select a currency to withdraw First...";const R=E();return`(${t("max")}: ${R} ${i.symbol.toUpperCase()})`},D=()=>i?`${t("enterAmount")} (${t("forExample")} ${E().toFixed(10)} ${i.symbol.toUpperCase()})`:t("selectCurrencyFirst"),V=R=>{let C=R.target.value;C=C.replace(/[^0-9]/g,""),C.length>=7&&(C=C.slice(0,6)+"/"+C.slice(6)),h({...d,accountNumber:C})},H=()=>i?c?!d.accountNumber||d.accountNumber.length<9?(X("error","errorEnterYourAccountNumber"),!1):!d.branchNumber||d.branchNumber.length<3?(X("error","errorEnterYourBranchNumber"),!1):!d.bankNumber||d.bankNumber.length<2?(X("error","errorEnterYourBankNumber"),!1):!0:(X("error","errorEnterAmountToWithdraw"),!1):(X("error","errorSelectCurrencyToWithdraw"),!1),X=(R,C,j,M)=>{w({title:R,message:C,messageType:j,action:M}),v()},Y=async()=>{if(H())try{g(!0);let R=0;if(!i)return;n.wallet.forEach(C=>{const j=o.find(M=>M.id===C.id).current_price;R+=C.amount*j}),R-=i.current_price*c,await Zee(n,i,parseFloat(c),d,R),r(e),X("success","successWithdrawnSuccessfully")}catch(R){console.error("Error: ",R),X("error","errorOccurredWhileWithdrawingYourFunds")}finally{g(!1),s(null),u(""),h({accountNumber:"",branchNumber:"",bankNumber:""})}};return p.jsxs("div",{className:"scrollable-content content items-center text-black dark:text-white",children:[p.jsxs("div",{className:"flex flex-col w-full lg:w-[70%] justify-center lg:border rounded-lg lg:m-10 p-5",children:[p.jsx("h1",{className:"mb-5 text-3xl font-bold w-full",children:t("withdraw")}),p.jsxs("div",{className:"flex flex-col lg:flex-row justify-center items-center gap-5",children:[p.jsxs("div",{className:"flex flex-col w-full gap-10",children:[p.jsxs("div",{className:"flex flex-col w-full",children:[p.jsx("label",{className:"font-bold mb-1",children:t("currency")}),p.jsx(wm,{className:"react-select-container w-full",classNamePrefix:"react-select",placeholder:t("search")+"...",isOptionSelected:R=>i?R.id===i.id:!1,onChange:s,components:{Option:x,SingleValue:I},options:o,value:i,isClearable:!0,isLoading:o.length===0})]}),p.jsxs("div",{className:"flex flex-col w-full",children:[p.jsxs("div",{className:"flex justify-start items-center gap-2",children:[p.jsx("label",{className:"font-bold mb-1",children:t("amount")}),p.jsx("p",{className:"text-sm text-gray-400",children:i&&A()})]}),p.jsx("input",{type:"text",value:c,onChange:T,className:"react-input w-full rounded focus:ring-transparent text-lg",placeholder:D(),disabled:!i})]})]}),p.jsxs("div",{className:"flex flex-col w-full h-full justify-between",children:[p.jsxs("div",{className:"flex flex-col w-full",children:[p.jsx("label",{className:"font-bold mb-1",children:t("accountNumber")}),p.jsx("input",{type:"text",value:d.accountNumber,onChange:V,className:"react-input w-full rounded focus:ring-transparent text-lg",placeholder:"123456/12",maxLength:"9"})]}),p.jsxs("div",{className:"flex gap-5",children:[p.jsxs("div",{className:"flex flex-col w-full",children:[p.jsx("label",{className:"font-bold mb-1",children:t("branchNumber")}),p.jsx("input",{type:"text",value:d.branchNumber,onChange:R=>{const C=R.target.value.replace(/[^0-9]/g,"");h({...d,branchNumber:C})},className:"react-input w-full rounded focus:ring-transparent text-lg",placeholder:"123",maxLength:"3"})]}),p.jsxs("div",{className:"flex flex-col w-full",children:[p.jsx("label",{className:"font-bold mb-1",children:t("bankNumber")}),p.jsx("input",{type:"text",value:d.bankNumber,onChange:R=>{const C=R.target.value.replace(/[^0-9]/g,"");h({...d,bankNumber:C})},className:"react-input w-full rounded focus:ring-transparent text-lg",placeholder:"10",maxLength:"2"})]})]})]})]}),p.jsx("button",{onClick:Y,disabled:f,className:`flex justify-center items-center w-full font-bold bg-custom-teal ${!f&&"hover:bg-teal-500"} h-11 rounded mt-10`,children:f?p.jsxs("div",{className:"loading-container",children:[p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"})]}):t("withdraw")})]}),p.jsx(La,{title:b.title,message:b.message,isVisible:m,onClose:y,messageType:b.messageType,action:b.action}),p.jsx(Fa,{})]})}const Vue=t=>{const e=t.data;function n(i){let s=i.getDate(),o=i.getMonth()+1,a=i.getFullYear(),l=i.getHours(),c=i.getMinutes();return s=s<10?"0"+s:s,o=o<10?"0"+o:o,l=l<10?"0"+l:l,c=c<10?"0"+c:c,`${s}/${o}/${a}, ${l}:${c}`}const r=()=>p.jsxs("div",{className:"flex flex-col justify-center items-end",children:[p.jsx("div",{children:un(e.amount)+" "+e.symbol.toUpperCase()}),p.jsx("div",{className:"font-semibold text-sm text-gray-500 dark:text-gray-400",children:"$"+un(e.price)})]});return p.jsxs("tr",{className:"border-b hover:bg-gray-200 dark:hover:bg-gray-900 font-bold",children:[p.jsx("td",{className:"py-2",children:p.jsxs("div",{className:"flex justify-start h-full items-center",children:[p.jsx("img",{className:"w-6 h-6 mr-2",loading:"lazy",src:e.image,alt:e.name+" Logo"}),p.jsxs("div",{className:"flex flex-col justify-center items-start",children:[e.symbol.toUpperCase(),p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.name})]})]})}),p.jsx("td",{className:"py-2 text-end",children:r()}),p.jsx("td",{className:"py-2 md:table-cell hidden text-end",children:e.creditCardDetails.cardNumber}),p.jsx("td",{className:"py-2 text-end",children:n(Hr(e.timestamp))})]})};function Fue({transactions:t,currencies:e}){const{t:n}=qe(),r=7,[i,s]=S.useState([]),[o,a]=S.useState([]),[l,c]=S.useState({field:"",asc:null}),[u,d]=S.useState(1);S.useEffect(()=>{h()},[t,e]);function h(){if(!t||!e)return;const y=t.filter(b=>b.transactionType==="buy").map(b=>{const w=e.find(x=>x.id===b.currencyId);return w?{...b,name:w.name,image:w.image,symbol:w.symbol}:null}).filter(b=>b!==null);y.sort((b,w)=>Hr(w.timestamp)-Hr(b.timestamp)),s(y),v()}S.useEffect(()=>{Math.ceil(o.length/r)<u&&d(1),v()},[i]);const f=()=>Math.ceil(i.length/r)||1;S.useEffect(()=>{v()},[u]);function g(y){if(l.field===y){if(l.asc===!1){a(o.sort((b,w)=>typeof b[y]=="number"?w[y]-b[y]:(""+w[y]).localeCompare(b[y]))),c({field:y,asc:!0});return}v(),c({field:"",asc:null});return}a(o.sort((b,w)=>typeof b[y]=="number"?b[y]-w[y]:(""+b[y]).localeCompare(w[y]))),c({field:y,asc:!1})}const m=(y,b)=>p.jsxs("div",{className:`flex py-2 ${b==="coin"||b==="spent coin"||b==="type"?"justify-start":"justify-end"} items-center`,children:[n(b),_(y)?p.jsx("i",{className:"material-icons",children:l.asc?"expand_less":"expand_more"}):null]});function _(y){return l.field===y}function v(){a(i.slice((u-1)*r,u*r))}return p.jsxs("div",{children:[p.jsxs("table",{className:"w-full h-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b",children:[p.jsx("th",{onClick:()=>g("name"),className:"cursor-pointer bg-white dark:bg-gray-800 ",children:m("name","coin")}),p.jsx("th",{onClick:()=>g("amount"),className:"cursor-pointer bg-white dark:bg-gray-800",children:m("amount","amount")}),p.jsx("th",{onClick:()=>g("creditCardDetails"),className:"cursor-pointer bg-white dark:bg-gray-800 md:table-cell hidden",children:m("creditCardDetails","cardNumber")}),p.jsx("th",{onClick:()=>g("timestamp"),className:"cursor-pointer bg-white dark:bg-gray-800",children:m("timestamp","time")})]})}),p.jsx("tbody",{children:o.map((y,b)=>p.jsx(Vue,{data:y,index:b+1+(u-1)*r,header:!1},y.id))})]}),i.length===0?p.jsx("div",{children:p.jsx("h1",{className:"text-2xl text-center mt-5",children:n("no-transactions")})}):o.length===0&&p.jsx("div",{className:"h-20",children:p.jsx(Mc,{})}),p.jsx(Oc,{totalPageNumber:f,currentPage:u,setCurrentPage:d})]})}const jue=t=>{const e=t.data;function n(r){let i=r.getDate(),s=r.getMonth()+1,o=r.getFullYear(),a=r.getHours(),l=r.getMinutes();return i=i<10?"0"+i:i,s=s<10?"0"+s:s,a=a<10?"0"+a:a,l=l<10?"0"+l:l,`${i}/${s}/${o}, ${a}:${l}`}return p.jsxs("tr",{className:"border-b hover:bg-gray-200 dark:hover:bg-gray-900 font-bold",children:[p.jsx("td",{className:"py-2 md:table-cell hidden",children:p.jsxs("div",{className:"flex justify-start h-full items-center",children:[p.jsx("img",{className:"w-6 h-6 mr-2",loading:"lazy",src:e.soldCurrency.image,alt:e.soldCurrency.name+" Logo"}),p.jsxs("div",{className:"flex flex-col justify-start items-start",children:[e.soldCurrency.symbol.toUpperCase(),p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.soldCurrency.name})]})]})}),p.jsx("td",{className:"py-2 md:hidden",children:p.jsxs("div",{className:"flex justify-start h-full items-center",children:[p.jsx("img",{className:"w-6 h-6 mr-2",loading:"lazy",src:e.soldCurrency.image,alt:e.soldCurrency.name+" Logo"}),p.jsxs("div",{className:"flex flex-col justify-start items-start",children:[e.soldCurrency.symbol.toUpperCase(),p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:un(e.soldCurrency.amount)+" "+e.soldCurrency.symbol.toUpperCase()})]})]})}),p.jsx("td",{className:"py-2 md:table-cell hidden",children:p.jsxs("div",{className:"flex justify-start h-full items-center",children:[p.jsx("img",{className:"w-6 h-6 mr-2",loading:"lazy",src:e.boughtCurrency.image,alt:e.boughtCurrency.name+" Logo"}),p.jsxs("div",{className:"flex flex-col justify-center items-start",children:[e.boughtCurrency.symbol.toUpperCase(),p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.boughtCurrency.name})]})]})}),p.jsx("td",{className:"py-2 md:hidden",children:p.jsxs("div",{className:"flex justify-start h-full items-center",children:[p.jsx("img",{className:"w-6 h-6 mr-2",loading:"lazy",src:e.boughtCurrency.image,alt:e.boughtCurrency.name+" Logo"}),p.jsxs("div",{className:"flex flex-col justify-center items-start",children:[e.boughtCurrency.symbol.toUpperCase(),p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:un(e.boughtCurrency.amount)+" "+e.boughtCurrency.symbol.toUpperCase()})]})]})}),p.jsx("td",{className:"py-2 text-end md:table-cell hidden",children:un(e.soldCurrency.amount)+" "+e.soldCurrency.symbol.toUpperCase()}),p.jsx("td",{className:"py-2 text-end md:table-cell hidden",children:un(e.boughtCurrency.amount)+" "+e.boughtCurrency.symbol.toUpperCase()}),p.jsx("td",{className:"py-2 text-end md:table-cell hidden",children:n(Hr(e.timestamp))})]})};function $ue({transactions:t,currencies:e}){const{t:n}=qe(),r=7,[i,s]=S.useState([]),[o,a]=S.useState([]),[l,c]=S.useState({field:"",asc:null}),[u,d]=S.useState(1);S.useEffect(()=>{h()},[t,e]);function h(){if(!t||!e)return;const y=t.filter(b=>b.transactionType==="trade").map(b=>{const w=e.find(I=>I.id===b.soldCurrency.id),x=e.find(I=>I.id===b.boughtCurrency.id);return{...b,soldCurrency:{...b.soldCurrency,name:w.name,symbol:w.symbol,image:w.image},boughtCurrency:{...b.boughtCurrency,name:x.name,symbol:x.symbol,image:x.image}}});y.sort((b,w)=>Hr(w.timestamp)-Hr(b.timestamp)),s(y),v()}S.useEffect(()=>{Math.ceil(o.length/r)<u&&d(1),v()},[i]);const f=()=>Math.ceil(i.length/r)||1;S.useEffect(()=>{v()},[u]);function g(y,b=null){if(l.field===y||l.field===y+"."+b){if(l.asc===!1){if(a(o.sort((w,x)=>typeof w[y]=="number"||typeof w[y][b]=="number"?b?x[y][b]-w[y][b]:x[y]-w[y]:b?(""+x[y][b]).localeCompare(w[y][b]):(""+x[y]).localeCompare(w[y]))),b){c({field:y+"."+b,asc:!0});return}c({field:y,asc:!0});return}v(),c({field:"",asc:null});return}if(a(o.sort((w,x)=>typeof w[y]=="number"||typeof w[y][b]=="number"?b?w[y][b]-x[y][b]:w[y]-x[y]:b?(""+w[y][b]).localeCompare(x[y][b]):(""+w[y]).localeCompare(x[y]))),b){c({field:y+"."+b,asc:!1});return}c({field:y,asc:!1})}const m=(y,b)=>p.jsxs("div",{className:`flex py-2 ${b==="toCurrency"||b==="fromCurrency"?"justify-start":"justify-end"} items-center`,children:[n(b),_(y)?p.jsx("i",{className:"material-icons",children:l.asc?"expand_less":"expand_more"}):null]});function _(y){return l.field===y}function v(){a(i.slice((u-1)*r,u*r))}return p.jsxs("div",{children:[p.jsxs("table",{className:"w-full h-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b",children:[p.jsx("th",{onClick:()=>g("soldCurrency","name"),className:"cursor-pointer bg-white dark:bg-gray-800 ",children:m("soldCurrency.name","fromCurrency")}),p.jsx("th",{onClick:()=>g("boughtCurrency","name"),className:"cursor-pointer bg-white dark:bg-gray-800 ",children:m("boughtCurrency.name","toCurrency")}),p.jsx("th",{onClick:()=>g("soldCurrency","amount"),className:"cursor-pointer bg-white dark:bg-gray-800 md:table-cell hidden",children:m("soldCurrency.amount","quantitySold")}),p.jsx("th",{onClick:()=>g("boughtCurrency","amount"),className:"cursor-pointer bg-white dark:bg-gray-800 md:table-cell hidden",children:m("boughtCurrency.amount","quantityBought")}),p.jsx("th",{onClick:()=>g("timestamp"),className:"cursor-pointer bg-white dark:bg-gray-800 md:table-cell hidden",children:m("timestamp","time")})]})}),p.jsx("tbody",{children:o.map((y,b)=>p.jsx(jue,{data:y,index:b+1+(u-1)*r,header:!1},y.id))})]}),i.length===0?p.jsx("div",{children:p.jsx("h1",{className:"text-2xl text-center mt-5",children:n("no-transactions")})}):o.length===0&&p.jsx("div",{className:"h-20",children:p.jsx(Mc,{})}),p.jsx(Oc,{totalPageNumber:f,currentPage:u,setCurrentPage:d})]})}const Uue=t=>{const e=t.data;function n(i){let s=i.getDate(),o=i.getMonth()+1,a=i.getFullYear(),l=i.getHours(),c=i.getMinutes();return s=s<10?"0"+s:s,o=o<10?"0"+o:o,l=l<10?"0"+l:l,c=c<10?"0"+c:c,`${s}/${o}/${a}, ${l}:${c}`}const r=()=>p.jsxs("div",{className:"flex flex-col justify-center items-end",children:[p.jsx("div",{children:parseFloat(e.amount.toFixed(5)).toLocaleString()+" "+e.symbol.toUpperCase()}),p.jsx("div",{className:"font-semibold text-sm text-gray-500 dark:text-gray-400",children:"$"+un(e.price)})]});return p.jsxs("tr",{className:"border-b hover:bg-gray-200 dark:hover:bg-gray-900 font-bold",children:[p.jsx("td",{className:"py-2",children:p.jsxs("div",{className:"flex justify-start h-full items-center",children:[p.jsx("img",{className:"w-6 h-6 mr-2",loading:"lazy",src:e.image,alt:e.name+" Logo"}),p.jsxs("div",{className:"flex flex-col justify-center items-start",children:[e.symbol.toUpperCase(),p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.name})]})]})}),p.jsx("td",{className:"py-2 text-end",children:r()}),p.jsxs("td",{className:"py-2 md:table-cell hidden text-end",children:["******",e.bankAccountDetails.accountNumber.slice(-3)]}),p.jsx("td",{className:"py-2 text-end",children:n(Hr(e.timestamp))})]})};function Bue({transactions:t,currencies:e}){const{t:n}=qe(),r=7,[i,s]=S.useState([]),[o,a]=S.useState([]),[l,c]=S.useState({field:"",asc:null}),[u,d]=S.useState(1);S.useEffect(()=>{h()},[t,e]);function h(){if(!t||!e)return;const y=t.filter(b=>b.transactionType==="withdraw").map(b=>{const w=e.find(x=>x.id===b.currencyId);return w?{...b,name:w.name,image:w.image,symbol:w.symbol}:null}).filter(b=>b!==null);y.sort((b,w)=>Hr(w.timestamp)-Hr(b.timestamp)),s(y),v()}S.useEffect(()=>{Math.ceil(o.length/r)<u&&d(1),v()},[i]);const f=()=>Math.ceil(i.length/r)||1;S.useEffect(()=>{v()},[u]);function g(y){if(l.field===y){if(l.asc===!1){a(o.sort((b,w)=>typeof b[y]=="number"?w[y]-b[y]:(""+w[y]).localeCompare(b[y]))),c({field:y,asc:!0});return}v(),c({field:"",asc:null});return}a(o.sort((b,w)=>typeof b[y]=="number"?b[y]-w[y]:(""+b[y]).localeCompare(w[y]))),c({field:y,asc:!1})}const m=(y,b)=>p.jsxs("div",{className:`flex py-2 ${b==="coin"||b==="spent coin"||b==="type"?"justify-start":"justify-end"} items-center`,children:[n(b),_(y)?p.jsx("i",{className:"material-icons",children:l.asc?"expand_less":"expand_more"}):null]});function _(y){return l.field===y}function v(){a(i.slice((u-1)*r,u*r))}return p.jsxs("div",{children:[p.jsxs("table",{className:"w-full h-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b",children:[p.jsx("th",{onClick:()=>g("name"),className:"cursor-pointer bg-white dark:bg-gray-800 ",children:m("name","coin")}),p.jsx("th",{onClick:()=>g("amount"),className:"cursor-pointer bg-white dark:bg-gray-800",children:m("amount","amount")}),p.jsx("th",{className:"cursor-pointer bg-white dark:bg-gray-800 md:table-cell hidden",children:m("accountNumber","accountNumber")}),p.jsx("th",{onClick:()=>g("timestamp"),className:"cursor-pointer bg-white dark:bg-gray-800",children:m("timestamp","time")})]})}),p.jsx("tbody",{children:o.map((y,b)=>p.jsx(Uue,{data:y,index:b+1+(u-1)*r,header:!1},y.id))})]}),i.length===0?p.jsx("div",{children:p.jsx("h1",{className:"text-2xl text-center mt-5",children:n("no-transactions")})}):o.length===0&&p.jsx("div",{className:"h-20",children:p.jsx(Mc,{})}),p.jsx(Oc,{totalPageNumber:f,currentPage:u,setCurrentPage:d})]})}function zue(){const{t}=qe(),{currentUserData:e}=xi(),[n,r]=S.useState("buy"),[i,s]=S.useState([]),o=Vh(lo),[a,l]=S.useState(window.innerWidth),[c,u]=S.useState({width:0,transform:"translateX(0px)"}),d=S.useRef([]);S.useEffect(()=>{if(d.current[n]){const{offsetLeft:m,clientWidth:_}=d.current[n];u({width:_,transform:`translateX(${m}px)`})}},[n,d,a]),S.useEffect(()=>{s(o.data.map(m=>({id:m.id,label:m.name,image:m.image,symbol:m.symbol,...m})))},[o.data]),S.useEffect(()=>{document.title=t("transactions-history")+" | "+t("cryptoPulse");const m=()=>{l(window.innerWidth)};return window.addEventListener("resize",m),()=>{document.title=t("cryptoPulse"),window.removeEventListener("resize",m)}},[]);const h=()=>{switch(n){case"buy":return p.jsx(Fue,{transactions:e.transactions,currencies:i});case"trade":return p.jsx($ue,{transactions:e.transactions,currencies:i});case"withdraw":return p.jsx(Bue,{transactions:e.transactions,currencies:i});default:return null}},f=m=>{switch(m){case"buy":return"shopping_cart";case"trade":return"compare_arrows";case"withdraw":return"account_balance";default:return""}},g=m=>p.jsx("div",{className:`flex flex-col justify-start items-center text-xl font-semibold ${n===m&&"text-custom-teal"}`,children:p.jsxs("button",{ref:_=>d.current[m]=_,className:"flex justify-center items-center gap-2 p-1 hover:text-gray-500 dark:hover:text-gray-300",onClick:()=>r(m),children:[p.jsx("i",{className:"material-icons",children:f(m)}),t(m)]})});return p.jsxs("div",{className:"scrollable-content content",children:[p.jsxs("div",{className:"p-5 text-slate-950 dark:text-white flex flex-col items-center justify-start",children:[p.jsx("h1",{className:"mb-5 text-3xl font-bold w-full",children:t("transactions-history")}),p.jsxs("div",{className:"w-full xl:w-[80%] flex flex-col justify-center items-start border-b md:p-0",children:[p.jsxs("div",{className:"flex justify-between md:justify-start w-full gap-5 relative",children:[g("buy"),g("trade"),g("withdraw")]}),p.jsx("div",{className:"w-full border-2 rounded border-custom-teal",style:{...c,transition:"width 0.3s ease, transform 0.3s ease"}})]}),p.jsx("div",{className:"pt-5 md:p-5 h-full w-full xl:w-[80%]",children:h()})]}),p.jsx(Fa,{})]})}const Wue=()=>{const{t}=qe(),{currentUser:e,currentUserData:n,fetchUserData:r}=xi(),[i,s]=S.useState(!1),o=()=>s(!0),a=()=>s(!1),[l,c]=S.useState({title:"",message:"",messageType:"",type:""}),[u,d]=S.useState(!1),[h,f]=S.useState(e.email||""),[g,m]=S.useState(e.displayName.split(" ")[0]||""),[_,v]=S.useState(e.displayName.split(" ")[1]||""),[y,b]=S.useState(n.phone||""),[w,x]=S.useState(""),[I,T]=S.useState(""),[E,A]=S.useState(!1),[D,V]=S.useState(!1);S.useEffect(()=>(document.title=t("settings")+" | "+t("cryptoPulse"),()=>{document.title=t("cryptoPulse")}),[]);const H=j=>{const M=j.target.value;if(!(M.length>10)){if(M.length===0)return b("");/^\d+$/.test(M)&&b(M)}},X=()=>{(g===""||_===""||y===""||w!==""&&I===""||w===""&&I!=="")&&(c({title:"error",message:"errorFillAllFields",type:"error"}),o()),w!==""&&I.length<6&&(c({title:"error",message:"passwordTooShort",type:"error"}),o()),c({title:"confirmAction",message:"confirmUpdateProfile",action:Y,messageType:"confirm-warnning",type:"confirm-warnning"}),o()},Y=async()=>{A(!0),tte(g,_,y,w,I).then(async()=>{await r(),c({title:"success",message:"profileUpdatedSuccessfully",type:"success"}),o()}).catch(j=>{j.message.includes("Re-authentication failed")?(console.error("Re-authentication failed. Please log in again."),c({title:"error",message:"errorWrongPassword",type:"error"}),o()):(console.error("An error occurred:",j.message),c({title:"error",message:"somethingWentWrong",type:"error"}),o())}).finally(()=>{A(!1)})},R=async()=>{V(!0);try{await ete()}catch{c({title:"error",message:"somethingWentWrong",type:"error"}),o()}finally{V(!1)}},C=()=>{pS(Zs,h).then(()=>{c({title:"success",message:"resetPasswordEmailSent",type:"success"}),o()}).catch(j=>{console.log(j)})};return p.jsxs("div",{className:"scrollable-content content",children:[p.jsxs("div",{className:"grid md:grid-cols-2 w-full h-full py-5 overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-end",children:[p.jsx("img",{src:hf,loading:"lazy",alt:"CryptoPulse logo",className:"flex max-h-[350px] w-auto md:max-h-[550px] p-5 m-auto"}),p.jsx("div",{className:"h-full bg-gray-300 dark:bg-gray-600 hidden md:block w-px mx-[10px]"})]}),p.jsxs("div",{className:"flex flex-col justify-center gap-5 mx-10 ",children:[p.jsx("h1",{className:"text-5xl font-bold text-slate-950 dark:text-white",children:t("profile")}),p.jsx("input",{type:"text",value:h,className:"mt-10 h-10 pl-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("mail"),disabled:!0}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("input",{type:"text",value:g,onChange:j=>m(j.target.value),className:"w-full pl-3 h-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("firstName")}),p.jsx("input",{type:"text",value:_,onChange:j=>v(j.target.value),className:"w-full pl-3 h-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("lastName")})]}),p.jsx("input",{type:"text",value:y,onChange:H,className:"h-10 pl-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("phone")}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsx("input",{type:u?"text":"password",value:w,onChange:j=>x(j.target.value),className:"w-full h-10 pl-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("oldPassword"),autoComplete:"new-password"}),p.jsx("input",{type:u?"text":"password",value:I,onChange:j=>T(j.target.value),className:"w-full h-10 pl-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("newPassword"),autoComplete:"new-password"})]}),p.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:t("changePassword")})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"checkbox",onClick:()=>d(!u)}),p.jsx("label",{className:"text-gray-800 dark:text-white",children:t("showPassword")})]}),p.jsx("button",{type:"button",onClick:X,className:`mt-10 h-10 text-gray-800 font-bold px-5 rounded-lg bg-custom-teal ${!E&&"hover:bg-teal-500"} flex justify-start items-center`,children:E?p.jsxs("div",{className:"loading-container",children:[p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"})]}):t("updateProfile")}),p.jsx("button",{type:"button",onClick:()=>{c({...l,title:"confirmAction",message:"confirmDeleteAccount",action:R,messageType:"confirm-warnning",type:"confirm-warnning"}),o()},className:`h-10 text-gray-800 font-bold px-5 rounded-lg bg-red bg-opacity-50 ${!D&&"hover:bg-opacity-100"} flex justify-start items-center`,children:D?p.jsxs("div",{className:"loading-container",children:[p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"}),p.jsx("span",{className:"dot"})]}):t("deleteAccount")}),p.jsx("a",{className:" text-gray-500 dark:text-gray-300 cursor-pointer font-semibold underline",onClick:C,children:t("forgotPassword")})]})]}),p.jsx(La,{title:l.title,message:l.message,messageType:l.messageType,action:l.action,isVisible:i,onClose:a})]})},gu="/assets/usa-BeFRcQv-.png",t0="/assets/germany-RcDfzgS0.webp",n0="/assets/italy-k4diam-A.webp",r0="/assets/china-BJC3NXIF.png",i0="/assets/russia-BFOhkMUR.png",Hue={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class xm{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||Hue,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new xm(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new xm(this.logger,e)}}var ci=new xm;class Rv{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a.apply(a,[e,...r])})}}function mu(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function mA(t){return t==null?"":""+t}function que(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}const Kue=/###/g;function fd(t,e,n){function r(a){return a&&a.indexOf("###")>-1?a.replace(Kue,"."):a}function i(){return!t||typeof t=="string"}const s=typeof e!="string"?e:e.split(".");let o=0;for(;o<s.length-1;){if(i())return{};const a=r(s[o]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++o}return i()?{}:{obj:t,k:r(s[o])}}function yA(t,e,n){const{obj:r,k:i}=fd(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=fd(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=fd(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n}function Gue(t,e,n,r){const{obj:i,k:s}=fd(t,e,Object);i[s]=i[s]||[],r&&(i[s]=i[s].concat(n)),r||i[s].push(n)}function Sm(t,e){const{obj:n,k:r}=fd(t,e);if(n)return n[r]}function Que(t,e,n){const r=Sm(t,n);return r!==void 0?r:Sm(e,n)}function h$(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):h$(t[r],e[r],n):t[r]=e[r]);return t}function Xa(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Yue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Xue(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>Yue[e]):t}class Jue{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Zue=[" ",",","?","!",";"],ede=new Jue(20);function tde(t,e,n){e=e||"",n=n||"";const r=Zue.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=ede.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function Dw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i}function Em(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class vA extends Rv{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):typeof r=="string"&&s?a.push(...r.split(s)):a.push(r)));const l=Sm(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||typeof r!="string"?l:Dw(this.data&&this.data[e]&&this.data[e][n],r,s)}addResource(e,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),yA(this.data,a,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)(typeof r[s]=="string"||Object.prototype.toString.apply(r[s])==="[object Array]")&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=Sm(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?h$(l,r,s):l={...l,...r},yA(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var f$={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,n,r,i))}),e}};const _A={};class Im extends Rv{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),que(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ci.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!tde(e,r,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:s};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(i)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],n),l=a[a.length-1],c=n.lng||this.language,u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(u){const w=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${w}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${w}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const d=this.resolve(e,n);let h=d&&d.res;const f=d&&d.usedKey||o,g=d&&d.exactUsedKey||o,m=Object.prototype.toString.apply(h),_=["[object Number]","[object Function]","[object RegExp]"],v=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject;if(y&&h&&(typeof h!="string"&&typeof h!="boolean"&&typeof h!="number")&&_.indexOf(m)<0&&!(typeof v=="string"&&m==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,h,{...n,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(d.res=w,d.usedParams=this.getUsedParamsDetails(n),d):w}if(s){const w=m==="[object Array]",x=w?[]:{},I=w?g:f;for(const T in h)if(Object.prototype.hasOwnProperty.call(h,T)){const E=`${I}${s}${T}`;x[T]=this.translate(E,{...n,joinArrays:!1,ns:a}),x[T]===E&&(x[T]=h[T])}h=x}}else if(y&&typeof v=="string"&&m==="[object Array]")h=h.join(v),h&&(h=this.extendTranslation(h,e,n,r));else{let w=!1,x=!1;const I=n.count!==void 0&&typeof n.count!="string",T=Im.hasDefaultValue(n),E=I?this.pluralResolver.getSuffix(c,n.count,n):"",A=n.ordinal&&I?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",D=I&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),V=D&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${E}`]||n[`defaultValue${A}`]||n.defaultValue;!this.isValidLookup(h)&&T&&(w=!0,h=V),this.isValidLookup(h)||(x=!0,h=o);const X=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&x?void 0:h,Y=T&&V!==h&&this.options.updateMissing;if(x||w||Y){if(this.logger.log(Y?"updateKey":"missingKey",c,l,o,Y?V:h),s){const M=this.resolve(o,{...n,keySeparator:!1});M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let R=[];const C=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&C&&C[0])for(let M=0;M<C.length;M++)R.push(C[M]);else this.options.saveMissingTo==="all"?R=this.languageUtils.toResolveHierarchy(n.lng||this.language):R.push(n.lng||this.language);const j=(M,U,F)=>{const ie=T&&F!==h?F:X;this.options.missingKeyHandler?this.options.missingKeyHandler(M,l,U,ie,Y,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(M,l,U,ie,Y,n),this.emit("missingKey",M,l,U,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&I?R.forEach(M=>{const U=this.pluralResolver.getSuffixes(M,n);D&&n[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(F=>{j([M],o+F,n[`defaultValue${F}`]||V)})}):j(R,o,V))}h=this.extendTranslation(h,e,n,d,r),x&&h===o&&this.options.appendNamespaceToMissingKey&&(h=`${l}:${o}`),(x||w)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,w?h:void 0):h=this.options.parseMissingKeyHandler(h))}return i?(d.res=h,d.usedParams=this.getUsedParamsDetails(n),d):h}extendTranslation(e,n,r,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const h=e.match(this.interpolator.nestingRegexp);u=h&&h.length}let d=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,r.lng||this.language,r),c){const h=e.match(this.interpolator.nestingRegexp),f=h&&h.length;u<f&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var h=arguments.length,f=new Array(h),g=0;g<h;g++)f[g]=arguments[g];return s&&s[0]===f[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${n[0]}`),null):o.translate(...f,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=f$.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,o,a;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&typeof n.count!="string",f=h&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),g=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",m=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(_=>{this.isValidLookup(r)||(a=_,!_A[`${m[0]}-${_}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(_A[`${m[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${m.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(v=>{if(this.isValidLookup(r))return;o=v;const y=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(y,u,v,_,n);else{let w;h&&(w=this.pluralResolver.getSuffix(v,n.count,n));const x=`${this.options.pluralSeparator}zero`,I=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(y.push(u+w),n.ordinal&&w.indexOf(I)===0&&y.push(u+w.replace(I,this.options.pluralSeparator)),f&&y.push(u+x)),g){const T=`${u}${this.options.contextSeparator}${n.context}`;y.push(T),h&&(y.push(T+w),n.ordinal&&w.indexOf(I)===0&&y.push(T+w.replace(I,this.options.pluralSeparator)),f&&y.push(T+x))}}let b;for(;b=y.pop();)this.isValidLookup(r)||(s=b,r=this.getResource(v,_,b,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string";let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function s0(t){return t.charAt(0).toUpperCase()+t.slice(1)}class bA{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ci.create("languageUtils")}getScriptPartFromCode(e){if(e=Em(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Em(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=s0(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=s0(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=s0(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let nde=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],rde={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const ide=["v1","v2","v3"],sde=["v4"],wA={zero:0,one:1,two:2,few:3,many:4,other:5};function ode(){const t={};return nde.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:rde[e.fc]}})}),t}class ade{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=ci.create("pluralResolver"),(!this.options.compatibilityJSON||sde.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=ode()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Em(e==="dev"?"en":e),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>wA[i]-wA[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!ide.includes(this.options.compatibilityJSON)}}function xA(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=Que(t,e,n);return!s&&i&&typeof n=="string"&&(s=Dw(t,n,r),s===void 0&&(s=Dw(e,n,r))),s}class lde{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ci.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:Xue,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?Xa(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?Xa(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?Xa(n.nestingPrefix):n.nestingPrefixEscaped||Xa("$t("),this.nestingSuffix=n.nestingSuffix?Xa(n.nestingSuffix):n.nestingSuffixEscaped||Xa(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(g){return g.replace(/\$/g,"$$$$")}const u=g=>{if(g.indexOf(this.formatSeparator)<0){const y=xA(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...i,...n,interpolationkey:g}):y}const m=g.split(this.formatSeparator),_=m.shift().trim(),v=m.join(this.formatSeparator).trim();return this.format(xA(n,l,_,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...i,...n,interpolationkey:_})};this.resetRegExp();const d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>c(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?c(this.escape(g)):c(g)}].forEach(g=>{for(a=0;s=g.regex.exec(e);){const m=s[1].trim();if(o=u(m),o===void 0)if(typeof d=="function"){const v=d(e,s,i);o=typeof v=="string"?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,m))o="";else if(h){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=mA(o));const _=g.safeValue(o);if(e=e.replace(s[0],_),h?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;function a(l,c){const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,o);const f=h.match(/'/g),g=h.match(/"/g);(f&&f.length%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),c&&(o={...c,...o})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${u}${h}`}return delete o.defaultValue,l}for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const u=i[1].split(this.formatSeparator).map(d=>d.trim());i[1]=u.shift(),l=u,c=!0}if(s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=mA(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c&&(s=l.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}function cde(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(!o)return;const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,"");n[a.trim()]||(n[a.trim()]=c),c==="false"&&(n[a.trim()]=!1),c==="true"&&(n[a.trim()]=!0),isNaN(c)||(n[a.trim()]=parseInt(c,10))})}return{formatName:e,formatOptions:n}}function Ja(t){const e={};return function(r,i,s){const o=i+JSON.stringify(s);let a=e[o];return a||(a=t(Em(i),s),e[o]=a),a(r)}}class ude{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ci.create("formatter"),this.options=e,this.formats={number:Ja((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:Ja((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:Ja((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:Ja((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:Ja((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Ja(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((a,l)=>{const{formatName:c,formatOptions:u}=cde(l);if(this.formats[c]){let d=a;try{const h=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},f=h.locale||h.lng||i.locale||i.lng||r;d=this.formats[c](a,f,{...u,...i,...h})}catch(h){this.logger.warn(h)}return d}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}function dde(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class hde extends Rv{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=ci.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},a={},l={};return e.forEach(c=>{let u=!0;n.forEach(d=>{const h=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,u=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(a[c]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2;const a={};this.queue.forEach(l=>{Gue(l.loaded,[s],o),dde(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{a[c][d]===void 0&&(a[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>a(null,u)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(e,n,r,i,l):u=c(e,n,r,i),u&&typeof u.then=="function"?u.then(d=>a(null,d)).catch(a):a(null,u)}catch(u){a(u)}else c(e,n,r,i,a,l)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}function SA(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function EA(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function mp(){}function fde(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class bh extends Rv{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=EA(e),this.services={},this.logger=ci,this.modules={external:[]},fde(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=SA();this.options={...i,...this.options,...EA(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function s(u){return u?typeof u=="function"?new u:u:null}if(!this.options.isClone){this.modules.logger?ci.init(s(this.modules.logger),this.options):ci.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=ude);const d=new bA(this.options);this.store=new vA(this.options.resources,this.options);const h=this.services;h.logger=ci,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new ade(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(h.formatter=s(u),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new lde(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new hde(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(f){for(var g=arguments.length,m=new Array(g>1?g-1:0),_=1;_<g;_++)m[_-1]=arguments[_];e.emit(f,...m)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Im(this.services,this.options),this.translator.on("*",function(f){for(var g=arguments.length,m=new Array(g>1?g-1:0),_=1;_<g;_++)m[_-1]=arguments[_];e.emit(f,...m)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,r||(r=mp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const l=mu(),c=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),r(d,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mp;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&s.indexOf(c)<0&&s.push(c)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,n,r){const i=mu();return e||(e=this.languages),n||(n=this.options.ns),r||(r=mp),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&f$.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=mu();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||s(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,u=>{o(u,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,n,r){var i=this;const s=function(o,a){let l;if(typeof a!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),d=2;d<c;d++)u[d-2]=arguments[d];l=i.options.overloadTranslationOptionHandler([o,a].concat(u))}else l={...a};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix=l.keyPrefix||r||s.keyPrefix;const h=i.options.keySeparator||".";let f;return l.keyPrefix&&Array.isArray(o)?f=o.map(g=>`${l.keyPrefix}${h}${g}`):f=l.keyPrefix?`${l.keyPrefix}${h}${o}`:o,i.t(f,l)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=mu();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=mu();typeof e=="string"&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0);return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new bA(SA());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new bh(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mp;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new bh(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new vA(this.store.data,i),s.services.resourceStore=s.store),s.translator=new Im(s.services,i),s.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];s.emit(a,...c)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Wt=bh.createInstance();Wt.createInstance=bh.createInstance;Wt.createInstance;Wt.dir;Wt.init;Wt.loadResources;Wt.reloadResources;Wt.use;Wt.changeLanguage;Wt.getFixedT;Wt.t;Wt.exists;Wt.setDefaultNamespace;Wt.hasLoadedNamespace;Wt.loadNamespaces;Wt.loadLanguages;const pde=({isUserMenuOpen:t})=>{const[e,n]=S.useState(t),[r,i]=S.useState(!1),{currentUser:s}=xi(),{t:o}=qe(),[a,l]=S.useState(!1),c=()=>l(!0),u=()=>l(!1),[d,h]=S.useState(!1);S.useEffect(()=>{!t&&e?(i(!0),setTimeout(()=>n(!1),500)):t&&!e&&(n(!0),i(!1))},[t,e]);const f=async()=>{try{await IM(Zs)}catch(g){alert(g.message)}};return!e||!s?null:p.jsxs("div",{className:"overflow-hidden",children:[p.jsxs("div",{className:`h-[calc(100vh-86px)] hidden md:flex flex-col justify-start right-0 items-center m-2 py-5 rounded-2xl absolute bg-white bg-opacity-5 border border-gray-200 dark:border-gray-600 min-w-96 font-bold text-black dark:text-white ${r?"slide-out-right":"slide-in-right"}`,style:{backdropFilter:"blur(10px)"},children:[p.jsx("div",{className:"flex justify-end items-end w-full pr-5",children:p.jsx("button",{onClick:()=>An("/home/settings"),className:"material-icons p-1 rounded-full hover:text-gray-500 dark:hover:text-gray-200",children:"settings"})}),p.jsxs("div",{className:"w-[75%] h-full flex flex-col justify-between items-center gap-4",children:[p.jsxs("div",{className:"flex flex-col justify-center items-center gap-3",children:[p.jsx("i",{className:"material-icons",style:{fontSize:"100px"},children:"account_circle"}),p.jsx("p",{children:s.displayName})]}),p.jsxs("div",{className:"flex flex-col justify-start items-start w-full h-full py-10 gap-3",children:[p.jsxs("button",{onClick:()=>An("/home/coins"),className:"flex justify-start items-start w-full h-10 gap-3 p-2 border-b border-gray-400 hover:bg-opacity-30 dark:hover:bg-opacity-50 hover:bg-gray-300 dark:hover:bg-gray-800 rounded-t-md",children:[p.jsx("i",{className:"material-icons",children:"monetization_on"}),p.jsx("p",{children:o("coins")})]}),p.jsxs("button",{onClick:()=>An("/home/news"),className:"flex justify-start items-start w-full h-10 gap-3 p-2 border-b border-gray-400 hover:bg-opacity-30 dark:hover:bg-opacity-50 hover:bg-gray-300 dark:hover:bg-gray-800 rounded-t-md",children:[p.jsx("i",{className:"material-icons",children:"feed"}),p.jsx("p",{children:o("news")})]}),p.jsxs("button",{onClick:()=>An("/home/transactions-history"),className:"flex justify-start items-start w-full h-10 gap-3 p-2 border-b border-gray-400 hover:bg-opacity-30 dark:hover:bg-opacity-50 hover:bg-gray-300 dark:hover:bg-gray-800 rounded-t-md",children:[p.jsx("i",{className:"material-icons",children:"history"}),p.jsx("p",{children:o("transactions-history")})]}),p.jsxs("div",{className:"w-full flex",children:[p.jsxs("button",{onClick:()=>An("/home/dashboard"),className:"flex justify-start items-start w-full h-10 gap-3 p-2 border-b border-gray-400 hover:bg-opacity-30 dark:hover:bg-opacity-50 hover:bg-gray-300 dark:hover:bg-gray-800 rounded-t-md",children:[p.jsx("i",{className:"material-icons",children:"dashboard"}),p.jsx("p",{children:o("dashboard")})]}),p.jsx("button",{onClick:()=>{h(!d)},className:"material-icons",children:d?"expand_less":"expand_more"})]}),d&&p.jsxs("div",{className:"w-full flex flex-col pl-5 gap-3",children:[p.jsxs("button",{onClick:()=>{An("/home/dashboard/cashin")},className:"flex justify-start items-start w-full h-10 gap-3 p-2 border-b border-gray-400 hover:bg-gray-300 dark:hover:bg-gray-800 hover:bg-opacity-30 dark:hover:bg-opacity-50 rounded-t-md",children:[p.jsx("i",{className:"material-icons",children:"shopping_cart"}),p.jsx("p",{children:o("cashIn")})]}),p.jsxs("button",{onClick:()=>{An("/home/dashboard/withdraw")},className:"flex justify-start items-start w-full h-10 gap-3 p-2 border-b border-gray-400 hover:bg-gray-300 dark:hover:bg-gray-800 hover:bg-opacity-30 dark:hover:bg-opacity-50 rounded-t-md",children:[p.jsx("i",{className:"material-icons",children:"account_balance"}),p.jsx("p",{children:o("withdraw")})]})]})]}),p.jsxs("button",{className:"w-full p-5 h-12 flex justify-start items-center bg-gray-300 dark:bg-gray-800 rounded-lg gap-2 hover:bg-gray-400 dark:hover:bg-gray-900",onClick:c,children:[p.jsx("i",{className:"material-icons",children:"logout"}),o("signOut")]})]})]}),p.jsx("div",{className:"absolute",children:p.jsx(La,{title:"signOutTitle",message:"signOutMessage",messageType:"confirm-warnning",action:f,isVisible:a,onClose:u})})]})},gde=({isSearchOpen:t,searchData:e})=>{const{t:n}=qe(),[r,i]=S.useState(t),[s,o]=S.useState(!1),[a,l]=$s(lo),[c,u]=$s(Xx),d=g=>{const m=g.target.value.toLowerCase();e==="coins"?f(m):e==="news"&&h(m)},h=g=>{const _=[...c.data].filter(v=>v.title.toLowerCase().includes(g)||v.body.toLowerCase().includes(g)||v.tags.toLowerCase().includes(g)||v.categories.toLowerCase().includes(g));u({...c,filterdData:_})},f=g=>{const _=[...a.data].filter(v=>v.name.toLowerCase().includes(g)||v.symbol.toLowerCase().includes(g));l({...a,filterdData:_})};return S.useEffect(()=>{!t&&r?(o(!0),setTimeout(()=>i(!1),500)):t&&!r&&(i(!0),o(!1))},[t,r]),r?p.jsx("div",{className:`flex flex-col justify-center p-5 items-center w-full rounded-b-2xl -z-10 absolute bg-gray-200 dark:bg-gray-900 opacity-95 font-bold text-black dark:text-white ${s?"slide-out-top":"slide-in-top"}`,children:p.jsxs("div",{className:"relative w-full",children:[p.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center pl-2 pointer-events-none material-icons text-gray-500 dark:text-gray-400",children:"search"}),p.jsx("input",{type:"text",onChange:d,className:"pl-9 w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:n("search")+"..."})]})}):null};function mde(){const{t}=qe(),[e,n]=S.useState({days:0,hours:0,minutes:0,seconds:0});return S.useEffect(()=>{const a=new Date("April 21, 2024 18:01:00 UTC").getTime(),l=setInterval(()=>{const c=new Date().getTime(),u=a-c,d=Math.floor(u/864e5),h=Math.floor(u%864e5/36e5),f=Math.floor(u%36e5/6e4),g=Math.floor(u%6e4/1e3);n({days:d,hours:h,minutes:f,seconds:g})},1e3);return()=>{clearInterval(l)}},[]),p.jsxs("div",{className:"flex justify-start items-center font-semibold w-[300px]",children:[t("bitcoinHalving")+": ",p.jsx("h1",{className:"ml-2",children:e.days+"D "+e.hours+"H "+e.minutes+"M "+e.seconds+"S"})]})}function yde(){const{t}=qe(),[e,n]=S.useState(!1),[r,i]=S.useState(!1),[s,o]=S.useState(!1),[a,l]=S.useState(!1),[c,u]=S.useState(!1),[d,h]=S.useState(!1),f=()=>h(!0),g=()=>h(!1),[m,_]=$s(kO),{currentUser:v,currentUserData:y}=xi(),[b,w]=S.useState(gu),[x,I]=S.useState(""),T=Wm(),E=[{title:"coins",icon:"monetization_on"},{title:"news",icon:"feed"},{title:"transactions-history",icon:"history"}],A=[{title:"cashIn",icon:"shopping_cart"},{title:"withdraw",icon:"account_balance"}],D=async()=>{try{await IM(Zs)}catch(Y){alert(Y.message)}};S.useEffect(()=>{const Y=T.pathname.split("/");I(Y[Y.length-1])},[T]),S.useEffect(()=>{switch(Wt.language){case"en":w(gu);break;case"de":w(t0);break;case"it":w(n0);break;case"zh":w(r0);break;case"ru":w(i0);break;default:w(gu)}},[Wt.language]);function V(Y){n(!1),Y==="light"?(document.documentElement.classList.remove("dark"),localStorage.theme="light",_({...m,theme:"light"})):(document.documentElement.classList.add("dark"),localStorage.theme="dark",_({...m,theme:"dark"}))}function H(Y,R){i(!1),Wt.changeLanguage(Y),w(R)}const X=(Y,R)=>p.jsxs("button",{type:"button",onClick:()=>H(Y,R),className:"w-full h-10 px-5 flex items-center text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 gap-2",children:[p.jsx("img",{src:R,loading:"lazy",width:20,height:20}),t(Y)]});return p.jsxs("div",{className:"z-10",children:[p.jsxs("nav",{className:"flex flex-wrap items-center justify-between mx-auto p-4 bg-gray-100 border-gray-200 dark:bg-gray-900",children:[p.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse cursor-pointer",onClick:()=>An("/home"),children:[p.jsx("img",{src:hf,loading:"lazy",alt:"CryptoPulse logo",className:"h-8"}),p.jsx("span",{className:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white",children:t("cryptoPulse")})]}),p.jsxs("div",{className:"flex md:order-2",children:[!a&&(x==="coins"||x==="news")&&p.jsx("button",{type:"button",onClick:()=>o(!s),className:"inline-flex items-center p-2 mr-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600",children:p.jsx("i",{className:"material-icons",children:"search"})}),v?p.jsx("div",{className:"dropdown",children:p.jsx("button",{type:"button",onClick:()=>{o(!1),l(!a)},className:"inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600",children:p.jsx("i",{className:"material-icons",children:a?"close":"menu"})})}):p.jsxs("div",{className:"flex md:hidden flex-row items-center",children:[p.jsx("button",{onClick:()=>An("/welcome/signup"),type:"button",className:"material-icons text-black dark:text-white hover:bg-gray-100 p-2 mx-2 hover:rounded-full dark:hover:bg-gray-700",children:"edit"}),p.jsx("button",{onClick:()=>An("/welcome/login"),type:"button",className:"material-icons text-black dark:text-white hover:bg-gray-100 p-2 mx-2 hover:rounded-full dark:hover:bg-gray-700",children:"login"})]})]}),p.jsxs("div",{className:"text-black dark:text-white hidden justify-start items-center lg:order-2 rtl:space-x-reverse xl:flex",children:[p.jsx("img",{className:"mr-2",src:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1696501400",loading:"lazy",width:20,height:20}),p.jsx(mde,{})]}),p.jsxs("div",{className:"hidden items-center md:order-2 space-x-2 md:space-x-0 rtl:space-x-reverse md:flex",children:[p.jsxs("div",{className:"dropdown",children:[p.jsx("button",{onClick:()=>{i(!1),l(!1),n(!e)},type:"button",className:"material-icons text-black dark:text-white hover:bg-gray-200 p-2 mx-4 hover:rounded-full dark:hover:bg-gray-700",children:m.theme==="dark"?"dark_mode":"light_mode"}),e&&p.jsxs("div",{className:"z-50 my-4 text-base py-2 font-medium list-none bg-white divide-gray-100 rounded-lg shadow dark:bg-gray-700 absolute origin-top left-0 mt-2",style:{width:"max-content"},children:[p.jsxs("button",{onClick:()=>V("light"),type:"button",className:"h-10 px-5 flex items-center text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600",style:{width:"-webkit-fill-available"},children:[p.jsx("i",{className:"material-icons mr-2",children:"light_mode"}),t("lightMode")]}),p.jsxs("button",{onClick:()=>V("dark"),type:"button",className:"h-10 px-5 flex items-center text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600",style:{width:"-webkit-fill-available"},children:[p.jsx("i",{className:"material-icons mr-2",children:"dark_mode"}),t("darkMode")]})]})]}),p.jsxs("div",{className:"dropdown",children:[p.jsxs("button",{onClick:()=>{n(!1),l(!1),i(!r)},type:"button",className:"inline-flex items-center font-medium p-2 text-sm text-gray-900 dark:text-white rounded-lg cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 mr-2",children:[p.jsx("img",{src:b,loading:"lazy",width:20,height:20,className:"mr-2"}),t("languageName"),p.jsx("i",{className:"material-icons",children:"arrow_drop_down"})]}),r&&p.jsxs("div",{className:"z-50 my-4 py-2 font-medium text-base list-none bg-white divide-gray-200 rounded-lg shadow dark:bg-gray-700 absolute origin-top left-0 mt-2 w-max",children:[X("en",gu),X("ru",i0),X("de",t0),X("it",n0),X("zh",r0)]})]}),v&&y&&p.jsxs("button",{type:"button",onClick:()=>{n(!1),i(!1),l(!a)},className:"flex items-center font-medium p-2 text-sm text-gray-900 dark:text-white rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700",children:[p.jsx("i",{className:"material-icons mr-2",children:"account_circle"}),p.jsxs("span",{children:[" ",v.displayName," "]})]}),!v||!y?p.jsxs("div",{className:"space-x-4",children:[p.jsx("button",{onClick:()=>An("/welcome/signup"),className:"text-gray-800 px-2 py-2 rounded-xl dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white",children:t("signUp")}),p.jsx("button",{onClick:()=>An("/welcome/login"),className:"text-gray-800 px-2 py-2 rounded-xl dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white",children:t("logIn")})]}):null]})]}),p.jsx(gde,{isSearchOpen:s,searchData:x}),p.jsx(pde,{isUserMenuOpen:a}),a&&v&&p.jsxs("div",{className:"scrollable-content content items-center p-5 absolute md:hidden bg-opacity-5 bg-white font-bold text-black dark:text-white",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:[p.jsxs("div",{className:"flex flex-col justify-center items-center w-full",children:[p.jsx("div",{className:"flex justify-end items-end w-full",children:p.jsx("button",{onClick:()=>An("/home/settings"),className:"material-icons p-1 rounded-full hover:text-gray-500 dark:hover:text-gray-200",children:"settings"})}),p.jsxs("div",{className:"w-[80%] flex flex-col justify-center items-center gap-4 pb-10",children:[p.jsxs("div",{className:"flex flex-col justify-center items-center gap-3",children:[p.jsx("i",{className:"material-icons",style:{fontSize:"100px"},children:"account_circle"}),p.jsx("p",{children:v&&v.displayName})]}),E.map(Y=>p.jsxs("a",{href:`/home/${Y.title}`,className:"flex h-10 gap-5 w-full px-5 border-b border-gray-400",onClick:()=>I(Y.title),children:[p.jsx("i",{className:"material-icons",children:Y.icon}),t(Y.title)]},Y.title)),p.jsxs("div",{className:"w-full flex items-start",children:[p.jsxs("a",{href:"/home/dashboard",className:"flex h-10 gap-5 w-full px-5 border-b border-gray-400",onClick:()=>I("dashboard"),children:[p.jsx("i",{className:"material-icons",children:"dashboard"}),t("dashboard")]},"dashboard"),p.jsx("button",{onClick:()=>{u(!c)},className:"material-icons",children:c?"expand_less":"expand_more"})]}),c&&A.map(Y=>p.jsx("a",{href:`/home/dashboard/${Y.title}`,className:"flex w-full pl-10 h-10  ",onClick:()=>I(Y.title),children:p.jsxs("div",{className:"w-full flex gap-5 border-b border-gray-400",children:[p.jsx("i",{className:"material-icons",children:Y.icon}),t(Y.title)]})},Y.title)),p.jsxs("div",{className:"w-full py-2",children:[p.jsxs("button",{onClick:()=>i(!r),className:"flex justify-between items-center gap-1",children:[p.jsx("i",{className:"material-icons",children:"translate"}),t("languageName"),p.jsx("i",{className:"material-icons",children:"expand_more"})]}),r&&p.jsxs("div",{className:"flex flex-col justify-center items-start gap-3 py-2 px-7",children:[p.jsx("button",{onClick:()=>H("en",gu),className:"flex justify-between items-center",children:"English (US)"}),p.jsx("button",{onClick:()=>H("ru",i0),className:"flex justify-between items-center",children:""}),p.jsx("button",{onClick:()=>H("de",t0),className:"flex justify-between items-center",children:"Deutsch"}),p.jsx("button",{onClick:()=>H("it",n0),className:"flex justify-between items-center",children:"Italiano"}),p.jsx("button",{onClick:()=>H("zh",r0),className:"flex justify-between items-center",children:" ()"})]})]}),p.jsxs("div",{className:"w-full p-5 h-12 flex justify-between items-center bg-gray-300  bg-opacity-20 rounded-lg",children:[t("darkMode"),p.jsxs("label",{className:"toggle-switch",children:[p.jsx("input",{type:"checkbox",checked:m.theme==="dark",onChange:Y=>V(Y.target.checked?"dark":"light")}),p.jsx("span",{className:"switch"})]})]}),p.jsxs("button",{className:"w-full p-5 h-12 flex justify-start items-center bg-gray-300 bg-opacity-20 rounded-lg gap-2 hover:bg-gray-400 dark:hover:bg-gray-500",onClick:f,children:[p.jsx("i",{className:"material-icons",children:"logout"}),t("signOut")]})]})]}),p.jsxs("div",{className:"flex gap-4 text-lg ",children:[p.jsx("a",{href:"https://www.instagram.com",className:"fa fa-instagram cursor-pointer p-1 text-fuchsia-400",target:"_blank","aria-hidden":"true"}),p.jsx("a",{href:"https://wa.me/972543921507",className:"fa fa-whatsapp cursor-pointer p-1 text-green",target:"_blank","aria-hidden":"true"}),p.jsx("a",{href:"https://www.facebook.com",className:"fa fa-facebook-official cursor-pointer p-1 text-blue-500",target:"_blank","aria-hidden":"true"})]})]}),p.jsx(La,{title:"signOutTitle",message:"signOutMessage",messageType:"confirm-warnning",action:D,isVisible:d,onClose:g})]})}const IA=({isAuthenticated:t,children:e})=>t?p.jsx(ml,{to:"/home",replace:!0}):e;function vde(){const[t,e]=$s(kO),{currentUser:n}=xi();return S.useEffect(()=>{localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),e({...t,theme:"dark"})):(document.documentElement.classList.remove("dark"),e({...t,theme:"light"}))},[]),p.jsxs("div",{className:"App flex flex-col",children:[p.jsx(yde,{}),p.jsxs(Q5,{children:[p.jsxs($t,{path:"welcome",element:p.jsx(IA,{isAuthenticated:n,children:p.jsx(nb,{})}),children:[p.jsx($t,{path:"",element:p.jsx(Voe,{})}),p.jsx($t,{path:"login",element:p.jsx(Ete,{})}),p.jsx($t,{path:"signup",element:p.jsx(Ite,{})}),p.jsx($t,{path:"*",element:p.jsx(ml,{replace:!0,to:""})})]}),p.jsxs($t,{path:"home",element:p.jsx(nte,{isAuthenticated:n}),children:[p.jsx($t,{index:!0,element:p.jsx(Ste,{})}),p.jsx($t,{path:"settings",element:p.jsx(Wue,{})}),p.jsx($t,{path:"coins",element:p.jsx(Doe,{})}),p.jsx($t,{path:"news",element:p.jsx(Loe,{})}),p.jsx($t,{path:"transactions-history",element:p.jsx(zue,{})}),p.jsxs($t,{path:"dashboard",element:p.jsx(nb,{}),children:[p.jsx($t,{path:"",element:p.jsx($oe,{})}),p.jsx($t,{path:"cashin",element:p.jsx(Mue,{})}),p.jsx($t,{path:"withdraw",element:p.jsx(Lue,{})}),p.jsx($t,{path:"*",element:p.jsx(ml,{replace:!0,to:""})})]}),p.jsx($t,{path:"*",element:p.jsx(ml,{replace:!0,to:""})})]}),p.jsx($t,{path:"*",element:p.jsx(IA,{isAuthenticated:n,children:p.jsx(ml,{replace:!0,to:"/welcome"})})})]})]})}function An(t){window.location.replace(t)}function Ow(t){"@babel/helpers - typeof";return Ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ow(t)}function p$(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Ow(XMLHttpRequest))==="object"}function _de(t){return!!t&&typeof t.then=="function"}function bde(t){return _de(t)?t:Promise.resolve(t)}function wde(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Mw={exports:{}},yp={exports:{}},TA;function xde(){return TA||(TA=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ju<"u"&&ju,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof a<"u"&&a,l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(R){return R&&DataView.prototype.isPrototypeOf(R)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(R){return R&&u.indexOf(Object.prototype.toString.call(R))>-1};function h(R){if(typeof R!="string"&&(R=String(R)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(R)||R==="")throw new TypeError('Invalid character in header field name: "'+R+'"');return R.toLowerCase()}function f(R){return typeof R!="string"&&(R=String(R)),R}function g(R){var C={next:function(){var j=R.shift();return{done:j===void 0,value:j}}};return l.iterable&&(C[Symbol.iterator]=function(){return C}),C}function m(R){this.map={},R instanceof m?R.forEach(function(C,j){this.append(j,C)},this):Array.isArray(R)?R.forEach(function(C){this.append(C[0],C[1])},this):R&&Object.getOwnPropertyNames(R).forEach(function(C){this.append(C,R[C])},this)}m.prototype.append=function(R,C){R=h(R),C=f(C);var j=this.map[R];this.map[R]=j?j+", "+C:C},m.prototype.delete=function(R){delete this.map[h(R)]},m.prototype.get=function(R){return R=h(R),this.has(R)?this.map[R]:null},m.prototype.has=function(R){return this.map.hasOwnProperty(h(R))},m.prototype.set=function(R,C){this.map[h(R)]=f(C)},m.prototype.forEach=function(R,C){for(var j in this.map)this.map.hasOwnProperty(j)&&R.call(C,this.map[j],j,this)},m.prototype.keys=function(){var R=[];return this.forEach(function(C,j){R.push(j)}),g(R)},m.prototype.values=function(){var R=[];return this.forEach(function(C){R.push(C)}),g(R)},m.prototype.entries=function(){var R=[];return this.forEach(function(C,j){R.push([j,C])}),g(R)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function _(R){if(R.bodyUsed)return Promise.reject(new TypeError("Already read"));R.bodyUsed=!0}function v(R){return new Promise(function(C,j){R.onload=function(){C(R.result)},R.onerror=function(){j(R.error)}})}function y(R){var C=new FileReader,j=v(C);return C.readAsArrayBuffer(R),j}function b(R){var C=new FileReader,j=v(C);return C.readAsText(R),j}function w(R){for(var C=new Uint8Array(R),j=new Array(C.length),M=0;M<C.length;M++)j[M]=String.fromCharCode(C[M]);return j.join("")}function x(R){if(R.slice)return R.slice(0);var C=new Uint8Array(R.byteLength);return C.set(new Uint8Array(R)),C.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(R){this.bodyUsed=this.bodyUsed,this._bodyInit=R,R?typeof R=="string"?this._bodyText=R:l.blob&&Blob.prototype.isPrototypeOf(R)?this._bodyBlob=R:l.formData&&FormData.prototype.isPrototypeOf(R)?this._bodyFormData=R:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)?this._bodyText=R.toString():l.arrayBuffer&&l.blob&&c(R)?(this._bodyArrayBuffer=x(R.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(R)||d(R))?this._bodyArrayBuffer=x(R):this._bodyText=R=Object.prototype.toString.call(R):this._bodyText="",this.headers.get("content-type")||(typeof R=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var R=_(this);if(R)return R;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var R=_(this);return R||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(y)}),this.text=function(){var R=_(this);if(R)return R;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}var T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(R){var C=R.toUpperCase();return T.indexOf(C)>-1?C:R}function A(R,C){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');C=C||{};var j=C.body;if(R instanceof A){if(R.bodyUsed)throw new TypeError("Already read");this.url=R.url,this.credentials=R.credentials,C.headers||(this.headers=new m(R.headers)),this.method=R.method,this.mode=R.mode,this.signal=R.signal,!j&&R._bodyInit!=null&&(j=R._bodyInit,R.bodyUsed=!0)}else this.url=String(R);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new m(C.headers)),this.method=E(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&j)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(j),(this.method==="GET"||this.method==="HEAD")&&(C.cache==="no-store"||C.cache==="no-cache")){var M=/([?&])_=[^&]*/;if(M.test(this.url))this.url=this.url.replace(M,"$1_="+new Date().getTime());else{var U=/\?/;this.url+=(U.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function D(R){var C=new FormData;return R.trim().split("&").forEach(function(j){if(j){var M=j.split("="),U=M.shift().replace(/\+/g," "),F=M.join("=").replace(/\+/g," ");C.append(decodeURIComponent(U),decodeURIComponent(F))}}),C}function V(R){var C=new m,j=R.replace(/\r?\n[\t ]+/g," ");return j.split("\r").map(function(M){return M.indexOf(`
`)===0?M.substr(1,M.length):M}).forEach(function(M){var U=M.split(":"),F=U.shift().trim();if(F){var ie=U.join(":").trim();C.append(F,ie)}}),C}I.call(A.prototype);function H(R,C){if(!(this instanceof H))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.ok=this.status>=200&&this.status<300,this.statusText=C.statusText===void 0?"":""+C.statusText,this.headers=new m(C.headers),this.url=C.url||"",this._initBody(R)}I.call(H.prototype),H.prototype.clone=function(){return new H(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},H.error=function(){var R=new H(null,{status:0,statusText:""});return R.type="error",R};var X=[301,302,303,307,308];H.redirect=function(R,C){if(X.indexOf(C)===-1)throw new RangeError("Invalid status code");return new H(null,{status:C,headers:{location:R}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(C,j){this.message=C,this.name=j;var M=Error(C);this.stack=M.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function Y(R,C){return new Promise(function(j,M){var U=new A(R,C);if(U.signal&&U.signal.aborted)return M(new o.DOMException("Aborted","AbortError"));var F=new XMLHttpRequest;function ie(){F.abort()}F.onload=function(){var $={status:F.status,statusText:F.statusText,headers:V(F.getAllResponseHeaders()||"")};$.url="responseURL"in F?F.responseURL:$.headers.get("X-Request-URL");var B="response"in F?F.response:F.responseText;setTimeout(function(){j(new H(B,$))},0)},F.onerror=function(){setTimeout(function(){M(new TypeError("Network request failed"))},0)},F.ontimeout=function(){setTimeout(function(){M(new TypeError("Network request failed"))},0)},F.onabort=function(){setTimeout(function(){M(new o.DOMException("Aborted","AbortError"))},0)};function k($){try{return $===""&&a.location.href?a.location.href:$}catch{return $}}F.open(U.method,k(U.url),!0),U.credentials==="include"?F.withCredentials=!0:U.credentials==="omit"&&(F.withCredentials=!1),"responseType"in F&&(l.blob?F.responseType="blob":l.arrayBuffer&&U.headers.get("Content-Type")&&U.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(F.responseType="arraybuffer")),C&&typeof C.headers=="object"&&!(C.headers instanceof m)?Object.getOwnPropertyNames(C.headers).forEach(function($){F.setRequestHeader($,f(C.headers[$]))}):U.headers.forEach(function($,B){F.setRequestHeader(B,$)}),U.signal&&(U.signal.addEventListener("abort",ie),F.onreadystatechange=function(){F.readyState===4&&U.signal.removeEventListener("abort",ie)}),F.send(typeof U._bodyInit>"u"?null:U._bodyInit)})}return Y.polyfill=!0,a.fetch||(a.fetch=Y,a.Headers=m,a.Request=A,a.Response=H),o.Headers=m,o.Request=A,o.Response=H,o.fetch=Y,o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(yp,yp.exports)),yp.exports}(function(t,e){var n;if(typeof fetch=="function"&&(typeof ju<"u"&&ju.fetch?n=ju.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof wde<"u"&&(typeof window>"u"||typeof window.document>"u")){var r=n||xde();r.default&&(r=r.default),e.default=r,t.exports=e.default}})(Mw,Mw.exports);var g$=Mw.exports;const m$=Vw(g$),RA=FA({__proto__:null,default:m$},[g$]);function CA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CA(Object(n),!0).forEach(function(r){Sde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sde(t,e,n){return e=Ede(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ede(t){var e=Ide(t,"string");return Sa(e)=="symbol"?e:String(e)}function Ide(t,e){if(Sa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sa(t){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(t)}var zi;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?zi=global.fetch:typeof window<"u"&&window.fetch?zi=window.fetch:zi=fetch);var wh;p$()&&(typeof global<"u"&&global.XMLHttpRequest?wh=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(wh=window.XMLHttpRequest));var Tm;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Tm=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Tm=window.ActiveXObject));!zi&&RA&&!wh&&!Tm&&(zi=m$||RA);typeof zi!="function"&&(zi=void 0);var Lw=function(e,n){if(n&&Sa(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},AA=function(e,n,r,i){var s=function(l){if(!l.ok)return r(l.statusText||"Error",{status:l.status});l.text().then(function(c){r(null,{status:l.status,data:c})}).catch(r)};if(i){var o=i(e,n);if(o instanceof Promise){o.then(s).catch(r);return}}typeof fetch=="function"?fetch(e,n).then(s).catch(r):zi(e,n).then(s).catch(r)},PA=!1,Tde=function(e,n,r,i){e.queryStringParams&&(n=Lw(n,e.queryStringParams));var s=kA({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(s["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,a=kA({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:s},PA?{}:o),l=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{AA(n,a,i,l)}catch(c){if(!o||Object.keys(o).length===0||!c.message||c.message.indexOf("not implemented")<0)return i(c);try{Object.keys(o).forEach(function(u){delete a[u]}),AA(n,a,i,l),PA=!0}catch(u){i(u)}}},Rde=function(e,n,r,i){r&&Sa(r)==="object"&&(r=Lw("",r).slice(1)),e.queryStringParams&&(n=Lw(n,e.queryStringParams));try{var s;wh?s=new wh:s=new Tm("MSXML2.XMLHTTP.3.0"),s.open(r?"POST":"GET",n,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,r&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var a in o)s.setRequestHeader(a,o[a]);s.onreadystatechange=function(){s.readyState>3&&i(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(r)}catch(l){console&&console.log(l)}},Cde=function(e,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},zi&&n.indexOf("file:")!==0)return Tde(e,n,r,i);if(p$()||typeof ActiveXObject=="function")return Rde(e,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function NA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NA(Object(n),!0).forEach(function(r){y$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v$(r.key),r)}}function Ade(t,e,n){return e&&DA(t.prototype,e),n&&DA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y$(t,e,n){return e=v$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v$(t){var e=Pde(t,"string");return xh(e)=="symbol"?e:String(e)}function Pde(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nde=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return y$({},r,i||"")},parseLoadPayload:function(n,r){},request:Cde,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},_$=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};kde(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return Ade(t,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=o0(o0(o0({},Nde()),this.options||{}),i),this.allOptions=s,this.services&&this.options.reloadInterval&&setInterval(function(){return r.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,s,o){var a=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(n,i)),l=bde(l),l.then(function(c){if(!c)return o(null,{});var u=a.services.interpolator.interpolate(c,{lng:n.join("+"),ns:i.join("+")});a.loadUrl(u,o,r,s)})}},{key:"loadUrl",value:function(n,r,i,s){var o=this,a=typeof i=="string"?[i]:i,l=typeof s=="string"?[s]:s,c=this.options.parseLoadPayload(a,l);this.options.request(this.options,n,c,function(u,d){if(d&&(d.status>=500&&d.status<600||!d.status))return r("failed loading "+n+"; status code: "+d.status,!0);if(d&&d.status>=400&&d.status<500)return r("failed loading "+n+"; status code: "+d.status,!1);if(!d&&u&&u.message&&u.message.indexOf("Failed to fetch")>-1)return r("failed loading "+n+": "+u.message,!0);if(u)return r(u,!1);var h,f;try{typeof d.data=="string"?h=o.options.parse(d.data,i,s):h=d.data}catch{f="failed parsing "+n+" to json"}if(f)return r(f,!1);r(null,h)})}},{key:"create",value:function(n,r,i,s,o){var a=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var l=this.options.parsePayload(r,i,s),c=0,u=[],d=[];n.forEach(function(h){var f=a.options.addPath;typeof a.options.addPath=="function"&&(f=a.options.addPath(h,r));var g=a.services.interpolator.interpolate(f,{lng:h,ns:r});a.options.request(a.options,g,l,function(m,_){c+=1,u.push(m),d.push(_),c===n.length&&typeof o=="function"&&o(u,d)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,s=r.languageUtils,o=r.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var l=[],c=function(d){var h=s.toResolveHierarchy(d);h.forEach(function(f){l.indexOf(f)<0&&l.push(f)})};c(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(u){return c(u)}),l.forEach(function(u){n.allOptions.ns.forEach(function(d){i.read(u,d,"read",null,null,function(h,f){h&&o.warn("loading namespace ".concat(d," for language ").concat(u," failed"),h),!h&&f&&o.log("loaded namespace ".concat(d," for language ").concat(u),f),i.loaded("".concat(u,"|").concat(d),h,f)})})})}}}]),t}();_$.type="backend";var b$=[],Dde=b$.forEach,Ode=b$.slice;function Mde(t){return Dde.call(Ode.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}var OA=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Lde=function(e,n,r){var i=r||{};i.path=i.path||"/";var s=encodeURIComponent(n),o="".concat(e,"=").concat(s);if(i.maxAge>0){var a=i.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(i.domain){if(!OA.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(i.domain)}if(i.path){if(!OA.test(i.path))throw new TypeError("option path is invalid");o+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite){var l=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(l){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},MA={create:function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+r*60*1e3)),i&&(s.domain=i),document.cookie=Lde(e,encodeURIComponent(n),s)},read:function(e){for(var n="".concat(e,"="),r=document.cookie.split(";"),i=0;i<r.length;i++){for(var s=r[i];s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(n)===0)return s.substring(n.length,s.length)}return null},remove:function(e){this.create(e,"",-1)}},Vde={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document<"u"){var r=MA.read(e.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document<"u"&&MA.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},Fde={name:"querystring",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=r.substring(1),s=i.split("&"),o=0;o<s.length;o++){var a=s[o].indexOf("=");if(a>0){var l=s[o].substring(0,a);l===e.lookupQuerystring&&(n=s[o].substring(a+1))}}}return n}},yu=null,LA=function(){if(yu!==null)return yu;try{yu=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{yu=!1}return yu},jde={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&LA()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&LA()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},vu=null,VA=function(){if(vu!==null)return vu;try{vu=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{vu=!1}return vu},$de={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&VA()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&VA()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},Ude={name:"navigator",lookup:function(e){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},Bde={name:"htmlTag",lookup:function(e){var n,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},zde={name:"path",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;n=r[e.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},Wde={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};function Hde(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var w$=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};wj(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return xj(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=Mde(r,this.options||{},Hde()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(s){return s.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(Vde),this.addDetector(Fde),this.addDetector(jde),this.addDetector($de),this.addDetector(Ude),this.addDetector(Bde),this.addDetector(zde),this.addDetector(Wde)}},{key:"addDetector",value:function(n){this.detectors[n.name]=n}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var i=[];return n.forEach(function(s){if(r.detectors[s]){var o=r.detectors[s].lookup(r.options);o&&typeof o=="string"&&(o=[o]),o&&(i=i.concat(o))}}),i=i.map(function(s){return r.options.convertDetectedLanguage(s)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var i=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(s){i.detectors[s]&&i.detectors[s].cacheUserLanguage(n,i.options)}))}}]),t}();w$.type="languageDetector";Wt.use(_$).use(w$).use(pte).init({supportedLngs:["en","it","zh","ru","de"],fallbackLng:"en",detection:{order:["querystring","cookie","localStorage","path","subdomain"],caches:["cookie"]},backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"}});const qde=l0.createRoot(document.getElementById("root"));qde.render(p.jsx(Xe.StrictMode,{children:p.jsx(J5,{children:p.jsx(zH,{children:p.jsx(xte,{children:p.jsx(vde,{})})})})}));
