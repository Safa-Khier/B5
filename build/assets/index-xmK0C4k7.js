var mC=Object.defineProperty;var yC=(t,e,n)=>e in t?mC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var q=(t,e,n)=>(yC(t,typeof e!="symbol"?e+"":e,n),n);function dw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fw={exports:{}},T0={},pw={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=Symbol.for("react.element"),_C=Symbol.for("react.portal"),vC=Symbol.for("react.fragment"),wC=Symbol.for("react.strict_mode"),bC=Symbol.for("react.profiler"),EC=Symbol.for("react.provider"),TC=Symbol.for("react.context"),SC=Symbol.for("react.forward_ref"),IC=Symbol.for("react.suspense"),xC=Symbol.for("react.memo"),kC=Symbol.for("react.lazy"),P9=Symbol.iterator;function RC(t){return t===null||typeof t!="object"?null:(t=P9&&t[P9]||t["@@iterator"],typeof t=="function"?t:null)}var gw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mw=Object.assign,yw={};function Ll(t,e,n){this.props=t,this.context=e,this.refs=yw,this.updater=n||gw}Ll.prototype.isReactComponent={};Ll.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ll.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _w(){}_w.prototype=Ll.prototype;function Zy(t,e,n){this.props=t,this.context=e,this.refs=yw,this.updater=n||gw}var e_=Zy.prototype=new _w;e_.constructor=Zy;mw(e_,Ll.prototype);e_.isPureReactComponent=!0;var N9=Array.isArray,vw=Object.prototype.hasOwnProperty,t_={current:null},ww={key:!0,ref:!0,__self:!0,__source:!0};function bw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vw.call(e,r)&&!ww.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Uh,type:t,key:s,ref:o,props:i,_owner:t_.current}}function AC(t,e){return{$$typeof:Uh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function n_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uh}function CC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var D9=/\/+/g;function fm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CC(""+t.key):e.toString(36)}function Af(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Uh:case _C:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+fm(o,0):r,N9(i)?(n="",t!=null&&(n=t.replace(D9,"$&/")+"/"),Af(i,e,n,"",function(c){return c})):i!=null&&(n_(i)&&(i=AC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(D9,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",N9(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+fm(s,a);o+=Af(s,e,n,l,i)}else if(l=RC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+fm(s,a++),o+=Af(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Dd(t,e,n){if(t==null)return t;var r=[],i=0;return Af(t,r,"","",function(s){return e.call(n,s,i++)}),r}function PC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bn={current:null},Cf={transition:null},NC={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:Cf,ReactCurrentOwner:t_};Ae.Children={map:Dd,forEach:function(t,e,n){Dd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dd(t,function(){e++}),e},toArray:function(t){return Dd(t,function(e){return e})||[]},only:function(t){if(!n_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=Ll;Ae.Fragment=vC;Ae.Profiler=bC;Ae.PureComponent=Zy;Ae.StrictMode=wC;Ae.Suspense=IC;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NC;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=t_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)vw.call(e,l)&&!ww.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Uh,type:t.type,key:i,ref:s,props:r,_owner:o}};Ae.createContext=function(t){return t={$$typeof:TC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EC,_context:t},t.Consumer=t};Ae.createElement=bw;Ae.createFactory=function(t){var e=bw.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:SC,render:t}};Ae.isValidElement=n_;Ae.lazy=function(t){return{$$typeof:kC,_payload:{_status:-1,_result:t},_init:PC}};Ae.memo=function(t,e){return{$$typeof:xC,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=Cf.transition;Cf.transition={};try{t()}finally{Cf.transition=e}};Ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ae.useCallback=function(t,e){return bn.current.useCallback(t,e)};Ae.useContext=function(t){return bn.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return bn.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return bn.current.useEffect(t,e)};Ae.useId=function(){return bn.current.useId()};Ae.useImperativeHandle=function(t,e,n){return bn.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return bn.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return bn.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return bn.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return bn.current.useReducer(t,e,n)};Ae.useRef=function(t){return bn.current.useRef(t)};Ae.useState=function(t){return bn.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return bn.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return bn.current.useTransition()};Ae.version="18.2.0";pw.exports=Ae;var L=pw.exports;const We=Jy(L),DC=dw({__proto__:null,default:We},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC=L,LC=Symbol.for("react.element"),MC=Symbol.for("react.fragment"),VC=Object.prototype.hasOwnProperty,FC=OC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BC={key:!0,ref:!0,__self:!0,__source:!0};function Ew(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)VC.call(e,r)&&!BC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:LC,type:t,key:s,ref:o,props:i,_owner:FC.current}}T0.Fragment=MC;T0.jsx=Ew;T0.jsxs=Ew;fw.exports=T0;var b=fw.exports,P1={},Tw={exports:{}},Xn={},Sw={exports:{}},Iw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,U){var M=O.length;O.push(U);e:for(;0<M;){var ie=M-1>>>1,k=O[ie];if(0<i(k,U))O[ie]=U,O[M]=k,M=ie;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var U=O[0],M=O.pop();if(M!==U){O[0]=M;e:for(var ie=0,k=O.length,B=k>>>1;ie<B;){var j=2*(ie+1)-1,ce=O[j],X=j+1,we=O[X];if(0>i(ce,M))X<k&&0>i(we,ce)?(O[ie]=we,O[X]=M,ie=X):(O[ie]=ce,O[j]=M,ie=j);else if(X<k&&0>i(we,M))O[ie]=we,O[X]=M,ie=X;else break e}}return U}function i(O,U){var M=O.sortIndex-U.sortIndex;return M!==0?M:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=O)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function w(O){if(g=!1,v(O),!p)if(n(l)!==null)p=!0,D(E);else{var U=n(c);U!==null&&Q(w,U.startTime-O)}}function E(O,U){p=!1,g&&(g=!1,y(R),R=-1),f=!0;var M=d;try{for(v(U),h=n(l);h!==null&&(!(h.expirationTime>U)||O&&!K());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,d=h.priorityLevel;var k=ie(h.expirationTime<=U);U=t.unstable_now(),typeof k=="function"?h.callback=k:h===n(l)&&r(l),v(U)}else r(l);h=n(l)}if(h!==null)var B=!0;else{var j=n(c);j!==null&&Q(w,j.startTime-U),B=!1}return B}finally{h=null,d=M,f=!1}}var T=!1,S=null,R=-1,V=5,N=-1;function K(){return!(t.unstable_now()-N<V)}function ne(){if(S!==null){var O=t.unstable_now();N=O;var U=!0;try{U=S(!0,O)}finally{U?he():(T=!1,S=null)}}else T=!1}var he;if(typeof m=="function")he=function(){m(ne)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,I=be.port2;be.port1.onmessage=ne,he=function(){I.postMessage(null)}}else he=function(){_(ne,0)};function D(O){S=O,T||(T=!0,he())}function Q(O,U){R=_(function(){O(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,D(E))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var M=d;d=U;try{return O()}finally{d=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var M=d;d=O;try{return U()}finally{d=M}},t.unstable_scheduleCallback=function(O,U,M){var ie=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?ie+M:ie):M=ie,O){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=M+k,O={id:u++,callback:U,priorityLevel:O,startTime:M,expirationTime:k,sortIndex:-1},M>ie?(O.sortIndex=M,e(c,O),n(l)===null&&O===n(c)&&(g?(y(R),R=-1):g=!0,Q(w,M-ie))):(O.sortIndex=k,e(l,O),p||f||(p=!0,D(E))),O},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(O){var U=d;return function(){var M=d;d=U;try{return O.apply(this,arguments)}finally{d=M}}}})(Iw);Sw.exports=Iw;var $C=Sw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw=L,Kn=$C;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kw=new Set,Ou={};function Xo(t,e){rl(t,e),rl(t+"Capture",e)}function rl(t,e){for(Ou[t]=e,t=0;t<e.length;t++)kw.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N1=Object.prototype.hasOwnProperty,UC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O9={},L9={};function jC(t){return N1.call(L9,t)?!0:N1.call(O9,t)?!1:UC.test(t)?L9[t]=!0:(O9[t]=!0,!1)}function zC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WC(t,e,n,r){if(e===null||typeof e>"u"||zC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function En(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new En(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zt[e]=new En(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new En(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new En(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new En(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new En(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new En(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new En(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new En(t,5,!1,t.toLowerCase(),null,!1,!1)});var r_=/[\-:]([a-z])/g;function i_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(r_,i_);Zt[e]=new En(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(r_,i_);Zt[e]=new En(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(r_,i_);Zt[e]=new En(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new En(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new En(t,1,!1,t.toLowerCase(),null,!0,!0)});function s_(t,e,n,r){var i=Zt.hasOwnProperty(e)?Zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WC(e,n,i,r)&&(n=null),r||i===null?jC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ri=xw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Od=Symbol.for("react.element"),Ra=Symbol.for("react.portal"),Aa=Symbol.for("react.fragment"),o_=Symbol.for("react.strict_mode"),D1=Symbol.for("react.profiler"),Rw=Symbol.for("react.provider"),Aw=Symbol.for("react.context"),a_=Symbol.for("react.forward_ref"),O1=Symbol.for("react.suspense"),L1=Symbol.for("react.suspense_list"),l_=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),Cw=Symbol.for("react.offscreen"),M9=Symbol.iterator;function sc(t){return t===null||typeof t!="object"?null:(t=M9&&t[M9]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,pm;function Mc(t){if(pm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pm=e&&e[1]||""}return`
`+pm+t}var gm=!1;function mm(t,e){if(!t||gm)return"";gm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{gm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Mc(t):""}function HC(t){switch(t.tag){case 5:return Mc(t.type);case 16:return Mc("Lazy");case 13:return Mc("Suspense");case 19:return Mc("SuspenseList");case 0:case 2:case 15:return t=mm(t.type,!1),t;case 11:return t=mm(t.type.render,!1),t;case 1:return t=mm(t.type,!0),t;default:return""}}function M1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Aa:return"Fragment";case Ra:return"Portal";case D1:return"Profiler";case o_:return"StrictMode";case O1:return"Suspense";case L1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Aw:return(t.displayName||"Context")+".Consumer";case Rw:return(t._context.displayName||"Context")+".Provider";case a_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case l_:return e=t.displayName||null,e!==null?e:M1(t.type)||"Memo";case $i:e=t._payload,t=t._init;try{return M1(t(e))}catch{}}return null}function qC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M1(e);case 8:return e===o_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GC(t){var e=Pw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ld(t){t._valueTracker||(t._valueTracker=GC(t))}function Nw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Pw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function V1(t,e){var n=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V9(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dw(t,e){e=e.checked,e!=null&&s_(t,"checked",e,!1)}function F1(t,e){Dw(t,e);var n=fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?B1(t,e.type,n):e.hasOwnProperty("defaultValue")&&B1(t,e.type,fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function F9(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function B1(t,e,n){(e!=="number"||cp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vc=Array.isArray;function ja(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function B9(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Vc(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fs(n)}}function Ow(t,e){var n=fs(e.value),r=fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $9(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Lw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function U1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Lw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Md,Mw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Md=Md||document.createElement("div"),Md.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Md.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KC=["Webkit","ms","Moz","O"];Object.keys(nu).forEach(function(t){KC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nu[e]=nu[t]})});function Vw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nu.hasOwnProperty(t)&&nu[t]?(""+e).trim():e+"px"}function Fw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Vw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var QC=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function j1(t,e){if(e){if(QC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function z1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W1=null;function c_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var H1=null,za=null,Wa=null;function U9(t){if(t=Wh(t)){if(typeof H1!="function")throw Error(W(280));var e=t.stateNode;e&&(e=R0(e),H1(t.stateNode,t.type,e))}}function Bw(t){za?Wa?Wa.push(t):Wa=[t]:za=t}function $w(){if(za){var t=za,e=Wa;if(Wa=za=null,U9(t),e)for(t=0;t<e.length;t++)U9(e[t])}}function Uw(t,e){return t(e)}function jw(){}var ym=!1;function zw(t,e,n){if(ym)return t(e,n);ym=!0;try{return Uw(t,e,n)}finally{ym=!1,(za!==null||Wa!==null)&&(jw(),$w())}}function Mu(t,e){var n=t.stateNode;if(n===null)return null;var r=R0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var q1=!1;if(bi)try{var oc={};Object.defineProperty(oc,"passive",{get:function(){q1=!0}}),window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{q1=!1}function YC(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ru=!1,up=null,hp=!1,G1=null,XC={onError:function(t){ru=!0,up=t}};function JC(t,e,n,r,i,s,o,a,l){ru=!1,up=null,YC.apply(XC,arguments)}function ZC(t,e,n,r,i,s,o,a,l){if(JC.apply(this,arguments),ru){if(ru){var c=up;ru=!1,up=null}else throw Error(W(198));hp||(hp=!0,G1=c)}}function Jo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ww(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function j9(t){if(Jo(t)!==t)throw Error(W(188))}function eP(t){var e=t.alternate;if(!e){if(e=Jo(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return j9(i),t;if(s===r)return j9(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function Hw(t){return t=eP(t),t!==null?qw(t):null}function qw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qw(t);if(e!==null)return e;t=t.sibling}return null}var Gw=Kn.unstable_scheduleCallback,z9=Kn.unstable_cancelCallback,tP=Kn.unstable_shouldYield,nP=Kn.unstable_requestPaint,Et=Kn.unstable_now,rP=Kn.unstable_getCurrentPriorityLevel,u_=Kn.unstable_ImmediatePriority,Kw=Kn.unstable_UserBlockingPriority,dp=Kn.unstable_NormalPriority,iP=Kn.unstable_LowPriority,Qw=Kn.unstable_IdlePriority,S0=null,Hr=null;function sP(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(S0,t,void 0,(t.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:lP,oP=Math.log,aP=Math.LN2;function lP(t){return t>>>=0,t===0?32:31-(oP(t)/aP|0)|0}var Vd=64,Fd=4194304;function Fc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fc(a):(s&=o,s!==0&&(r=Fc(s)))}else o=n&~i,o!==0?r=Fc(o):s!==0&&(r=Fc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wr(e),i=1<<n,r|=t[n],e&=~i;return r}function cP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-wr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=cP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function K1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yw(){var t=Vd;return Vd<<=1,!(Vd&4194240)&&(Vd=64),t}function _m(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wr(e),t[e]=n}function hP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-wr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function h_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function Xw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Jw,d_,Zw,eb,tb,Q1=!1,Bd=[],ns=null,rs=null,is=null,Vu=new Map,Fu=new Map,zi=[],dP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W9(t,e){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Vu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(e.pointerId)}}function ac(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wh(e),e!==null&&d_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fP(t,e,n,r,i){switch(e){case"focusin":return ns=ac(ns,t,e,n,r,i),!0;case"dragenter":return rs=ac(rs,t,e,n,r,i),!0;case"mouseover":return is=ac(is,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Vu.set(s,ac(Vu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fu.set(s,ac(Fu.get(s)||null,t,e,n,r,i)),!0}return!1}function nb(t){var e=co(t.target);if(e!==null){var n=Jo(e);if(n!==null){if(e=n.tag,e===13){if(e=Ww(n),e!==null){t.blockedOn=e,tb(t.priority,function(){Zw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Y1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);W1=r,n.target.dispatchEvent(r),W1=null}else return e=Wh(n),e!==null&&d_(e),t.blockedOn=n,!1;e.shift()}return!0}function H9(t,e,n){Pf(t)&&n.delete(e)}function pP(){Q1=!1,ns!==null&&Pf(ns)&&(ns=null),rs!==null&&Pf(rs)&&(rs=null),is!==null&&Pf(is)&&(is=null),Vu.forEach(H9),Fu.forEach(H9)}function lc(t,e){t.blockedOn===e&&(t.blockedOn=null,Q1||(Q1=!0,Kn.unstable_scheduleCallback(Kn.unstable_NormalPriority,pP)))}function Bu(t){function e(i){return lc(i,t)}if(0<Bd.length){lc(Bd[0],t);for(var n=1;n<Bd.length;n++){var r=Bd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ns!==null&&lc(ns,t),rs!==null&&lc(rs,t),is!==null&&lc(is,t),Vu.forEach(e),Fu.forEach(e),n=0;n<zi.length;n++)r=zi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zi.length&&(n=zi[0],n.blockedOn===null);)nb(n),n.blockedOn===null&&zi.shift()}var Ha=Ri.ReactCurrentBatchConfig,pp=!0;function gP(t,e,n,r){var i=Me,s=Ha.transition;Ha.transition=null;try{Me=1,f_(t,e,n,r)}finally{Me=i,Ha.transition=s}}function mP(t,e,n,r){var i=Me,s=Ha.transition;Ha.transition=null;try{Me=4,f_(t,e,n,r)}finally{Me=i,Ha.transition=s}}function f_(t,e,n,r){if(pp){var i=Y1(t,e,n,r);if(i===null)Rm(t,e,r,gp,n),W9(t,r);else if(fP(i,t,e,n,r))r.stopPropagation();else if(W9(t,r),e&4&&-1<dP.indexOf(t)){for(;i!==null;){var s=Wh(i);if(s!==null&&Jw(s),s=Y1(t,e,n,r),s===null&&Rm(t,e,r,gp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Rm(t,e,r,null,n)}}var gp=null;function Y1(t,e,n,r){if(gp=null,t=c_(r),t=co(t),t!==null)if(e=Jo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ww(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gp=t,null}function rb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rP()){case u_:return 1;case Kw:return 4;case dp:case iP:return 16;case Qw:return 536870912;default:return 16}default:return 16}}var Gi=null,p_=null,Nf=null;function ib(){if(Nf)return Nf;var t,e=p_,n=e.length,r,i="value"in Gi?Gi.value:Gi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Nf=i.slice(t,1<r?1-r:void 0)}function Df(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $d(){return!0}function q9(){return!1}function Jn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$d:q9,this.isPropagationStopped=q9,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$d)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$d)},persist:function(){},isPersistent:$d}),e}var Ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},g_=Jn(Ml),zh=dt({},Ml,{view:0,detail:0}),yP=Jn(zh),vm,wm,cc,I0=dt({},zh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:m_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cc&&(cc&&t.type==="mousemove"?(vm=t.screenX-cc.screenX,wm=t.screenY-cc.screenY):wm=vm=0,cc=t),vm)},movementY:function(t){return"movementY"in t?t.movementY:wm}}),G9=Jn(I0),_P=dt({},I0,{dataTransfer:0}),vP=Jn(_P),wP=dt({},zh,{relatedTarget:0}),bm=Jn(wP),bP=dt({},Ml,{animationName:0,elapsedTime:0,pseudoElement:0}),EP=Jn(bP),TP=dt({},Ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SP=Jn(TP),IP=dt({},Ml,{data:0}),K9=Jn(IP),xP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RP[t])?!!e[t]:!1}function m_(){return AP}var CP=dt({},zh,{key:function(t){if(t.key){var e=xP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Df(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:m_,charCode:function(t){return t.type==="keypress"?Df(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Df(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PP=Jn(CP),NP=dt({},I0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q9=Jn(NP),DP=dt({},zh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:m_}),OP=Jn(DP),LP=dt({},Ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),MP=Jn(LP),VP=dt({},I0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FP=Jn(VP),BP=[9,13,27,32],y_=bi&&"CompositionEvent"in window,iu=null;bi&&"documentMode"in document&&(iu=document.documentMode);var $P=bi&&"TextEvent"in window&&!iu,sb=bi&&(!y_||iu&&8<iu&&11>=iu),Y9=" ",X9=!1;function ob(t,e){switch(t){case"keyup":return BP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ab(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function UP(t,e){switch(t){case"compositionend":return ab(e);case"keypress":return e.which!==32?null:(X9=!0,Y9);case"textInput":return t=e.data,t===Y9&&X9?null:t;default:return null}}function jP(t,e){if(Ca)return t==="compositionend"||!y_&&ob(t,e)?(t=ib(),Nf=p_=Gi=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sb&&e.locale!=="ko"?null:e.data;default:return null}}var zP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J9(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zP[t.type]:e==="textarea"}function lb(t,e,n,r){Bw(r),e=mp(e,"onChange"),0<e.length&&(n=new g_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var su=null,$u=null;function WP(t){vb(t,0)}function x0(t){var e=Da(t);if(Nw(e))return t}function HP(t,e){if(t==="change")return e}var cb=!1;if(bi){var Em;if(bi){var Tm="oninput"in document;if(!Tm){var Z9=document.createElement("div");Z9.setAttribute("oninput","return;"),Tm=typeof Z9.oninput=="function"}Em=Tm}else Em=!1;cb=Em&&(!document.documentMode||9<document.documentMode)}function e4(){su&&(su.detachEvent("onpropertychange",ub),$u=su=null)}function ub(t){if(t.propertyName==="value"&&x0($u)){var e=[];lb(e,$u,t,c_(t)),zw(WP,e)}}function qP(t,e,n){t==="focusin"?(e4(),su=e,$u=n,su.attachEvent("onpropertychange",ub)):t==="focusout"&&e4()}function GP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return x0($u)}function KP(t,e){if(t==="click")return x0(e)}function QP(t,e){if(t==="input"||t==="change")return x0(e)}function YP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tr=typeof Object.is=="function"?Object.is:YP;function Uu(t,e){if(Tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!N1.call(e,i)||!Tr(t[i],e[i]))return!1}return!0}function t4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function n4(t,e){var n=t4(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=t4(n)}}function hb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function db(){for(var t=window,e=cp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cp(t.document)}return e}function __(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XP(t){var e=db(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hb(n.ownerDocument.documentElement,n)){if(r!==null&&__(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=n4(n,s);var o=n4(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JP=bi&&"documentMode"in document&&11>=document.documentMode,Pa=null,X1=null,ou=null,J1=!1;function r4(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;J1||Pa==null||Pa!==cp(r)||(r=Pa,"selectionStart"in r&&__(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ou&&Uu(ou,r)||(ou=r,r=mp(X1,"onSelect"),0<r.length&&(e=new g_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Pa)))}function Ud(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Na={animationend:Ud("Animation","AnimationEnd"),animationiteration:Ud("Animation","AnimationIteration"),animationstart:Ud("Animation","AnimationStart"),transitionend:Ud("Transition","TransitionEnd")},Sm={},fb={};bi&&(fb=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function k0(t){if(Sm[t])return Sm[t];if(!Na[t])return t;var e=Na[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fb)return Sm[t]=e[n];return t}var pb=k0("animationend"),gb=k0("animationiteration"),mb=k0("animationstart"),yb=k0("transitionend"),_b=new Map,i4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(t,e){_b.set(t,e),Xo(e,[t])}for(var Im=0;Im<i4.length;Im++){var xm=i4[Im],ZP=xm.toLowerCase(),eN=xm[0].toUpperCase()+xm.slice(1);Cs(ZP,"on"+eN)}Cs(pb,"onAnimationEnd");Cs(gb,"onAnimationIteration");Cs(mb,"onAnimationStart");Cs("dblclick","onDoubleClick");Cs("focusin","onFocus");Cs("focusout","onBlur");Cs(yb,"onTransitionEnd");rl("onMouseEnter",["mouseout","mouseover"]);rl("onMouseLeave",["mouseout","mouseover"]);rl("onPointerEnter",["pointerout","pointerover"]);rl("onPointerLeave",["pointerout","pointerover"]);Xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bc));function s4(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZC(r,e,void 0,t),t.currentTarget=null}function vb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;s4(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;s4(i,a,c),s=l}}}if(hp)throw t=G1,hp=!1,G1=null,t}function qe(t,e){var n=e[r2];n===void 0&&(n=e[r2]=new Set);var r=t+"__bubble";n.has(r)||(wb(e,t,2,!1),n.add(r))}function km(t,e,n){var r=0;e&&(r|=4),wb(n,t,r,e)}var jd="_reactListening"+Math.random().toString(36).slice(2);function ju(t){if(!t[jd]){t[jd]=!0,kw.forEach(function(n){n!=="selectionchange"&&(tN.has(n)||km(n,!1,t),km(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jd]||(e[jd]=!0,km("selectionchange",!1,e))}}function wb(t,e,n,r){switch(rb(e)){case 1:var i=gP;break;case 4:i=mP;break;default:i=f_}n=i.bind(null,e,n,t),i=void 0,!q1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Rm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=co(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}zw(function(){var c=s,u=c_(n),h=[];e:{var d=_b.get(t);if(d!==void 0){var f=g_,p=t;switch(t){case"keypress":if(Df(n)===0)break e;case"keydown":case"keyup":f=PP;break;case"focusin":p="focus",f=bm;break;case"focusout":p="blur",f=bm;break;case"beforeblur":case"afterblur":f=bm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=G9;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=vP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=OP;break;case pb:case gb:case mb:f=EP;break;case yb:f=MP;break;case"scroll":f=yP;break;case"wheel":f=FP;break;case"copy":case"cut":case"paste":f=SP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Q9}var g=(e&4)!==0,_=!g&&t==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var m=c,v;m!==null;){v=m;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,y!==null&&(w=Mu(m,y),w!=null&&g.push(zu(m,w,v)))),_)break;m=m.return}0<g.length&&(d=new f(d,p,null,n,u),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==W1&&(p=n.relatedTarget||n.fromElement)&&(co(p)||p[Ei]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?co(p):null,p!==null&&(_=Jo(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(g=G9,w="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=Q9,w="onPointerLeave",y="onPointerEnter",m="pointer"),_=f==null?d:Da(f),v=p==null?d:Da(p),d=new g(w,m+"leave",f,n,u),d.target=_,d.relatedTarget=v,w=null,co(u)===c&&(g=new g(y,m+"enter",p,n,u),g.target=v,g.relatedTarget=_,w=g),_=w,f&&p)t:{for(g=f,y=p,m=0,v=g;v;v=ha(v))m++;for(v=0,w=y;w;w=ha(w))v++;for(;0<m-v;)g=ha(g),m--;for(;0<v-m;)y=ha(y),v--;for(;m--;){if(g===y||y!==null&&g===y.alternate)break t;g=ha(g),y=ha(y)}g=null}else g=null;f!==null&&o4(h,d,f,g,!1),p!==null&&_!==null&&o4(h,_,p,g,!0)}}e:{if(d=c?Da(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var E=HP;else if(J9(d))if(cb)E=QP;else{E=GP;var T=qP}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=KP);if(E&&(E=E(t,c))){lb(h,E,n,u);break e}T&&T(t,d,c),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&B1(d,"number",d.value)}switch(T=c?Da(c):window,t){case"focusin":(J9(T)||T.contentEditable==="true")&&(Pa=T,X1=c,ou=null);break;case"focusout":ou=X1=Pa=null;break;case"mousedown":J1=!0;break;case"contextmenu":case"mouseup":case"dragend":J1=!1,r4(h,n,u);break;case"selectionchange":if(JP)break;case"keydown":case"keyup":r4(h,n,u)}var S;if(y_)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ca?ob(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(sb&&n.locale!=="ko"&&(Ca||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ca&&(S=ib()):(Gi=u,p_="value"in Gi?Gi.value:Gi.textContent,Ca=!0)),T=mp(c,R),0<T.length&&(R=new K9(R,t,null,n,u),h.push({event:R,listeners:T}),S?R.data=S:(S=ab(n),S!==null&&(R.data=S)))),(S=$P?UP(t,n):jP(t,n))&&(c=mp(c,"onBeforeInput"),0<c.length&&(u=new K9("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=S))}vb(h,e)})}function zu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Mu(t,n),s!=null&&r.unshift(zu(t,s,i)),s=Mu(t,e),s!=null&&r.push(zu(t,s,i))),t=t.return}return r}function ha(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function o4(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Mu(n,s),l!=null&&o.unshift(zu(n,l,a))):i||(l=Mu(n,s),l!=null&&o.push(zu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nN=/\r\n?/g,rN=/\u0000|\uFFFD/g;function a4(t){return(typeof t=="string"?t:""+t).replace(nN,`
`).replace(rN,"")}function zd(t,e,n){if(e=a4(e),a4(t)!==e&&n)throw Error(W(425))}function yp(){}var Z1=null,e2=null;function t2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var n2=typeof setTimeout=="function"?setTimeout:void 0,iN=typeof clearTimeout=="function"?clearTimeout:void 0,l4=typeof Promise=="function"?Promise:void 0,sN=typeof queueMicrotask=="function"?queueMicrotask:typeof l4<"u"?function(t){return l4.resolve(null).then(t).catch(oN)}:n2;function oN(t){setTimeout(function(){throw t})}function Am(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bu(e)}function ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function c4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vl=Math.random().toString(36).slice(2),Nr="__reactFiber$"+Vl,Wu="__reactProps$"+Vl,Ei="__reactContainer$"+Vl,r2="__reactEvents$"+Vl,aN="__reactListeners$"+Vl,lN="__reactHandles$"+Vl;function co(t){var e=t[Nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ei]||n[Nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=c4(t);t!==null;){if(n=t[Nr])return n;t=c4(t)}return e}t=n,n=t.parentNode}return null}function Wh(t){return t=t[Nr]||t[Ei],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Da(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function R0(t){return t[Wu]||null}var i2=[],Oa=-1;function Ps(t){return{current:t}}function Xe(t){0>Oa||(t.current=i2[Oa],i2[Oa]=null,Oa--)}function ze(t,e){Oa++,i2[Oa]=t.current,t.current=e}var ps={},un=Ps(ps),On=Ps(!1),Ro=ps;function il(t,e){var n=t.type.contextTypes;if(!n)return ps;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(t){return t=t.childContextTypes,t!=null}function _p(){Xe(On),Xe(un)}function u4(t,e,n){if(un.current!==ps)throw Error(W(168));ze(un,e),ze(On,n)}function bb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,qC(t)||"Unknown",i));return dt({},n,r)}function vp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ps,Ro=un.current,ze(un,t),ze(On,On.current),!0}function h4(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=bb(t,e,Ro),r.__reactInternalMemoizedMergedChildContext=t,Xe(On),Xe(un),ze(un,t)):Xe(On),ze(On,n)}var oi=null,A0=!1,Cm=!1;function Eb(t){oi===null?oi=[t]:oi.push(t)}function cN(t){A0=!0,Eb(t)}function Ns(){if(!Cm&&oi!==null){Cm=!0;var t=0,e=Me;try{var n=oi;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oi=null,A0=!1}catch(i){throw oi!==null&&(oi=oi.slice(t+1)),Gw(u_,Ns),i}finally{Me=e,Cm=!1}}return null}var La=[],Ma=0,wp=null,bp=0,nr=[],rr=0,Ao=null,ci=1,ui="";function Xs(t,e){La[Ma++]=bp,La[Ma++]=wp,wp=t,bp=e}function Tb(t,e,n){nr[rr++]=ci,nr[rr++]=ui,nr[rr++]=Ao,Ao=t;var r=ci;t=ui;var i=32-wr(r)-1;r&=~(1<<i),n+=1;var s=32-wr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ci=1<<32-wr(e)+i|n<<i|r,ui=s+t}else ci=1<<s|n<<i|r,ui=t}function v_(t){t.return!==null&&(Xs(t,1),Tb(t,1,0))}function w_(t){for(;t===wp;)wp=La[--Ma],La[Ma]=null,bp=La[--Ma],La[Ma]=null;for(;t===Ao;)Ao=nr[--rr],nr[rr]=null,ui=nr[--rr],nr[rr]=null,ci=nr[--rr],nr[rr]=null}var Gn=null,Hn=null,nt=!1,_r=null;function Sb(t,e){var n=sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function d4(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gn=t,Hn=ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gn=t,Hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ao!==null?{id:ci,overflow:ui}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gn=t,Hn=null,!0):!1;default:return!1}}function s2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function o2(t){if(nt){var e=Hn;if(e){var n=e;if(!d4(t,e)){if(s2(t))throw Error(W(418));e=ss(n.nextSibling);var r=Gn;e&&d4(t,e)?Sb(r,n):(t.flags=t.flags&-4097|2,nt=!1,Gn=t)}}else{if(s2(t))throw Error(W(418));t.flags=t.flags&-4097|2,nt=!1,Gn=t}}}function f4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gn=t}function Wd(t){if(t!==Gn)return!1;if(!nt)return f4(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!t2(t.type,t.memoizedProps)),e&&(e=Hn)){if(s2(t))throw Ib(),Error(W(418));for(;e;)Sb(t,e),e=ss(e.nextSibling)}if(f4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hn=ss(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hn=null}}else Hn=Gn?ss(t.stateNode.nextSibling):null;return!0}function Ib(){for(var t=Hn;t;)t=ss(t.nextSibling)}function sl(){Hn=Gn=null,nt=!1}function b_(t){_r===null?_r=[t]:_r.push(t)}var uN=Ri.ReactCurrentBatchConfig;function mr(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ep=Ps(null),Tp=null,Va=null,E_=null;function T_(){E_=Va=Tp=null}function S_(t){var e=Ep.current;Xe(Ep),t._currentValue=e}function a2(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qa(t,e){Tp=t,E_=Va=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cn=!0),t.firstContext=null)}function cr(t){var e=t._currentValue;if(E_!==t)if(t={context:t,memoizedValue:e,next:null},Va===null){if(Tp===null)throw Error(W(308));Va=t,Tp.dependencies={lanes:0,firstContext:t}}else Va=Va.next=t;return e}var uo=null;function I_(t){uo===null?uo=[t]:uo.push(t)}function xb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,I_(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ti(t,r)}function Ti(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ui=!1;function x_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function os(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ti(t,n)}return i=r.interleaved,i===null?(e.next=e,I_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ti(t,n)}function Of(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,h_(t,n)}}function p4(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sp(t,e,n,r){var i=t.updateQueue;Ui=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=dt({},h,d);break e;case 2:Ui=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Po|=o,t.lanes=o,t.memoizedState=h}}function g4(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Rb=new xw.Component().refs;function l2(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var C0={isMounted:function(t){return(t=t._reactInternals)?Jo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mn(),i=ls(t),s=yi(r,i);s.payload=e,n!=null&&(s.callback=n),e=os(t,s,i),e!==null&&(br(e,t,i,r),Of(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mn(),i=ls(t),s=yi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=os(t,s,i),e!==null&&(br(e,t,i,r),Of(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mn(),r=ls(t),i=yi(n,r);i.tag=2,e!=null&&(i.callback=e),e=os(t,i,r),e!==null&&(br(e,t,r,n),Of(e,t,r))}};function m4(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Uu(n,r)||!Uu(i,s):!0}function Ab(t,e,n){var r=!1,i=ps,s=e.contextType;return typeof s=="object"&&s!==null?s=cr(s):(i=Ln(e)?Ro:un.current,r=e.contextTypes,s=(r=r!=null)?il(t,i):ps),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=C0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function y4(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&C0.enqueueReplaceState(e,e.state,null)}function c2(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Rb,x_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=cr(s):(s=Ln(e)?Ro:un.current,i.context=il(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(l2(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&C0.enqueueReplaceState(i,i.state,null),Sp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function uc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Rb&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Hd(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _4(t){var e=t._init;return e(t._payload)}function Cb(t){function e(y,m){if(t){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=cs(y,m),y.index=0,y.sibling=null,y}function s(y,m,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,v,w){return m===null||m.tag!==6?(m=Vm(v,y.mode,w),m.return=y,m):(m=i(m,v),m.return=y,m)}function l(y,m,v,w){var E=v.type;return E===Aa?u(y,m,v.props.children,w,v.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===$i&&_4(E)===m.type)?(w=i(m,v.props),w.ref=uc(y,m,v),w.return=y,w):(w=$f(v.type,v.key,v.props,null,y.mode,w),w.ref=uc(y,m,v),w.return=y,w)}function c(y,m,v,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Fm(v,y.mode,w),m.return=y,m):(m=i(m,v.children||[]),m.return=y,m)}function u(y,m,v,w,E){return m===null||m.tag!==7?(m=wo(v,y.mode,w,E),m.return=y,m):(m=i(m,v),m.return=y,m)}function h(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Vm(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Od:return v=$f(m.type,m.key,m.props,null,y.mode,v),v.ref=uc(y,null,m),v.return=y,v;case Ra:return m=Fm(m,y.mode,v),m.return=y,m;case $i:var w=m._init;return h(y,w(m._payload),v)}if(Vc(m)||sc(m))return m=wo(m,y.mode,v,null),m.return=y,m;Hd(y,m)}return null}function d(y,m,v,w){var E=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(y,m,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Od:return v.key===E?l(y,m,v,w):null;case Ra:return v.key===E?c(y,m,v,w):null;case $i:return E=v._init,d(y,m,E(v._payload),w)}if(Vc(v)||sc(v))return E!==null?null:u(y,m,v,w,null);Hd(y,v)}return null}function f(y,m,v,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(v)||null,a(m,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Od:return y=y.get(w.key===null?v:w.key)||null,l(m,y,w,E);case Ra:return y=y.get(w.key===null?v:w.key)||null,c(m,y,w,E);case $i:var T=w._init;return f(y,m,v,T(w._payload),E)}if(Vc(w)||sc(w))return y=y.get(v)||null,u(m,y,w,E,null);Hd(m,w)}return null}function p(y,m,v,w){for(var E=null,T=null,S=m,R=m=0,V=null;S!==null&&R<v.length;R++){S.index>R?(V=S,S=null):V=S.sibling;var N=d(y,S,v[R],w);if(N===null){S===null&&(S=V);break}t&&S&&N.alternate===null&&e(y,S),m=s(N,m,R),T===null?E=N:T.sibling=N,T=N,S=V}if(R===v.length)return n(y,S),nt&&Xs(y,R),E;if(S===null){for(;R<v.length;R++)S=h(y,v[R],w),S!==null&&(m=s(S,m,R),T===null?E=S:T.sibling=S,T=S);return nt&&Xs(y,R),E}for(S=r(y,S);R<v.length;R++)V=f(S,y,R,v[R],w),V!==null&&(t&&V.alternate!==null&&S.delete(V.key===null?R:V.key),m=s(V,m,R),T===null?E=V:T.sibling=V,T=V);return t&&S.forEach(function(K){return e(y,K)}),nt&&Xs(y,R),E}function g(y,m,v,w){var E=sc(v);if(typeof E!="function")throw Error(W(150));if(v=E.call(v),v==null)throw Error(W(151));for(var T=E=null,S=m,R=m=0,V=null,N=v.next();S!==null&&!N.done;R++,N=v.next()){S.index>R?(V=S,S=null):V=S.sibling;var K=d(y,S,N.value,w);if(K===null){S===null&&(S=V);break}t&&S&&K.alternate===null&&e(y,S),m=s(K,m,R),T===null?E=K:T.sibling=K,T=K,S=V}if(N.done)return n(y,S),nt&&Xs(y,R),E;if(S===null){for(;!N.done;R++,N=v.next())N=h(y,N.value,w),N!==null&&(m=s(N,m,R),T===null?E=N:T.sibling=N,T=N);return nt&&Xs(y,R),E}for(S=r(y,S);!N.done;R++,N=v.next())N=f(S,y,R,N.value,w),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?R:N.key),m=s(N,m,R),T===null?E=N:T.sibling=N,T=N);return t&&S.forEach(function(ne){return e(y,ne)}),nt&&Xs(y,R),E}function _(y,m,v,w){if(typeof v=="object"&&v!==null&&v.type===Aa&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Od:e:{for(var E=v.key,T=m;T!==null;){if(T.key===E){if(E=v.type,E===Aa){if(T.tag===7){n(y,T.sibling),m=i(T,v.props.children),m.return=y,y=m;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===$i&&_4(E)===T.type){n(y,T.sibling),m=i(T,v.props),m.ref=uc(y,T,v),m.return=y,y=m;break e}n(y,T);break}else e(y,T);T=T.sibling}v.type===Aa?(m=wo(v.props.children,y.mode,w,v.key),m.return=y,y=m):(w=$f(v.type,v.key,v.props,null,y.mode,w),w.ref=uc(y,m,v),w.return=y,y=w)}return o(y);case Ra:e:{for(T=v.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(y,m.sibling),m=i(m,v.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=Fm(v,y.mode,w),m.return=y,y=m}return o(y);case $i:return T=v._init,_(y,m,T(v._payload),w)}if(Vc(v))return p(y,m,v,w);if(sc(v))return g(y,m,v,w);Hd(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(y,m.sibling),m=i(m,v),m.return=y,y=m):(n(y,m),m=Vm(v,y.mode,w),m.return=y,y=m),o(y)):n(y,m)}return _}var ol=Cb(!0),Pb=Cb(!1),Hh={},qr=Ps(Hh),Hu=Ps(Hh),qu=Ps(Hh);function ho(t){if(t===Hh)throw Error(W(174));return t}function k_(t,e){switch(ze(qu,e),ze(Hu,t),ze(qr,Hh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:U1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=U1(e,t)}Xe(qr),ze(qr,e)}function al(){Xe(qr),Xe(Hu),Xe(qu)}function Nb(t){ho(qu.current);var e=ho(qr.current),n=U1(e,t.type);e!==n&&(ze(Hu,t),ze(qr,n))}function R_(t){Hu.current===t&&(Xe(qr),Xe(Hu))}var ct=Ps(0);function Ip(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pm=[];function A_(){for(var t=0;t<Pm.length;t++)Pm[t]._workInProgressVersionPrimary=null;Pm.length=0}var Lf=Ri.ReactCurrentDispatcher,Nm=Ri.ReactCurrentBatchConfig,Co=0,ut=null,Pt=null,Vt=null,xp=!1,au=!1,Gu=0,hN=0;function tn(){throw Error(W(321))}function C_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tr(t[n],e[n]))return!1;return!0}function P_(t,e,n,r,i,s){if(Co=s,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lf.current=t===null||t.memoizedState===null?gN:mN,t=n(r,i),au){s=0;do{if(au=!1,Gu=0,25<=s)throw Error(W(301));s+=1,Vt=Pt=null,e.updateQueue=null,Lf.current=yN,t=n(r,i)}while(au)}if(Lf.current=kp,e=Pt!==null&&Pt.next!==null,Co=0,Vt=Pt=ut=null,xp=!1,e)throw Error(W(300));return t}function N_(){var t=Gu!==0;return Gu=0,t}function Cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ut.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function ur(){if(Pt===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var e=Vt===null?ut.memoizedState:Vt.next;if(e!==null)Vt=e,Pt=t;else{if(t===null)throw Error(W(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Vt===null?ut.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Ku(t,e){return typeof e=="function"?e(t):e}function Dm(t){var e=ur(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Co&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ut.lanes|=u,Po|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Tr(r,e.memoizedState)||(Cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ut.lanes|=s,Po|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Om(t){var e=ur(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Tr(s,e.memoizedState)||(Cn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Db(){}function Ob(t,e){var n=ut,r=ur(),i=e(),s=!Tr(r.memoizedState,i);if(s&&(r.memoizedState=i,Cn=!0),r=r.queue,D_(Vb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,Qu(9,Mb.bind(null,n,r,i,e),void 0,null),$t===null)throw Error(W(349));Co&30||Lb(n,e,i)}return i}function Lb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Mb(t,e,n,r){e.value=n,e.getSnapshot=r,Fb(e)&&Bb(t)}function Vb(t,e,n){return n(function(){Fb(e)&&Bb(t)})}function Fb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tr(t,n)}catch{return!0}}function Bb(t){var e=Ti(t,1);e!==null&&br(e,t,1,-1)}function v4(t){var e=Cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ku,lastRenderedState:t},e.queue=t,t=t.dispatch=pN.bind(null,ut,t),[e.memoizedState,t]}function Qu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $b(){return ur().memoizedState}function Mf(t,e,n,r){var i=Cr();ut.flags|=t,i.memoizedState=Qu(1|e,n,void 0,r===void 0?null:r)}function P0(t,e,n,r){var i=ur();r=r===void 0?null:r;var s=void 0;if(Pt!==null){var o=Pt.memoizedState;if(s=o.destroy,r!==null&&C_(r,o.deps)){i.memoizedState=Qu(e,n,s,r);return}}ut.flags|=t,i.memoizedState=Qu(1|e,n,s,r)}function w4(t,e){return Mf(8390656,8,t,e)}function D_(t,e){return P0(2048,8,t,e)}function Ub(t,e){return P0(4,2,t,e)}function jb(t,e){return P0(4,4,t,e)}function zb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wb(t,e,n){return n=n!=null?n.concat([t]):null,P0(4,4,zb.bind(null,e,t),n)}function O_(){}function Hb(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qb(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Gb(t,e,n){return Co&21?(Tr(n,e)||(n=Yw(),ut.lanes|=n,Po|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cn=!0),t.memoizedState=n)}function dN(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Nm.transition;Nm.transition={};try{t(!1),e()}finally{Me=n,Nm.transition=r}}function Kb(){return ur().memoizedState}function fN(t,e,n){var r=ls(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qb(t))Yb(e,n);else if(n=xb(t,e,n,r),n!==null){var i=mn();br(n,t,r,i),Xb(n,e,r)}}function pN(t,e,n){var r=ls(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qb(t))Yb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Tr(a,o)){var l=e.interleaved;l===null?(i.next=i,I_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=xb(t,e,i,r),n!==null&&(i=mn(),br(n,t,r,i),Xb(n,e,r))}}function Qb(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function Yb(t,e){au=xp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Xb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,h_(t,n)}}var kp={readContext:cr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},gN={readContext:cr,useCallback:function(t,e){return Cr().memoizedState=[t,e===void 0?null:e],t},useContext:cr,useEffect:w4,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mf(4194308,4,zb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mf(4,2,t,e)},useMemo:function(t,e){var n=Cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fN.bind(null,ut,t),[r.memoizedState,t]},useRef:function(t){var e=Cr();return t={current:t},e.memoizedState=t},useState:v4,useDebugValue:O_,useDeferredValue:function(t){return Cr().memoizedState=t},useTransition:function(){var t=v4(!1),e=t[0];return t=dN.bind(null,t[1]),Cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ut,i=Cr();if(nt){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),$t===null)throw Error(W(349));Co&30||Lb(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,w4(Vb.bind(null,r,s,t),[t]),r.flags|=2048,Qu(9,Mb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Cr(),e=$t.identifierPrefix;if(nt){var n=ui,r=ci;n=(r&~(1<<32-wr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mN={readContext:cr,useCallback:Hb,useContext:cr,useEffect:D_,useImperativeHandle:Wb,useInsertionEffect:Ub,useLayoutEffect:jb,useMemo:qb,useReducer:Dm,useRef:$b,useState:function(){return Dm(Ku)},useDebugValue:O_,useDeferredValue:function(t){var e=ur();return Gb(e,Pt.memoizedState,t)},useTransition:function(){var t=Dm(Ku)[0],e=ur().memoizedState;return[t,e]},useMutableSource:Db,useSyncExternalStore:Ob,useId:Kb,unstable_isNewReconciler:!1},yN={readContext:cr,useCallback:Hb,useContext:cr,useEffect:D_,useImperativeHandle:Wb,useInsertionEffect:Ub,useLayoutEffect:jb,useMemo:qb,useReducer:Om,useRef:$b,useState:function(){return Om(Ku)},useDebugValue:O_,useDeferredValue:function(t){var e=ur();return Pt===null?e.memoizedState=t:Gb(e,Pt.memoizedState,t)},useTransition:function(){var t=Om(Ku)[0],e=ur().memoizedState;return[t,e]},useMutableSource:Db,useSyncExternalStore:Ob,useId:Kb,unstable_isNewReconciler:!1};function ll(t,e){try{var n="",r=e;do n+=HC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Lm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function u2(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _N=typeof WeakMap=="function"?WeakMap:Map;function Jb(t,e,n){n=yi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ap||(Ap=!0,w2=r),u2(t,e)},n}function Zb(t,e,n){n=yi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){u2(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){u2(t,e),typeof r!="function"&&(as===null?as=new Set([this]):as.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function b4(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _N;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=NN.bind(null,t,e,n),e.then(t,t))}function E4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function T4(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yi(-1,1),e.tag=2,os(n,e,1))),n.lanes|=1),t)}var vN=Ri.ReactCurrentOwner,Cn=!1;function dn(t,e,n,r){e.child=t===null?Pb(e,null,n,r):ol(e,t.child,n,r)}function S4(t,e,n,r,i){n=n.render;var s=e.ref;return qa(e,i),r=P_(t,e,n,r,s,i),n=N_(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(nt&&n&&v_(e),e.flags|=1,dn(t,e,r,i),e.child)}function I4(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!j_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,eE(t,e,s,r,i)):(t=$f(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Uu,n(o,r)&&t.ref===e.ref)return Si(t,e,i)}return e.flags|=1,t=cs(s,r),t.ref=e.ref,t.return=e,e.child=t}function eE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Uu(s,r)&&t.ref===e.ref)if(Cn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Cn=!0);else return e.lanes=t.lanes,Si(t,e,i)}return h2(t,e,n,r,i)}function tE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Ba,jn),jn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(Ba,jn),jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ze(Ba,jn),jn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ze(Ba,jn),jn|=r;return dn(t,e,i,n),e.child}function nE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function h2(t,e,n,r,i){var s=Ln(n)?Ro:un.current;return s=il(e,s),qa(e,i),n=P_(t,e,n,r,s,i),r=N_(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(nt&&r&&v_(e),e.flags|=1,dn(t,e,n,i),e.child)}function x4(t,e,n,r,i){if(Ln(n)){var s=!0;vp(e)}else s=!1;if(qa(e,i),e.stateNode===null)Vf(t,e),Ab(e,n,r),c2(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=cr(c):(c=Ln(n)?Ro:un.current,c=il(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&y4(e,o,r,c),Ui=!1;var d=e.memoizedState;o.state=d,Sp(e,r,o,i),l=e.memoizedState,a!==r||d!==l||On.current||Ui?(typeof u=="function"&&(l2(e,n,u,r),l=e.memoizedState),(a=Ui||m4(e,n,a,r,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,kb(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:mr(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=cr(l):(l=Ln(n)?Ro:un.current,l=il(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&y4(e,o,r,l),Ui=!1,d=e.memoizedState,o.state=d,Sp(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||On.current||Ui?(typeof f=="function"&&(l2(e,n,f,r),p=e.memoizedState),(c=Ui||m4(e,n,c,r,d,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return d2(t,e,n,r,s,i)}function d2(t,e,n,r,i,s){nE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&h4(e,n,!1),Si(t,e,s);r=e.stateNode,vN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ol(e,t.child,null,s),e.child=ol(e,null,a,s)):dn(t,e,a,s),e.memoizedState=r.state,i&&h4(e,n,!0),e.child}function rE(t){var e=t.stateNode;e.pendingContext?u4(t,e.pendingContext,e.pendingContext!==e.context):e.context&&u4(t,e.context,!1),k_(t,e.containerInfo)}function k4(t,e,n,r,i){return sl(),b_(i),e.flags|=256,dn(t,e,n,r),e.child}var f2={dehydrated:null,treeContext:null,retryLane:0};function p2(t){return{baseLanes:t,cachePool:null,transitions:null}}function iE(t,e,n){var r=e.pendingProps,i=ct.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(ct,i&1),t===null)return o2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=O0(o,r,0,null),t=wo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=p2(n),e.memoizedState=f2,t):L_(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return wN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=cs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=cs(a,s):(s=wo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?p2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=f2,r}return s=t.child,t=s.sibling,r=cs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function L_(t,e){return e=O0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qd(t,e,n,r){return r!==null&&b_(r),ol(e,t.child,null,n),t=L_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Lm(Error(W(422))),qd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=O0({mode:"visible",children:r.children},i,0,null),s=wo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ol(e,t.child,null,o),e.child.memoizedState=p2(o),e.memoizedState=f2,s);if(!(e.mode&1))return qd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=Lm(s,r,void 0),qd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Cn||a){if(r=$t,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ti(t,i),br(r,t,i,-1))}return U_(),r=Lm(Error(W(421))),qd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=DN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Hn=ss(i.nextSibling),Gn=e,nt=!0,_r=null,t!==null&&(nr[rr++]=ci,nr[rr++]=ui,nr[rr++]=Ao,ci=t.id,ui=t.overflow,Ao=e),e=L_(e,r.children),e.flags|=4096,e)}function R4(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),a2(t.return,e,n)}function Mm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function sE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dn(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&R4(t,n,e);else if(t.tag===19)R4(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ip(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ip(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mm(e,!0,n,null,s);break;case"together":Mm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Po|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=cs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bN(t,e,n){switch(e.tag){case 3:rE(e),sl();break;case 5:Nb(e);break;case 1:Ln(e.type)&&vp(e);break;case 4:k_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(Ep,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?iE(t,e,n):(ze(ct,ct.current&1),t=Si(t,e,n),t!==null?t.sibling:null);ze(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,tE(t,e,n)}return Si(t,e,n)}var oE,g2,aE,lE;oE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};g2=function(){};aE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ho(qr.current);var s=null;switch(n){case"input":i=V1(t,i),r=V1(t,r),s=[];break;case"select":i=dt({},i,{value:void 0}),r=dt({},r,{value:void 0}),s=[];break;case"textarea":i=$1(t,i),r=$1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yp)}j1(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ou.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ou.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};lE=function(t,e,n,r){n!==r&&(e.flags|=4)};function hc(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EN(t,e,n){var r=e.pendingProps;switch(w_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return Ln(e.type)&&_p(),nn(e),null;case 3:return r=e.stateNode,al(),Xe(On),Xe(un),A_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_r!==null&&(T2(_r),_r=null))),g2(t,e),nn(e),null;case 5:R_(e);var i=ho(qu.current);if(n=e.type,t!==null&&e.stateNode!=null)aE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return nn(e),null}if(t=ho(qr.current),Wd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Nr]=e,r[Wu]=s,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<Bc.length;i++)qe(Bc[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":V9(r,s),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qe("invalid",r);break;case"textarea":B9(r,s),qe("invalid",r)}j1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&zd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zd(r.textContent,a,t),i=["children",""+a]):Ou.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":Ld(r),F9(r,s,!0);break;case"textarea":Ld(r),$9(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Nr]=e,t[Wu]=r,oE(t,e,!1,!1),e.stateNode=t;e:{switch(o=z1(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Bc.length;i++)qe(Bc[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":V9(t,r),i=V1(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dt({},r,{value:void 0}),qe("invalid",t);break;case"textarea":B9(t,r),i=$1(t,r),qe("invalid",t);break;default:i=r}j1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Fw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Mw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lu(t,l):typeof l=="number"&&Lu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ou.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qe("scroll",t):l!=null&&s_(t,s,l,o))}switch(n){case"input":Ld(t),F9(t,r,!1);break;case"textarea":Ld(t),$9(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ja(t,!!r.multiple,s,!1):r.defaultValue!=null&&ja(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(t&&e.stateNode!=null)lE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=ho(qu.current),ho(qr.current),Wd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nr]=e,(s=r.nodeValue!==n)&&(t=Gn,t!==null))switch(t.tag){case 3:zd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nr]=e,e.stateNode=r}return nn(e),null;case 13:if(Xe(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&Hn!==null&&e.mode&1&&!(e.flags&128))Ib(),sl(),e.flags|=98560,s=!1;else if(s=Wd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Nr]=e}else sl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),s=!1}else _r!==null&&(T2(_r),_r=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Nt===0&&(Nt=3):U_())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return al(),g2(t,e),t===null&&ju(e.stateNode.containerInfo),nn(e),null;case 10:return S_(e.type._context),nn(e),null;case 17:return Ln(e.type)&&_p(),nn(e),null;case 19:if(Xe(ct),s=e.memoizedState,s===null)return nn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)hc(s,!1);else{if(Nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ip(t),o!==null){for(e.flags|=128,hc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(ct,ct.current&1|2),e.child}t=t.sibling}s.tail!==null&&Et()>cl&&(e.flags|=128,r=!0,hc(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ip(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!nt)return nn(e),null}else 2*Et()-s.renderingStartTime>cl&&n!==1073741824&&(e.flags|=128,r=!0,hc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Et(),e.sibling=null,n=ct.current,ze(ct,r?n&1|2:n&1),e):(nn(e),null);case 22:case 23:return $_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jn&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function TN(t,e){switch(w_(e),e.tag){case 1:return Ln(e.type)&&_p(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return al(),Xe(On),Xe(un),A_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return R_(e),null;case 13:if(Xe(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));sl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(ct),null;case 4:return al(),null;case 10:return S_(e.type._context),null;case 22:case 23:return $_(),null;case 24:return null;default:return null}}var Gd=!1,on=!1,SN=typeof WeakSet=="function"?WeakSet:Set,re=null;function Fa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ft(t,e,r)}else n.current=null}function m2(t,e,n){try{n()}catch(r){ft(t,e,r)}}var A4=!1;function IN(t,e){if(Z1=pp,t=db(),__(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(e2={focusedElem:t,selectionRange:n},pp=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,_=p.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:mr(e.type,g),_);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(w){ft(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return p=A4,A4=!1,p}function lu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&m2(e,n,s)}i=i.next}while(i!==r)}}function N0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function y2(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cE(t){var e=t.alternate;e!==null&&(t.alternate=null,cE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nr],delete e[Wu],delete e[r2],delete e[aN],delete e[lN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uE(t){return t.tag===5||t.tag===3||t.tag===4}function C4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yp));else if(r!==4&&(t=t.child,t!==null))for(_2(t,e,n),t=t.sibling;t!==null;)_2(t,e,n),t=t.sibling}function v2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(v2(t,e,n),t=t.sibling;t!==null;)v2(t,e,n),t=t.sibling}var qt=null,yr=!1;function Li(t,e,n){for(n=n.child;n!==null;)hE(t,e,n),n=n.sibling}function hE(t,e,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(S0,n)}catch{}switch(n.tag){case 5:on||Fa(n,e);case 6:var r=qt,i=yr;qt=null,Li(t,e,n),qt=r,yr=i,qt!==null&&(yr?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(yr?(t=qt,n=n.stateNode,t.nodeType===8?Am(t.parentNode,n):t.nodeType===1&&Am(t,n),Bu(t)):Am(qt,n.stateNode));break;case 4:r=qt,i=yr,qt=n.stateNode.containerInfo,yr=!0,Li(t,e,n),qt=r,yr=i;break;case 0:case 11:case 14:case 15:if(!on&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&m2(n,e,o),i=i.next}while(i!==r)}Li(t,e,n);break;case 1:if(!on&&(Fa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ft(n,e,a)}Li(t,e,n);break;case 21:Li(t,e,n);break;case 22:n.mode&1?(on=(r=on)||n.memoizedState!==null,Li(t,e,n),on=r):Li(t,e,n);break;default:Li(t,e,n)}}function P4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SN),e.forEach(function(r){var i=ON.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qt=a.stateNode,yr=!1;break e;case 3:qt=a.stateNode.containerInfo,yr=!0;break e;case 4:qt=a.stateNode.containerInfo,yr=!0;break e}a=a.return}if(qt===null)throw Error(W(160));hE(s,o,i),qt=null,yr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ft(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dE(e,t),e=e.sibling}function dE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pr(e,t),Rr(t),r&4){try{lu(3,t,t.return),N0(3,t)}catch(g){ft(t,t.return,g)}try{lu(5,t,t.return)}catch(g){ft(t,t.return,g)}}break;case 1:pr(e,t),Rr(t),r&512&&n!==null&&Fa(n,n.return);break;case 5:if(pr(e,t),Rr(t),r&512&&n!==null&&Fa(n,n.return),t.flags&32){var i=t.stateNode;try{Lu(i,"")}catch(g){ft(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Dw(i,s),z1(a,o);var c=z1(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Fw(i,h):u==="dangerouslySetInnerHTML"?Mw(i,h):u==="children"?Lu(i,h):s_(i,u,h,c)}switch(a){case"input":F1(i,s);break;case"textarea":Ow(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ja(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?ja(i,!!s.multiple,s.defaultValue,!0):ja(i,!!s.multiple,s.multiple?[]:"",!1))}i[Wu]=s}catch(g){ft(t,t.return,g)}}break;case 6:if(pr(e,t),Rr(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){ft(t,t.return,g)}}break;case 3:if(pr(e,t),Rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bu(e.containerInfo)}catch(g){ft(t,t.return,g)}break;case 4:pr(e,t),Rr(t);break;case 13:pr(e,t),Rr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(F_=Et())),r&4&&P4(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(on=(c=on)||u,pr(e,t),on=c):pr(e,t),Rr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(re=t,u=t.child;u!==null;){for(h=re=u;re!==null;){switch(d=re,f=d.child,d.tag){case 0:case 11:case 14:case 15:lu(4,d,d.return);break;case 1:Fa(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){ft(r,n,g)}}break;case 5:Fa(d,d.return);break;case 22:if(d.memoizedState!==null){D4(h);continue}}f!==null?(f.return=d,re=f):D4(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Vw("display",o))}catch(g){ft(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){ft(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pr(e,t),Rr(t),r&4&&P4(t);break;case 21:break;default:pr(e,t),Rr(t)}}function Rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uE(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Lu(i,""),r.flags&=-33);var s=C4(t);v2(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=C4(t);_2(t,a,o);break;default:throw Error(W(161))}}catch(l){ft(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xN(t,e,n){re=t,fE(t)}function fE(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Gd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||on;a=Gd;var c=on;if(Gd=o,(on=l)&&!c)for(re=i;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?O4(i):l!==null?(l.return=o,re=l):O4(i);for(;s!==null;)re=s,fE(s),s=s.sibling;re=i,Gd=a,on=c}N4(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,re=s):N4(t)}}function N4(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:on||N0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!on)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&g4(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}g4(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Bu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}on||e.flags&512&&y2(e)}catch(d){ft(e,e.return,d)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function D4(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function O4(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{N0(4,e)}catch(l){ft(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ft(e,i,l)}}var s=e.return;try{y2(e)}catch(l){ft(e,s,l)}break;case 5:var o=e.return;try{y2(e)}catch(l){ft(e,o,l)}}}catch(l){ft(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var kN=Math.ceil,Rp=Ri.ReactCurrentDispatcher,M_=Ri.ReactCurrentOwner,lr=Ri.ReactCurrentBatchConfig,Pe=0,$t=null,Rt=null,Yt=0,jn=0,Ba=Ps(0),Nt=0,Yu=null,Po=0,D0=0,V_=0,cu=null,Rn=null,F_=0,cl=1/0,si=null,Ap=!1,w2=null,as=null,Kd=!1,Ki=null,Cp=0,uu=0,b2=null,Ff=-1,Bf=0;function mn(){return Pe&6?Et():Ff!==-1?Ff:Ff=Et()}function ls(t){return t.mode&1?Pe&2&&Yt!==0?Yt&-Yt:uN.transition!==null?(Bf===0&&(Bf=Yw()),Bf):(t=Me,t!==0||(t=window.event,t=t===void 0?16:rb(t.type)),t):1}function br(t,e,n,r){if(50<uu)throw uu=0,b2=null,Error(W(185));jh(t,n,r),(!(Pe&2)||t!==$t)&&(t===$t&&(!(Pe&2)&&(D0|=n),Nt===4&&Wi(t,Yt)),Mn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(cl=Et()+500,A0&&Ns()))}function Mn(t,e){var n=t.callbackNode;uP(t,e);var r=fp(t,t===$t?Yt:0);if(r===0)n!==null&&z9(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&z9(n),e===1)t.tag===0?cN(L4.bind(null,t)):Eb(L4.bind(null,t)),sN(function(){!(Pe&6)&&Ns()}),n=null;else{switch(Xw(r)){case 1:n=u_;break;case 4:n=Kw;break;case 16:n=dp;break;case 536870912:n=Qw;break;default:n=dp}n=bE(n,pE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pE(t,e){if(Ff=-1,Bf=0,Pe&6)throw Error(W(327));var n=t.callbackNode;if(Ga()&&t.callbackNode!==n)return null;var r=fp(t,t===$t?Yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pp(t,r);else{e=r;var i=Pe;Pe|=2;var s=mE();($t!==t||Yt!==e)&&(si=null,cl=Et()+500,vo(t,e));do try{CN();break}catch(a){gE(t,a)}while(!0);T_(),Rp.current=s,Pe=i,Rt!==null?e=0:($t=null,Yt=0,e=Nt)}if(e!==0){if(e===2&&(i=K1(t),i!==0&&(r=i,e=E2(t,i))),e===1)throw n=Yu,vo(t,0),Wi(t,r),Mn(t,Et()),n;if(e===6)Wi(t,r);else{if(i=t.current.alternate,!(r&30)&&!RN(i)&&(e=Pp(t,r),e===2&&(s=K1(t),s!==0&&(r=s,e=E2(t,s))),e===1))throw n=Yu,vo(t,0),Wi(t,r),Mn(t,Et()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Js(t,Rn,si);break;case 3:if(Wi(t,r),(r&130023424)===r&&(e=F_+500-Et(),10<e)){if(fp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=n2(Js.bind(null,t,Rn,si),e);break}Js(t,Rn,si);break;case 4:if(Wi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-wr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kN(r/1960))-r,10<r){t.timeoutHandle=n2(Js.bind(null,t,Rn,si),r);break}Js(t,Rn,si);break;case 5:Js(t,Rn,si);break;default:throw Error(W(329))}}}return Mn(t,Et()),t.callbackNode===n?pE.bind(null,t):null}function E2(t,e){var n=cu;return t.current.memoizedState.isDehydrated&&(vo(t,e).flags|=256),t=Pp(t,e),t!==2&&(e=Rn,Rn=n,e!==null&&T2(e)),t}function T2(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function RN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wi(t,e){for(e&=~V_,e&=~D0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wr(e),r=1<<n;t[n]=-1,e&=~r}}function L4(t){if(Pe&6)throw Error(W(327));Ga();var e=fp(t,0);if(!(e&1))return Mn(t,Et()),null;var n=Pp(t,e);if(t.tag!==0&&n===2){var r=K1(t);r!==0&&(e=r,n=E2(t,r))}if(n===1)throw n=Yu,vo(t,0),Wi(t,e),Mn(t,Et()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Js(t,Rn,si),Mn(t,Et()),null}function B_(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(cl=Et()+500,A0&&Ns())}}function No(t){Ki!==null&&Ki.tag===0&&!(Pe&6)&&Ga();var e=Pe;Pe|=1;var n=lr.transition,r=Me;try{if(lr.transition=null,Me=1,t)return t()}finally{Me=r,lr.transition=n,Pe=e,!(Pe&6)&&Ns()}}function $_(){jn=Ba.current,Xe(Ba)}function vo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iN(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(w_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_p();break;case 3:al(),Xe(On),Xe(un),A_();break;case 5:R_(r);break;case 4:al();break;case 13:Xe(ct);break;case 19:Xe(ct);break;case 10:S_(r.type._context);break;case 22:case 23:$_()}n=n.return}if($t=t,Rt=t=cs(t.current,null),Yt=jn=e,Nt=0,Yu=null,V_=D0=Po=0,Rn=cu=null,uo!==null){for(e=0;e<uo.length;e++)if(n=uo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}uo=null}return t}function gE(t,e){do{var n=Rt;try{if(T_(),Lf.current=kp,xp){for(var r=ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xp=!1}if(Co=0,Vt=Pt=ut=null,au=!1,Gu=0,M_.current=null,n===null||n.return===null){Nt=1,Yu=e,Rt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=E4(o);if(f!==null){f.flags&=-257,T4(f,o,a,s,e),f.mode&1&&b4(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){b4(s,c,e),U_();break e}l=Error(W(426))}}else if(nt&&a.mode&1){var _=E4(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),T4(_,o,a,s,e),b_(ll(l,a));break e}}s=l=ll(l,a),Nt!==4&&(Nt=2),cu===null?cu=[s]:cu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=Jb(s,l,e);p4(s,y);break e;case 1:a=l;var m=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(as===null||!as.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=Zb(s,a,e);p4(s,w);break e}}s=s.return}while(s!==null)}_E(n)}catch(E){e=E,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function mE(){var t=Rp.current;return Rp.current=kp,t===null?kp:t}function U_(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),$t===null||!(Po&268435455)&&!(D0&268435455)||Wi($t,Yt)}function Pp(t,e){var n=Pe;Pe|=2;var r=mE();($t!==t||Yt!==e)&&(si=null,vo(t,e));do try{AN();break}catch(i){gE(t,i)}while(!0);if(T_(),Pe=n,Rp.current=r,Rt!==null)throw Error(W(261));return $t=null,Yt=0,Nt}function AN(){for(;Rt!==null;)yE(Rt)}function CN(){for(;Rt!==null&&!tP();)yE(Rt)}function yE(t){var e=wE(t.alternate,t,jn);t.memoizedProps=t.pendingProps,e===null?_E(t):Rt=e,M_.current=null}function _E(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TN(n,e),n!==null){n.flags&=32767,Rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Nt=6,Rt=null;return}}else if(n=EN(n,e,jn),n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Nt===0&&(Nt=5)}function Js(t,e,n){var r=Me,i=lr.transition;try{lr.transition=null,Me=1,PN(t,e,n,r)}finally{lr.transition=i,Me=r}return null}function PN(t,e,n,r){do Ga();while(Ki!==null);if(Pe&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(hP(t,s),t===$t&&(Rt=$t=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kd||(Kd=!0,bE(dp,function(){return Ga(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=lr.transition,lr.transition=null;var o=Me;Me=1;var a=Pe;Pe|=4,M_.current=null,IN(t,n),dE(n,t),XP(e2),pp=!!Z1,e2=Z1=null,t.current=n,xN(n),nP(),Pe=a,Me=o,lr.transition=s}else t.current=n;if(Kd&&(Kd=!1,Ki=t,Cp=i),s=t.pendingLanes,s===0&&(as=null),sP(n.stateNode),Mn(t,Et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ap)throw Ap=!1,t=w2,w2=null,t;return Cp&1&&t.tag!==0&&Ga(),s=t.pendingLanes,s&1?t===b2?uu++:(uu=0,b2=t):uu=0,Ns(),null}function Ga(){if(Ki!==null){var t=Xw(Cp),e=lr.transition,n=Me;try{if(lr.transition=null,Me=16>t?16:t,Ki===null)var r=!1;else{if(t=Ki,Ki=null,Cp=0,Pe&6)throw Error(W(331));var i=Pe;for(Pe|=4,re=t.current;re!==null;){var s=re,o=s.child;if(re.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(re=c;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:lu(8,u,s)}var h=u.child;if(h!==null)h.return=u,re=h;else for(;re!==null;){u=re;var d=u.sibling,f=u.return;if(cE(u),u===c){re=null;break}if(d!==null){d.return=f,re=d;break}re=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,re=o;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:lu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,re=y;break e}re=s.return}}var m=t.current;for(re=m;re!==null;){o=re;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,re=v;else e:for(o=m;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:N0(9,a)}}catch(E){ft(a,a.return,E)}if(a===o){re=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,re=w;break e}re=a.return}}if(Pe=i,Ns(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(S0,t)}catch{}r=!0}return r}finally{Me=n,lr.transition=e}}return!1}function M4(t,e,n){e=ll(n,e),e=Jb(t,e,1),t=os(t,e,1),e=mn(),t!==null&&(jh(t,1,e),Mn(t,e))}function ft(t,e,n){if(t.tag===3)M4(t,t,n);else for(;e!==null;){if(e.tag===3){M4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(as===null||!as.has(r))){t=ll(n,t),t=Zb(e,t,1),e=os(e,t,1),t=mn(),e!==null&&(jh(e,1,t),Mn(e,t));break}}e=e.return}}function NN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(Yt&n)===n&&(Nt===4||Nt===3&&(Yt&130023424)===Yt&&500>Et()-F_?vo(t,0):V_|=n),Mn(t,e)}function vE(t,e){e===0&&(t.mode&1?(e=Fd,Fd<<=1,!(Fd&130023424)&&(Fd=4194304)):e=1);var n=mn();t=Ti(t,e),t!==null&&(jh(t,e,n),Mn(t,n))}function DN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vE(t,n)}function ON(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),vE(t,n)}var wE;wE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)Cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Cn=!1,bN(t,e,n);Cn=!!(t.flags&131072)}else Cn=!1,nt&&e.flags&1048576&&Tb(e,bp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vf(t,e),t=e.pendingProps;var i=il(e,un.current);qa(e,n),i=P_(null,e,r,t,i,n);var s=N_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(s=!0,vp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,x_(e),i.updater=C0,e.stateNode=i,i._reactInternals=e,c2(e,r,t,n),e=d2(null,e,r,!0,s,n)):(e.tag=0,nt&&s&&v_(e),dn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=MN(r),t=mr(r,t),i){case 0:e=h2(null,e,r,t,n);break e;case 1:e=x4(null,e,r,t,n);break e;case 11:e=S4(null,e,r,t,n);break e;case 14:e=I4(null,e,r,mr(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),h2(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),x4(t,e,r,i,n);case 3:e:{if(rE(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,kb(t,e),Sp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ll(Error(W(423)),e),e=k4(t,e,r,n,i);break e}else if(r!==i){i=ll(Error(W(424)),e),e=k4(t,e,r,n,i);break e}else for(Hn=ss(e.stateNode.containerInfo.firstChild),Gn=e,nt=!0,_r=null,n=Pb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sl(),r===i){e=Si(t,e,n);break e}dn(t,e,r,n)}e=e.child}return e;case 5:return Nb(e),t===null&&o2(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,t2(r,i)?o=null:s!==null&&t2(r,s)&&(e.flags|=32),nE(t,e),dn(t,e,o,n),e.child;case 6:return t===null&&o2(e),null;case 13:return iE(t,e,n);case 4:return k_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ol(e,null,r,n):dn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),S4(t,e,r,i,n);case 7:return dn(t,e,e.pendingProps,n),e.child;case 8:return dn(t,e,e.pendingProps.children,n),e.child;case 12:return dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ze(Ep,r._currentValue),r._currentValue=o,s!==null)if(Tr(s.value,o)){if(s.children===i.children&&!On.current){e=Si(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=yi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),a2(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),a2(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qa(e,n),i=cr(i),r=r(i),e.flags|=1,dn(t,e,r,n),e.child;case 14:return r=e.type,i=mr(r,e.pendingProps),i=mr(r.type,i),I4(t,e,r,i,n);case 15:return eE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),Vf(t,e),e.tag=1,Ln(r)?(t=!0,vp(e)):t=!1,qa(e,n),Ab(e,r,i),c2(e,r,i,n),d2(null,e,r,!0,t,n);case 19:return sE(t,e,n);case 22:return tE(t,e,n)}throw Error(W(156,e.tag))};function bE(t,e){return Gw(t,e)}function LN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,n,r){return new LN(t,e,n,r)}function j_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MN(t){if(typeof t=="function")return j_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===a_)return 11;if(t===l_)return 14}return 2}function cs(t,e){var n=t.alternate;return n===null?(n=sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $f(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")j_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Aa:return wo(n.children,i,s,e);case o_:o=8,i|=8;break;case D1:return t=sr(12,n,e,i|2),t.elementType=D1,t.lanes=s,t;case O1:return t=sr(13,n,e,i),t.elementType=O1,t.lanes=s,t;case L1:return t=sr(19,n,e,i),t.elementType=L1,t.lanes=s,t;case Cw:return O0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rw:o=10;break e;case Aw:o=9;break e;case a_:o=11;break e;case l_:o=14;break e;case $i:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=sr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function wo(t,e,n,r){return t=sr(7,t,r,e),t.lanes=n,t}function O0(t,e,n,r){return t=sr(22,t,r,e),t.elementType=Cw,t.lanes=n,t.stateNode={isHidden:!1},t}function Vm(t,e,n){return t=sr(6,t,null,e),t.lanes=n,t}function Fm(t,e,n){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_m(0),this.expirationTimes=_m(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_m(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function z_(t,e,n,r,i,s,o,a,l){return t=new VN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=sr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},x_(s),t}function FN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ra,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EE(t){if(!t)return ps;t=t._reactInternals;e:{if(Jo(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Ln(n))return bb(t,n,e)}return e}function TE(t,e,n,r,i,s,o,a,l){return t=z_(n,r,!0,t,i,s,o,a,l),t.context=EE(null),n=t.current,r=mn(),i=ls(n),s=yi(r,i),s.callback=e??null,os(n,s,i),t.current.lanes=i,jh(t,i,r),Mn(t,r),t}function L0(t,e,n,r){var i=e.current,s=mn(),o=ls(i);return n=EE(n),e.context===null?e.context=n:e.pendingContext=n,e=yi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=os(i,e,o),t!==null&&(br(t,i,o,s),Of(t,i,o)),o}function Np(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function V4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function W_(t,e){V4(t,e),(t=t.alternate)&&V4(t,e)}function BN(){return null}var SE=typeof reportError=="function"?reportError:function(t){console.error(t)};function H_(t){this._internalRoot=t}M0.prototype.render=H_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));L0(t,e,null,null)};M0.prototype.unmount=H_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;No(function(){L0(null,t,null,null)}),e[Ei]=null}};function M0(t){this._internalRoot=t}M0.prototype.unstable_scheduleHydration=function(t){if(t){var e=eb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zi.length&&e!==0&&e<zi[n].priority;n++);zi.splice(n,0,t),n===0&&nb(t)}};function q_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function V0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function F4(){}function $N(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Np(o);s.call(c)}}var o=TE(e,r,t,0,null,!1,!1,"",F4);return t._reactRootContainer=o,t[Ei]=o.current,ju(t.nodeType===8?t.parentNode:t),No(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Np(l);a.call(c)}}var l=z_(t,0,!1,null,null,!1,!1,"",F4);return t._reactRootContainer=l,t[Ei]=l.current,ju(t.nodeType===8?t.parentNode:t),No(function(){L0(e,l,n,r)}),l}function F0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Np(o);a.call(l)}}L0(e,o,t,i)}else o=$N(n,e,t,i,r);return Np(o)}Jw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fc(e.pendingLanes);n!==0&&(h_(e,n|1),Mn(e,Et()),!(Pe&6)&&(cl=Et()+500,Ns()))}break;case 13:No(function(){var r=Ti(t,1);if(r!==null){var i=mn();br(r,t,1,i)}}),W_(t,1)}};d_=function(t){if(t.tag===13){var e=Ti(t,134217728);if(e!==null){var n=mn();br(e,t,134217728,n)}W_(t,134217728)}};Zw=function(t){if(t.tag===13){var e=ls(t),n=Ti(t,e);if(n!==null){var r=mn();br(n,t,e,r)}W_(t,e)}};eb=function(){return Me};tb=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};H1=function(t,e,n){switch(e){case"input":if(F1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=R0(r);if(!i)throw Error(W(90));Nw(r),F1(r,i)}}}break;case"textarea":Ow(t,n);break;case"select":e=n.value,e!=null&&ja(t,!!n.multiple,e,!1)}};Uw=B_;jw=No;var UN={usingClientEntryPoint:!1,Events:[Wh,Da,R0,Bw,$w,B_]},dc={findFiberByHostInstance:co,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},jN={bundleType:dc.bundleType,version:dc.version,rendererPackageName:dc.rendererPackageName,rendererConfig:dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hw(t),t===null?null:t.stateNode},findFiberByHostInstance:dc.findFiberByHostInstance||BN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{S0=Qd.inject(jN),Hr=Qd}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UN;Xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!q_(e))throw Error(W(200));return FN(t,e,null,n)};Xn.createRoot=function(t,e){if(!q_(t))throw Error(W(299));var n=!1,r="",i=SE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=z_(t,1,!1,null,null,n,!1,r,i),t[Ei]=e.current,ju(t.nodeType===8?t.parentNode:t),new H_(e)};Xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=Hw(e),t=t===null?null:t.stateNode,t};Xn.flushSync=function(t){return No(t)};Xn.hydrate=function(t,e,n){if(!V0(e))throw Error(W(200));return F0(null,t,e,!0,n)};Xn.hydrateRoot=function(t,e,n){if(!q_(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=SE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=TE(e,null,t,1,n??null,i,!1,s,o),t[Ei]=e.current,ju(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new M0(e)};Xn.render=function(t,e,n){if(!V0(e))throw Error(W(200));return F0(null,t,e,!1,n)};Xn.unmountComponentAtNode=function(t){if(!V0(t))throw Error(W(40));return t._reactRootContainer?(No(function(){F0(null,null,t,!1,function(){t._reactRootContainer=null,t[Ei]=null})}),!0):!1};Xn.unstable_batchedUpdates=B_;Xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!V0(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return F0(t,e,n,!1,r)};Xn.version="18.2.0-next-9e3b772b8-20220608";function IE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IE)}catch(t){console.error(t)}}IE(),Tw.exports=Xn;var xE=Tw.exports;const zN=Jy(xE);var B4=xE;P1.createRoot=B4.createRoot,P1.hydrateRoot=B4.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xu.apply(this,arguments)}var Qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qi||(Qi={}));const $4="popstate";function WN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return S2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:RE(i)}return qN(e,n,null,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HN(){return Math.random().toString(36).substr(2,8)}function U4(t,e){return{usr:t.state,key:t.key,idx:e}}function S2(t,e,n,r){return n===void 0&&(n=null),Xu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fl(e):e,{state:n,key:e&&e.key||r||HN()})}function RE(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function qN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Qi.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Xu({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Qi.Pop;let _=u(),y=_==null?null:_-c;c=_,l&&l({action:a,location:g.location,delta:y})}function d(_,y){a=Qi.Push;let m=S2(g.location,_,y);n&&n(m,_),c=u()+1;let v=U4(m,c),w=g.createHref(m);try{o.pushState(v,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(w)}s&&l&&l({action:a,location:g.location,delta:1})}function f(_,y){a=Qi.Replace;let m=S2(g.location,_,y);n&&n(m,_),c=u();let v=U4(m,c),w=g.createHref(m);o.replaceState(v,"",w),s&&l&&l({action:a,location:g.location,delta:0})}function p(_){let y=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof _=="string"?_:RE(_);return m=m.replace(/ $/,"%20"),At(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let g={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($4,h),l=_,()=>{i.removeEventListener($4,h),l=null}},createHref(_){return e(i,_)},createURL:p,encodeLocation(_){let y=p(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:f,go(_){return o.go(_)}};return g}var j4;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(j4||(j4={}));function GN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Fl(e):e,i=PE(r.pathname||"/",n);if(i==null)return null;let s=AE(t);KN(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=oD(i);o=rD(s[a],l)}return o}function AE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(At(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=bo([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(At(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),AE(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:tD(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of CE(s.path))i(s,o,l)}),e}function CE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=CE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function KN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const QN=/^:[\w-]+$/,YN=3,XN=2,JN=1,ZN=10,eD=-2,z4=t=>t==="*";function tD(t,e){let n=t.split("/"),r=n.length;return n.some(z4)&&(r+=eD),e&&(r+=XN),n.filter(i=>!z4(i)).reduce((i,s)=>i+(QN.test(s)?YN:s===""?JN:ZN),r)}function nD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function rD(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=iD({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=a.route;s.push({params:r,pathname:bo([i,u.pathname]),pathnameBase:uD(bo([i,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(i=bo([i,u.pathnameBase]))}return s}function iD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:d,isOptional:f}=u;if(d==="*"){let g=a[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?c[d]=void 0:c[d]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function sD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function oD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function PE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function aD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fl(t):t;return{pathname:n?n.startsWith("/")?n:lD(n,e):e,search:hD(r),hash:dD(i)}}function lD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function NE(t,e){let n=cD(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function DE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Fl(t):(i=Xu({},t),At(!i.pathname||!i.pathname.includes("?"),Bm("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),Bm("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),Bm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=aD(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const bo=t=>t.join("/").replace(/\/\/+/g,"/"),uD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OE=["post","put","patch","delete"];new Set(OE);const pD=["get",...OE];new Set(pD);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}const G_=L.createContext(null),gD=L.createContext(null),qh=L.createContext(null),B0=L.createContext(null),Ds=L.createContext({outlet:null,matches:[],isDataRoute:!1}),LE=L.createContext(null);function Gh(){return L.useContext(B0)!=null}function $0(){return Gh()||At(!1),L.useContext(B0).location}function ME(t){L.useContext(qh).static||L.useLayoutEffect(t)}function mD(){let{isDataRoute:t}=L.useContext(Ds);return t?PD():yD()}function yD(){Gh()||At(!1);let t=L.useContext(G_),{basename:e,future:n,navigator:r}=L.useContext(qh),{matches:i}=L.useContext(Ds),{pathname:s}=$0(),o=JSON.stringify(NE(i,n.v7_relativeSplatPath)),a=L.useRef(!1);return ME(()=>{a.current=!0}),L.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=DE(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:bo([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}const _D=L.createContext(null);function vD(t){let e=L.useContext(Ds).outlet;return e&&L.createElement(_D.Provider,{value:t},e)}function wD(t,e){return bD(t,e)}function bD(t,e,n,r){Gh()||At(!1);let{navigator:i}=L.useContext(qh),{matches:s}=L.useContext(Ds),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=$0(),u;if(e){var h;let _=typeof e=="string"?Fl(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||At(!1),u=_}else u=c;let d=u.pathname||"/",f=d;if(l!=="/"){let _=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(_.length).join("/")}let p=GN(t,{pathname:f}),g=xD(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:bo([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:bo([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&g?L.createElement(B0.Provider,{value:{location:Ju({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Qi.Pop}},g):g}function ED(){let t=CD(),e=fD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,null)}const TD=L.createElement(ED,null);class SD extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(Ds.Provider,{value:this.props.routeContext},L.createElement(LE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ID(t){let{routeContext:e,match:n,children:r}=t,i=L.useContext(G_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(Ds.Provider,{value:e},r)}function xD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));u>=0||At(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:d,errors:f}=n,p=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,d)=>{let f,p=!1,g=null,_=null;n&&(f=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||TD,l&&(c<0&&d===0?(ND("route-fallback",!1),p=!0,_=null):c===d&&(p=!0,_=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,d+1)),m=()=>{let v;return f?v=g:p?v=_:h.route.Component?v=L.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,L.createElement(ID,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?L.createElement(SD,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var VE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(VE||{}),Dp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Dp||{});function kD(t){let e=L.useContext(G_);return e||At(!1),e}function RD(t){let e=L.useContext(gD);return e||At(!1),e}function AD(t){let e=L.useContext(Ds);return e||At(!1),e}function FE(t){let e=AD(),n=e.matches[e.matches.length-1];return n.route.id||At(!1),n.route.id}function CD(){var t;let e=L.useContext(LE),n=RD(Dp.UseRouteError),r=FE(Dp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function PD(){let{router:t}=kD(VE.UseNavigateStable),e=FE(Dp.UseNavigateStable),n=L.useRef(!1);return ME(()=>{n.current=!0}),L.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ju({fromRouteId:e},s)))},[t,e])}const W4={};function ND(t,e,n){!e&&!W4[t]&&(W4[t]=!0)}function hu(t){let{to:e,replace:n,state:r,relative:i}=t;Gh()||At(!1);let{future:s,static:o}=L.useContext(qh),{matches:a}=L.useContext(Ds),{pathname:l}=$0(),c=mD(),u=DE(e,NE(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return L.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function BE(t){return vD(t.context)}function $n(t){At(!1)}function DD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qi.Pop,navigator:s,static:o=!1,future:a}=t;Gh()&&At(!1);let l=e.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:l,navigator:s,static:o,future:Ju({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Fl(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,g=L.useMemo(()=>{let _=PE(u,l);return _==null?null:{location:{pathname:_,search:h,hash:d,state:f,key:p},navigationType:i}},[l,u,h,d,f,p,i]);return g==null?null:L.createElement(qh.Provider,{value:c},L.createElement(B0.Provider,{children:n,value:g}))}function OD(t){let{children:e,location:n}=t;return wD(I2(e),n)}new Promise(()=>{});function I2(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,i)=>{if(!L.isValidElement(r))return;let s=[...e,i];if(r.type===L.Fragment){n.push.apply(n,I2(r.props.children,s));return}r.type!==$n&&At(!1),!r.props.index||!r.props.children||At(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=I2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const LD="6";try{window.__reactRouterVersion=LD}catch{}const MD="startTransition",H4=DC[MD];function VD(t){let{basename:e,children:n,future:r,window:i}=t,s=L.useRef();s.current==null&&(s.current=WN({window:i,v5Compat:!0}));let o=s.current,[a,l]=L.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=L.useCallback(h=>{c&&H4?H4(()=>l(h)):l(h)},[l,c]);return L.useLayoutEffect(()=>o.listen(u),[o,u]),L.createElement(DD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var q4;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(q4||(q4={}));var G4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(G4||(G4={}));var $E={};function FD(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var BD=FD,Ee=BD;function $D(t){return!!t&&typeof t.then=="function"}var Qe=$D;function UD(t,e){if(t!=null)return t;throw Ee(e??"Got unexpected null or undefined")}var rt=UD;function ye(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class U0{getValue(){throw Ee("BaseLoadable")}toPromise(){throw Ee("BaseLoadable")}valueMaybe(){throw Ee("BaseLoadable")}valueOrThrow(){throw Ee(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Ee("BaseLoadable")}promiseOrThrow(){throw Ee(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Ee("BaseLoadable")}errorOrThrow(){throw Ee(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Ee("BaseLoadable")}}class jD extends U0{constructor(e){super(),ye(this,"state","hasValue"),ye(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Qe(n)?Do(n):ul(n)?n:Kh(n)}catch(n){return Qe(n)?Do(n.next(()=>this.map(e))):j0(n)}}}class zD extends U0{constructor(e){super(),ye(this,"state","hasError"),ye(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class UE extends U0{constructor(e){super(),ye(this,"state","loading"),ye(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Do(this.contents.then(n=>{const r=e(n);if(ul(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(Qe(n))return n.then(()=>this.map(e).contents);throw n}))}}function Kh(t){return Object.freeze(new jD(t))}function j0(t){return Object.freeze(new zD(t))}function Do(t){return Object.freeze(new UE(t))}function jE(){return Object.freeze(new UE(new Promise(()=>{})))}function WD(t){return t.every(e=>e.state==="hasValue")?Kh(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?j0(rt(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Do(Promise.all(t.map(e=>e.contents)))}function zE(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>ul(i)?i:Qe(i)?Do(i):Kh(i)),r=WD(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((s,o,a)=>({...s,[o]:i[a]}),{}))}function ul(t){return t instanceof U0}const HD={of:t=>Qe(t)?Do(t):ul(t)?t:Kh(t),error:t=>j0(t),loading:()=>jE(),all:zE,isLoadable:ul};var Zo={loadableWithValue:Kh,loadableWithError:j0,loadableWithPromise:Do,loadableLoading:jE,loadableAll:zE,isLoadable:ul,RecoilLoadable:HD},qD=Zo.loadableWithValue,GD=Zo.loadableWithError,KD=Zo.loadableWithPromise,QD=Zo.loadableLoading,YD=Zo.loadableAll,XD=Zo.isLoadable,JD=Zo.RecoilLoadable,Qh=Object.freeze({__proto__:null,loadableWithValue:qD,loadableWithError:GD,loadableWithPromise:KD,loadableLoading:QD,loadableAll:YD,isLoadable:XD,RecoilLoadable:JD});const x2={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function ZD(t,e){var n,r;const i=(n=$E[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw Ee(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function eO(t,e){var n;const r=(n=$E[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function tO(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(ZD("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{x2.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),eO("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{x2.RECOIL_GKS_ENABLED.add(n)})}))}tO();var Bl=x2;function z0(t){return Bl.RECOIL_GKS_ENABLED.has(t)}z0.setPass=t=>{Bl.RECOIL_GKS_ENABLED.add(t)};z0.setFail=t=>{Bl.RECOIL_GKS_ENABLED.delete(t)};z0.clear=()=>{Bl.RECOIL_GKS_ENABLED.clear()};var Ue=z0;function nO(t,e,{error:n}={}){return null}var rO=nO,K_=rO,$m,Um,jm;const iO=($m=We.createMutableSource)!==null&&$m!==void 0?$m:We.unstable_createMutableSource,WE=(Um=We.useMutableSource)!==null&&Um!==void 0?Um:We.unstable_useMutableSource,HE=(jm=We.useSyncExternalStore)!==null&&jm!==void 0?jm:We.unstable_useSyncExternalStore;function sO(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function oO(){return Ue("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Ue("recoil_sync_external_store")&&HE!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Ue("recoil_mutable_source")&&WE!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Ue("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Ue("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function aO(){return!1}var Yh={createMutableSource:iO,useMutableSource:WE,useSyncExternalStore:HE,currentRendererSupportsUseSyncExternalStore:sO,reactMode:oO,isFastRefreshEnabled:aO};class Q_{constructor(e){ye(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class qE extends Q_{}class GE extends Q_{}function lO(t){return t instanceof qE||t instanceof GE}var W0={AbstractRecoilValue:Q_,RecoilState:qE,RecoilValueReadOnly:GE,isRecoilValue:lO},cO=W0.AbstractRecoilValue,uO=W0.RecoilState,hO=W0.RecoilValueReadOnly,dO=W0.isRecoilValue,hl=Object.freeze({__proto__:null,AbstractRecoilValue:cO,RecoilState:uO,RecoilValueReadOnly:hO,isRecoilValue:dO});function fO(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var H0=fO;class KE{}const pO=new KE,Oo=new Map,Y_=new Map;function gO(t){return H0(t,e=>rt(Y_.get(e)))}function mO(t){if(Oo.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function yO(t){Bl.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&mO(t.key),Oo.set(t.key,t);const e=t.set==null?new hl.RecoilValueReadOnly(t.key):new hl.RecoilState(t.key);return Y_.set(t.key,e),e}class QE extends Error{}function _O(t){const e=Oo.get(t);if(e==null)throw new QE(`Missing definition for RecoilValue: "${t}""`);return e}function vO(t){return Oo.get(t)}const Op=new Map;function wO(t){var e;if(!Ue("recoil_memory_managament_2020"))return;const n=Oo.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Oo.delete(t),(r=YE(t))===null||r===void 0||r(),Op.delete(t)}}function bO(t,e){Ue("recoil_memory_managament_2020")&&(e===void 0?Op.delete(t):Op.set(t,e))}function YE(t){return Op.get(t)}var Fn={nodes:Oo,recoilValues:Y_,registerNode:yO,getNode:_O,getNodeMaybe:vO,deleteNodeConfigIfPossible:wO,setConfigDeletionHandler:bO,getConfigDeletionHandler:YE,recoilValuesForKeys:gO,NodeMissingError:QE,DefaultValue:KE,DEFAULT_VALUE:pO};function EO(t,e){e()}var TO={enqueueExecution:EO};function SO(t,e){return e={exports:{}},t(e,e.exports),e.exports}var IO=SO(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},n={},r=5,i=Math.pow(2,r),s=i-1,o=i/2,a=i/4,l={},c=function(x){return function(){return x}},u=n.hash=function(C){var x=typeof C>"u"?"undefined":e(C);if(x==="number")return C;x!=="string"&&(C+="");for(var z=0,Z=0,ee=C.length;Z<ee;++Z){var se=C.charCodeAt(Z);z=(z<<5)-z+se|0}return z},h=function(x){return x-=x>>1&1431655765,x=(x&858993459)+(x>>2&858993459),x=x+(x>>4)&252645135,x+=x>>8,x+=x>>16,x&127},d=function(x,z){return z>>>x&s},f=function(x){return 1<<x},p=function(x,z){return h(x&z-1)},g=function(x,z,Z,ee){var se=ee;if(!x){var pe=ee.length;se=new Array(pe);for(var de=0;de<pe;++de)se[de]=ee[de]}return se[z]=Z,se},_=function(x,z,Z){var ee=Z.length-1,se=0,pe=0,de=Z;if(x)se=pe=z;else for(de=new Array(ee);se<z;)de[pe++]=Z[se++];for(++se;se<=ee;)de[pe++]=Z[se++];return x&&(de.length=ee),de},y=function(x,z,Z,ee){var se=ee.length;if(x){for(var pe=se;pe>=z;)ee[pe--]=ee[pe];return ee[z]=Z,ee}for(var de=0,fe=0,Te=new Array(se+1);de<z;)Te[fe++]=ee[de++];for(Te[z]=Z;de<se;)Te[++fe]=ee[de++];return Te},m=1,v=2,w=3,E=4,T={__hamt_isEmpty:!0},S=function(x){return x===T||x&&x.__hamt_isEmpty},R=function(x,z,Z,ee){return{type:m,edit:x,hash:z,key:Z,value:ee,_modify:O}},V=function(x,z,Z){return{type:v,edit:x,hash:z,children:Z,_modify:U}},N=function(x,z,Z){return{type:w,edit:x,mask:z,children:Z,_modify:M}},K=function(x,z,Z){return{type:E,edit:x,size:z,children:Z,_modify:ie}},ne=function(x){return x===T||x.type===m||x.type===v},he=function(x,z,Z,ee,se){for(var pe=[],de=ee,fe=0,Te=0;de;++Te)de&1&&(pe[Te]=se[fe++]),de>>>=1;return pe[z]=Z,K(x,fe+1,pe)},be=function(x,z,Z,ee){for(var se=new Array(z-1),pe=0,de=0,fe=0,Te=ee.length;fe<Te;++fe)if(fe!==Z){var tt=ee[fe];tt&&!S(tt)&&(se[pe++]=tt,de|=1<<fe)}return N(x,de,se)},I=function C(x,z,Z,ee,se,pe){if(Z===se)return V(x,Z,[pe,ee]);var de=d(z,Z),fe=d(z,se);return N(x,f(de)|f(fe),de===fe?[C(x,z+r,Z,ee,se,pe)]:de<fe?[ee,pe]:[pe,ee])},D=function(x,z,Z,ee,se,pe,de,fe){for(var Te=se.length,tt=0;tt<Te;++tt){var Sn=se[tt];if(Z(de,Sn.key)){var Lt=Sn.value,er=pe(Lt);return er===Lt?se:er===l?(--fe.value,_(x,tt,se)):g(x,tt,R(z,ee,de,er),se)}}var fr=pe();return fr===l?se:(++fe.value,g(x,Te,R(z,ee,de,fr),se))},Q=function(x,z){return x===z.edit},O=function(x,z,Z,ee,se,pe,de){if(z(pe,this.key)){var fe=ee(this.value);return fe===this.value?this:fe===l?(--de.value,T):Q(x,this)?(this.value=fe,this):R(x,se,pe,fe)}var Te=ee();return Te===l?this:(++de.value,I(x,Z,this.hash,this,se,R(x,se,pe,Te)))},U=function(x,z,Z,ee,se,pe,de){if(se===this.hash){var fe=Q(x,this),Te=D(fe,x,z,this.hash,this.children,ee,pe,de);return Te===this.children?this:Te.length>1?V(x,this.hash,Te):Te[0]}var tt=ee();return tt===l?this:(++de.value,I(x,Z,this.hash,this,se,R(x,se,pe,tt)))},M=function(x,z,Z,ee,se,pe,de){var fe=this.mask,Te=this.children,tt=d(Z,se),Sn=f(tt),Lt=p(fe,Sn),er=fe&Sn,fr=er?Te[Lt]:T,ua=fr._modify(x,z,Z+r,ee,se,pe,de);if(fr===ua)return this;var Nd=Q(x,this),rc=fe,ic=void 0;if(er&&S(ua)){if(rc&=~Sn,!rc)return T;if(Te.length<=2&&ne(Te[Lt^1]))return Te[Lt^1];ic=_(Nd,Lt,Te)}else if(!er&&!S(ua)){if(Te.length>=o)return he(x,tt,ua,fe,Te);rc|=Sn,ic=y(Nd,Lt,ua,Te)}else ic=g(Nd,Lt,ua,Te);return Nd?(this.mask=rc,this.children=ic,this):N(x,rc,ic)},ie=function(x,z,Z,ee,se,pe,de){var fe=this.size,Te=this.children,tt=d(Z,se),Sn=Te[tt],Lt=(Sn||T)._modify(x,z,Z+r,ee,se,pe,de);if(Sn===Lt)return this;var er=Q(x,this),fr=void 0;if(S(Sn)&&!S(Lt))++fe,fr=g(er,tt,Lt,Te);else if(!S(Sn)&&S(Lt)){if(--fe,fe<=a)return be(x,fe,tt,Te);fr=g(er,tt,T,Te)}else fr=g(er,tt,Lt,Te);return er?(this.size=fe,this.children=fr,this):K(x,fe,fr)};T._modify=function(C,x,z,Z,ee,se,pe){var de=Z();return de===l?T:(++pe.value,R(C,ee,se,de))};function k(C,x,z,Z,ee){this._editable=C,this._edit=x,this._config=z,this._root=Z,this._size=ee}k.prototype.setTree=function(C,x){return this._editable?(this._root=C,this._size=x,this):C===this._root?this:new k(this._editable,this._edit,this._config,C,x)};var B=n.tryGetHash=function(C,x,z,Z){for(var ee=Z._root,se=0,pe=Z._config.keyEq;;)switch(ee.type){case m:return pe(z,ee.key)?ee.value:C;case v:{if(x===ee.hash)for(var de=ee.children,fe=0,Te=de.length;fe<Te;++fe){var tt=de[fe];if(pe(z,tt.key))return tt.value}return C}case w:{var Sn=d(se,x),Lt=f(Sn);if(ee.mask&Lt){ee=ee.children[p(ee.mask,Lt)],se+=r;break}return C}case E:{if(ee=ee.children[d(se,x)],ee){se+=r;break}return C}default:return C}};k.prototype.tryGetHash=function(C,x,z){return B(C,x,z,this)};var j=n.tryGet=function(C,x,z){return B(C,z._config.hash(x),x,z)};k.prototype.tryGet=function(C,x){return j(C,x,this)};var ce=n.getHash=function(C,x,z){return B(void 0,C,x,z)};k.prototype.getHash=function(C,x){return ce(C,x,this)},n.get=function(C,x){return B(void 0,x._config.hash(C),C,x)},k.prototype.get=function(C,x){return j(x,C,this)};var X=n.has=function(C,x,z){return B(l,C,x,z)!==l};k.prototype.hasHash=function(C,x){return X(C,x,this)};var we=n.has=function(C,x){return X(x._config.hash(C),C,x)};k.prototype.has=function(C){return we(C,this)};var Se=function(x,z){return x===z};n.make=function(C){return new k(0,0,{keyEq:C&&C.keyEq||Se,hash:C&&C.hash||u},T,0)},n.empty=n.make();var ue=n.isEmpty=function(C){return C&&!!S(C._root)};k.prototype.isEmpty=function(){return ue(this)};var et=n.modifyHash=function(C,x,z,Z){var ee={value:Z._size},se=Z._root._modify(Z._editable?Z._edit:NaN,Z._config.keyEq,0,C,x,z,ee);return Z.setTree(se,ee.value)};k.prototype.modifyHash=function(C,x,z){return et(z,C,x,this)};var Ct=n.modify=function(C,x,z){return et(C,z._config.hash(x),x,z)};k.prototype.modify=function(C,x){return Ct(x,C,this)};var Fe=n.setHash=function(C,x,z,Z){return et(c(z),C,x,Z)};k.prototype.setHash=function(C,x,z){return Fe(C,x,z,this)};var lt=n.set=function(C,x,z){return Fe(z._config.hash(C),C,x,z)};k.prototype.set=function(C,x){return lt(C,x,this)};var dr=c(l),Hs=n.removeHash=function(C,x,z){return et(dr,C,x,z)};k.prototype.removeHash=k.prototype.deleteHash=function(C,x){return Hs(C,x,this)};var Zn=n.remove=function(C,x){return Hs(x._config.hash(C),C,x)};k.prototype.remove=k.prototype.delete=function(C){return Zn(C,this)};var Bn=n.beginMutation=function(C){return new k(C._editable+1,C._edit+1,C._config,C._root,C._size)};k.prototype.beginMutation=function(){return Bn(this)};var k9=n.endMutation=function(C){return C._editable=C._editable&&C._editable-1,C};k.prototype.endMutation=function(){return k9(this)};var oC=n.mutate=function(C,x){var z=Bn(x);return C(z),k9(z)};k.prototype.mutate=function(C){return oC(C,this)};var um=function(x){return x&&R9(x[0],x[1],x[2],x[3],x[4])},R9=function(x,z,Z,ee,se){for(;Z<x;){var pe=z[Z++];if(pe&&!S(pe))return A9(pe,ee,[x,z,Z,ee,se])}return um(se)},A9=function(x,z,Z){switch(x.type){case m:return{value:z(x),rest:Z};case v:case E:case w:var ee=x.children;return R9(ee.length,ee,0,z,Z);default:return um(Z)}},aC={done:!0};function hm(C){this.v=C}hm.prototype.next=function(){if(!this.v)return aC;var C=this.v;return this.v=um(C.rest),C},hm.prototype[Symbol.iterator]=function(){return this};var dm=function(x,z){return new hm(A9(x._root,z))},lC=function(x){return[x.key,x.value]},cC=n.entries=function(C){return dm(C,lC)};k.prototype.entries=k.prototype[Symbol.iterator]=function(){return cC(this)};var uC=function(x){return x.key},hC=n.keys=function(C){return dm(C,uC)};k.prototype.keys=function(){return hC(this)};var dC=function(x){return x.value},fC=n.values=k.prototype.values=function(C){return dm(C,dC)};k.prototype.values=function(){return fC(this)};var C9=n.fold=function(C,x,z){var Z=z._root;if(Z.type===m)return C(x,Z.value,Z.key);for(var ee=[Z.children],se=void 0;se=ee.pop();)for(var pe=0,de=se.length;pe<de;){var fe=se[pe++];fe&&fe.type&&(fe.type===m?x=C(x,fe.value,fe.key):ee.push(fe.children))}return x};k.prototype.fold=function(C,x){return C9(C,x,this)};var pC=n.forEach=function(C,x){return C9(function(z,Z,ee){return C(Z,ee,x)},null,x)};k.prototype.forEach=function(C){return pC(C,this)};var gC=n.count=function(C){return C._size};k.prototype.count=function(){return gC(this)},Object.defineProperty(k.prototype,"size",{get:k.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class xO{constructor(e){ye(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return J_(this)}toMap(){return new Map(this._map)}}class X_{constructor(e){if(ye(this,"_hamt",IO.empty.beginMutation()),e instanceof X_){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return J_(this)}toMap(){return new Map(this._hamt)}}function J_(t){return Ue("recoil_hamt_2020")?new X_(t):new xO(t)}var kO={persistentMap:J_},RO=kO.persistentMap,AO=Object.freeze({__proto__:null,persistentMap:RO});function CO(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var du=CO;function PO(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var Lp=PO;function NO(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function DO(t){return{nodeDeps:Lp(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:Lp(t.nodeToNodeSubscriptions,e=>new Set(e))}}function zm(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;i.set(t,e);const a=o==null?e:du(e,o);for(const l of a)s.has(l)||s.set(l,new Set),rt(s.get(l)).add(t);if(o){const l=du(o,e);for(const c of l){if(!s.has(c))return;const u=rt(s.get(c));u.delete(t),u.size===0&&s.delete(c)}}}function OO(t,e,n,r){var i,s,o,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((s=l.previousTree)===null||s===void 0||s.version);const c=n.getGraph(r);if(zm(t,e,c),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const h=n.getGraph(l.currentTree.version);zm(t,e,h,c)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var u;const h=(u=l.nextTree)===null||u===void 0?void 0:u.version;if(h!==void 0){const d=n.getGraph(h);zm(t,e,d,c)}}}var Xh={cloneGraph:DO,graph:NO,saveDepsToStore:OO};let LO=0;const MO=()=>LO++;let VO=0;const FO=()=>VO++;let BO=0;const $O=()=>BO++;var q0={getNextTreeStateVersion:MO,getNextStoreID:FO,getNextComponentID:$O};const{persistentMap:K4}=AO,{graph:UO}=Xh,{getNextTreeStateVersion:XE}=q0;function JE(){const t=XE();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:K4(),nonvalidatedAtoms:K4()}}function jO(){const t=JE();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,UO()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var ZE={makeEmptyTreeState:JE,makeEmptyStoreState:jO,getNextTreeStateVersion:XE};class eT{}function zO(){return new eT}var G0={RetentionZone:eT,retentionZone:zO};function WO(t,e){const n=new Set(t);return n.add(e),n}function HO(t,e){const n=new Set(t);return n.delete(e),n}function qO(t,e,n){const r=new Map(t);return r.set(e,n),r}function GO(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function KO(t,e){const n=new Map(t);return n.delete(e),n}function QO(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var tT={setByAddingToSet:WO,setByDeletingFromSet:HO,mapBySettingInMap:qO,mapByUpdatingInMap:GO,mapByDeletingFromMap:KO,mapByDeletingMultipleFromMap:QO};function*YO(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var Z_=YO;function XO(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var nT=XO;const{getNode:Jh,getNodeMaybe:JO,recoilValuesForKeys:Q4}=Fn,{RetentionZone:Y4}=G0,{setByAddingToSet:ZO}=tT,eL=Object.freeze(new Set);class tL extends Error{}function nL(t,e,n){if(!Ue("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(s){let o=r.get(s);o||r.set(s,o=new Set),o.add(e)}if(n instanceof Y4)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!Ue("recoil_memory_managament_2020"))return;const{retention:s}=t.getState();function o(a){const l=s.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&s.nodesRetainedByZone.delete(a)}if(n instanceof Y4)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function e5(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const s=Jh(n),o=nL(t,n,s.retainedBy),a=s.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),o()})}function rL(t,e,n){e5(t,t.getState().currentTree,e,n)}function iL(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function sL(t,e,n){return e5(t,e,n,"get"),Jh(n).get(t,e)}function rT(t,e,n){return Jh(n).peek(t,e)}function oL(t,e,n){var r;const i=JO(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:ZO(t.dirtyAtoms,e)}}function aL(t,e,n,r){const i=Jh(n);if(i.set==null)throw new tL(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return e5(t,e,n,"set"),s(t,e,r)}function lL(t,e,n){const r=t.getState(),i=t.getGraph(e.version),s=Jh(n).nodeType;return nT({type:s},{loadable:()=>rT(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>s==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return Q4((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:Q4(Z_(iT(t,e,new Set([n])),l=>l!==n)),components:H0((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function iT(t,e,n){const r=new Set,i=Array.from(n),s=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var o;r.add(a);const l=(o=s.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:eL;for(const c of l)r.has(c)||i.push(c)}return r}var Os={getNodeLoadable:sL,peekNodeLoadable:rT,setNodeValue:aL,initializeNode:rL,cleanUpNode:iL,setUnvalidatedAtomValue_DEPRECATED:oL,peekNodeInfo:lL,getDownstreamNodes:iT};let sT=null;function cL(t){sT=t}function uL(){var t;(t=sT)===null||t===void 0||t()}var oT={setInvalidateMemoizedSnapshot:cL,invalidateMemoizedSnapshot:uL};const{getDownstreamNodes:hL,getNodeLoadable:aT,setNodeValue:dL}=Os,{getNextComponentID:fL}=q0,{getNode:pL,getNodeMaybe:lT}=Fn,{DefaultValue:t5}=Fn,{reactMode:gL}=Yh,{AbstractRecoilValue:mL,RecoilState:yL,RecoilValueReadOnly:_L,isRecoilValue:vL}=hl,{invalidateMemoizedSnapshot:wL}=oT;function bL(t,{key:e},n=t.getState().currentTree){var r,i;const s=t.getState();n.version===s.currentTree.version||n.version===((r=s.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=s.previousTree)===null||i===void 0||i.version);const o=aT(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function EL(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof t5?n.delete(i):n.set(i,r)}),n}function TL(t,e,{key:n},r){if(typeof r=="function"){const i=aT(t,e,n);if(i.state==="loading"){const s=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Ee(s)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function SL(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:s}=n,o=TL(t,e,i,s),a=dL(t,e,i.key,o);for(const[l,c]of a.entries())k2(e,l,c)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:s}=n;k2(e,i,s)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:s}=n,o=lT(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,s),e.dirtyAtoms.add(i)}else K_(`Unknown action ${n.type}`)}function k2(t,e,n){n.state==="hasValue"&&n.contents instanceof t5?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function cT(t,e){t.replaceState(n=>{const r=uT(n);for(const i of e)SL(t,r,i);return hT(t,r),wL(),r})}function K0(t,e){if(fu.length){const n=fu[fu.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else cT(t,[e])}const fu=[];function IL(){const t=new Map;return fu.push(t),()=>{for(const[e,n]of t)cT(e,n);fu.pop()}}function uT(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function hT(t,e){const n=hL(t,e,e.dirtyAtoms);for(const s of n){var r,i;(r=lT(s))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function dT(t,e,n){K0(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function xL(t,e,n){if(n instanceof t5)return dT(t,e,n);K0(t,{type:"setLoadable",recoilValue:e,loadable:n})}function kL(t,e){K0(t,{type:"markModified",recoilValue:e})}function RL(t,e,n){K0(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function AL(t,{key:e},n,r=null){const i=fL(),s=t.getState();s.nodeToComponentSubscriptions.has(e)||s.nodeToComponentSubscriptions.set(e,new Map),rt(s.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const o=gL();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function CL(t,e){var n;const{currentTree:r}=t.getState(),i=pL(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var ei={RecoilValueReadOnly:_L,AbstractRecoilValue:mL,RecoilState:yL,getRecoilValueAsLoadable:bL,setRecoilValue:dT,setRecoilValueLoadable:xL,markRecoilValueModified:kL,setUnvalidatedRecoilValue:RL,subscribeToRecoilValue:AL,isRecoilValue:vL,applyAtomValueWrites:EL,batchStart:IL,writeLoadableToTreeState:k2,invalidateDownstreams:hT,copyTreeState:uT,refreshRecoilValue:CL};function PL(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const s=i.value;if(e.call(n,s[1],s[0],t))return!0;i=r.next()}return!1}var NL=PL;const{cleanUpNode:DL}=Os,{deleteNodeConfigIfPossible:OL,getNode:fT}=Fn,{RetentionZone:pT}=G0,LL=12e4,gT=new Set;function mT(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const o of e)if(o instanceof pT)for(const a of BL(n,o))i.add(a);else i.add(o);const s=ML(t,i);for(const o of s)FL(t,r,o)}function ML(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),s=new Set,o=new Set;return a(e),s;function a(l){const c=new Set,u=VL(t,r,l,s,o);for(const p of u){var h;if(fT(p).retainedBy==="recoilRoot"){o.add(p);continue}if(((h=n.retention.referenceCounts.get(p))!==null&&h!==void 0?h:0)>0){o.add(p);continue}if(yT(p).some(_=>n.retention.referenceCounts.get(_))){o.add(p);continue}const g=i.nodeToNodeSubscriptions.get(p);if(g&&NL(g,_=>o.has(_))){o.add(p);continue}s.add(p),c.add(p)}const d=new Set;for(const p of c)for(const g of(f=i.nodeDeps.get(p))!==null&&f!==void 0?f:gT){var f;s.has(g)||d.add(g)}d.size&&a(d)}}function VL(t,e,n,r,i){const s=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(rt(n.values().next().value));return o;function l(c){if(r.has(c)||i.has(c)){n.delete(c);return}if(a.has(c))return;const u=s.nodeToNodeSubscriptions.get(c);if(u)for(const h of u)l(h);a.add(c),n.delete(c),o.push(c)}}function FL(t,e,n){if(!Ue("recoil_memory_managament_2020"))return;DL(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=yT(n);for(const l of i){var s;(s=r.retention.nodesRetainedByZone.get(l))===null||s===void 0||s.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const c of l){var a;(a=o.nodeToNodeSubscriptions.get(c))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}OL(n)}function BL(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:gT}function yT(t){const e=fT(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof pT?[e]:e}function $L(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):mT(t,new Set([e]))}function UL(t,e,n){var r;if(!Ue("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,s=((r=i.get(e))!==null&&r!==void 0?r:0)+n;s===0?_T(t,e):i.set(e,s)}function _T(t,e){if(!Ue("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),$L(t,e)}function jL(t){if(!Ue("recoil_memory_managament_2020"))return;const e=t.getState();mT(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function zL(t){return t===void 0?"recoilRoot":t}var ea={SUSPENSE_TIMEOUT_MS:LL,updateRetainCount:UL,updateRetainCountToZero:_T,releaseScheduledRetainablesNow:jL,retainedByOptionWithDefault:zL};const{unstable_batchedUpdates:WL}=zN;var HL={unstable_batchedUpdates:WL};const{unstable_batchedUpdates:qL}=HL;var GL={unstable_batchedUpdates:qL};const{batchStart:KL}=ei,{unstable_batchedUpdates:QL}=GL;let n5=QL||(t=>t());const YL=t=>{n5=t},XL=()=>n5,JL=t=>{n5(()=>{let e=()=>{};try{e=KL(),t()}finally{e()}})};var Q0={getBatcher:XL,setBatcher:YL,batchUpdates:JL};function*ZL(t){for(const e of t)for(const n of e)yield n}var vT=ZL;const wT=typeof Window>"u"||typeof window>"u",eM=t=>!wT&&(t===window||t instanceof Window),tM=typeof navigator<"u"&&navigator.product==="ReactNative";var Y0={isSSR:wT,isReactNative:tM,isWindow:eM};function nM(t,e){let n;return(...r)=>{n||(n={});const i=e(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=t(...r)),n[i]}}function rM(t,e){let n,r;return(...i)=>{const s=e(...i);return n===s||(n=s,r=t(...i)),r}}function iM(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var sM={memoizeWithArgsHash:nM,memoizeOneWithArgsHash:rM,memoizeOneWithArgsHashAndInvalidation:iM};const{batchUpdates:R2}=Q0,{initializeNode:oM,peekNodeInfo:aM}=Os,{graph:lM}=Xh,{getNextStoreID:cM}=q0,{DEFAULT_VALUE:uM,recoilValues:X4,recoilValuesForKeys:J4}=Fn,{AbstractRecoilValue:hM,getRecoilValueAsLoadable:dM,setRecoilValue:Z4,setUnvalidatedRecoilValue:fM}=ei,{updateRetainCount:Uf}=ea,{setInvalidateMemoizedSnapshot:pM}=oT,{getNextTreeStateVersion:gM,makeEmptyStoreState:mM}=ZE,{isSSR:yM}=Y0,{memoizeOneWithArgsHashAndInvalidation:_M}=sM;class X0{constructor(e,n){ye(this,"_store",void 0),ye(this,"_refCount",1),ye(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),dM(this._store,r))),ye(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),ye(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return J4(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,s=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?X4.values():r.isInitialized===!0?J4(vT([i,s])):Z_(X4.values(),({key:o})=>!i.has(o)&&!s.has(o))}),ye(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),aM(this._store,this._store.getState().currentTree,r))),ye(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new A2(this,R2);return r(i),i}),ye(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new A2(this,R2);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:cM(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return rt(i.get(r));const s=lM();return i.set(r,s),s},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Ee("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)oM(this._store,r,"get"),Uf(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){yM||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Ue("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Ue("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function bT(t,e,n=!1){const r=t.getState(),i=n?gM():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(H0(r.nodeCleanupFunctions.entries(),([s])=>[s,()=>{}]))}}function vM(t){const e=new X0(mM());return t!=null?e.map(t):e}const[e6,ET]=_M((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:rt(r.previousTree);return new X0(bT(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});pM(ET);function wM(t,e="latest"){const n=e6(t,e);return n.isRetained()?n:(ET(),e6(t,e))}class A2 extends X0{constructor(e,n){super(bT(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),ye(this,"_batch",void 0),ye(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Uf(s,r.key,1),Z4(this.getStore_INTERNAL(),r,i)})}),ye(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Uf(i,r.key,1),Z4(this.getStore_INTERNAL(),r,uM)})}),ye(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();R2(()=>{for(const[s,o]of r.entries())Uf(i,s,1),fM(i,new hM(s),o)})}),this._batch=n}}var J0={Snapshot:X0,MutableSnapshot:A2,freshSnapshot:vM,cloneSnapshot:wM},bM=J0.Snapshot,EM=J0.MutableSnapshot,TM=J0.freshSnapshot,SM=J0.cloneSnapshot,Z0=Object.freeze({__proto__:null,Snapshot:bM,MutableSnapshot:EM,freshSnapshot:TM,cloneSnapshot:SM});function IM(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var xM=IM;const{useRef:kM}=We;function RM(t){const e=kM(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var t6=RM;const{getNextTreeStateVersion:AM,makeEmptyStoreState:TT}=ZE,{cleanUpNode:CM,getDownstreamNodes:PM,initializeNode:NM,setNodeValue:DM,setUnvalidatedAtomValue_DEPRECATED:OM}=Os,{graph:LM}=Xh,{cloneGraph:MM}=Xh,{getNextStoreID:ST}=q0,{createMutableSource:Wm,reactMode:IT}=Yh,{applyAtomValueWrites:VM}=ei,{releaseScheduledRetainablesNow:xT}=ea,{freshSnapshot:FM}=Z0,{useCallback:BM,useContext:kT,useEffect:C2,useMemo:$M,useRef:UM,useState:jM}=We;function fc(){throw Ee("This component must be used inside a <RecoilRoot> component.")}const RT=Object.freeze({storeID:ST(),getState:fc,replaceState:fc,getGraph:fc,subscribeToTransactions:fc,addTransactionMetadata:fc});let P2=!1;function n6(t){if(P2)throw Ee("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Ue("recoil_memory_managament_2020")&&Ue("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&xT(t);const n=e.currentTree.version,r=AM();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,MM(rt(e.graphsByVersion.get(n))))}}const AT=We.createContext({current:RT}),eg=()=>kT(AT),CT=We.createContext(null);function zM(){return kT(CT)}function r5(t,e,n){const r=PM(t,n,n.dirtyAtoms);for(const i of r){const s=e.nodeToComponentSubscriptions.get(i);if(s)for(const[o,[a,l]]of s)l(n)}}function PT(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,s]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[o,a]of s)a(t);for(const[i,s]of e.transactionSubscriptions)s(t);(!IT().early||e.suspendedComponentResolvers.size>0)&&(r5(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function WM(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,PT(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):K_("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Ue("recoil_memory_managament_2020")&&n==null&&xT(t)}finally{e.commitDepth--}}function HM({setNotifyBatcherOfChange:t}){const e=eg(),[,n]=jM([]);return t(()=>n({})),C2(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),C2(()=>{TO.enqueueExecution("Batcher",()=>{WM(e.current)})}),null}function qM(t,e){const n=TT();return e({set:(r,i)=>{const s=n.currentTree,o=DM(t,s,r.key,i),a=new Set(o.keys()),l=s.nonvalidatedAtoms.clone();for(const c of a)l.delete(c);n.currentTree={...s,dirtyAtoms:xM(s.dirtyAtoms,a),atomValues:VM(s.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,s)=>{n.currentTree=OM(n.currentTree,s,i)})}}),n}function GM(t){const e=FM(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let r6=0;function KM({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const s=f=>{const p=i.current.graphsByVersion;if(p.has(f))return rt(p.get(f));const g=LM();return p.set(f,g),g},o=(f,p)=>{if(p==null){const{transactionSubscriptions:g}=h.current.getState(),_=r6++;return g.set(_,f),{release:()=>{g.delete(_)}}}else{const{nodeTransactionSubscriptions:g}=h.current.getState();g.has(p)||g.set(p,new Map);const _=r6++;return rt(g.get(p)).set(_,f),{release:()=>{const y=g.get(p);y&&(y.delete(_),y.size===0&&g.delete(p))}}}},a=f=>{n6(h.current);for(const p of Object.keys(f))rt(h.current.getState().nextTree).transactionMetadata[p]=f[p]},l=f=>{n6(h.current);const p=rt(i.current.nextTree);let g;try{P2=!0,g=f(p)}finally{P2=!1}g!==p&&(i.current.nextTree=g,IT().early&&r5(h.current,i.current,g),rt(c.current)())},c=UM(null),u=BM(f=>{c.current=f},[c]),h=t6(()=>n??{storeID:ST(),getState:()=>i.current,replaceState:l,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(h.current=n),i=t6(()=>t!=null?qM(h.current,t):e!=null?GM(e):TT());const d=$M(()=>Wm==null?void 0:Wm(i,()=>i.current.currentTree.version),[i]);return C2(()=>{const f=h.current;for(const p of new Set(f.getState().knownAtoms))NM(f,p,"get");return()=>{for(const p of f.getState().knownAtoms)CM(f,p)}},[h]),We.createElement(AT.Provider,{value:h},We.createElement(CT.Provider,{value:d},We.createElement(HM,{setNotifyBatcherOfChange:u}),r))}function QM(t){const{override:e,...n}=t,r=eg();return e===!1&&r.current!==RT?t.children:We.createElement(KM,n)}function YM(){return eg().current.storeID}var Ai={RecoilRoot:QM,useStoreRef:eg,useRecoilMutableSource:zM,useRecoilStoreID:YM,notifyComponents_FOR_TESTING:r5,sendEndOfBatchNotifications_FOR_TESTING:PT};function XM(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var JM=XM;const{useEffect:ZM,useRef:eV}=We;function tV(t){const e=eV();return ZM(()=>{e.current=t}),e.current}var NT=tV;const{useStoreRef:nV}=Ai,{SUSPENSE_TIMEOUT_MS:rV}=ea,{updateRetainCount:pc}=ea,{RetentionZone:iV}=G0,{useEffect:sV,useRef:oV}=We,{isSSR:i6}=Y0;function aV(t){if(Ue("recoil_memory_managament_2020"))return lV(t)}function lV(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof iV?o:o.key),r=nV();sV(()=>{if(!Ue("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!i6)window.clearTimeout(i.current),i.current=null;else for(const a of n)pc(o,a,1);return()=>{for(const a of n)pc(o,a,-1)}},[r,...n]);const i=oV(),s=NT(n);if(!i6&&(s===void 0||!JM(s,n))){const o=r.current;for(const a of n)pc(o,a,1);if(s)for(const a of s)pc(o,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)pc(o,a,-1)},rV)}}var i5=aV;function cV(){return"<component name not available>"}var Zh=cV;const{batchUpdates:uV}=Q0,{DEFAULT_VALUE:DT}=Fn,{currentRendererSupportsUseSyncExternalStore:hV,reactMode:$l,useMutableSource:dV,useSyncExternalStore:fV}=Yh,{useRecoilMutableSource:pV,useStoreRef:ti}=Ai,{AbstractRecoilValue:N2,getRecoilValueAsLoadable:ed,setRecoilValue:Mp,setUnvalidatedRecoilValue:gV,subscribeToRecoilValue:dl}=ei,{useCallback:Vn,useEffect:fl,useMemo:OT,useRef:pu,useState:s5}=We,{setByAddingToSet:mV}=tT,{isSSR:yV}=Y0;function o5(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const s=n.current.getState().suspendedComponentResolvers;s.add(i),yV&&Qe(t.contents)&&t.contents.finally(()=>{s.delete(i)})}):t.state==="hasError"?t.contents:Ee(`Invalid value of loadable atom "${e.key}"`)}function _V(){const t=Zh(),e=ti(),[,n]=s5([]),r=pu(new Set);r.current=new Set;const i=pu(new Set),s=pu(new Map),o=Vn(l=>{const c=s.current.get(l);c&&(c.release(),s.current.delete(l))},[s]),a=Vn((l,c)=>{s.current.has(c)&&n([])},[]);return fl(()=>{const l=e.current;du(r.current,i.current).forEach(c=>{if(s.current.has(c))return;const u=dl(l,new N2(c),d=>a(d,c),t);s.current.set(c,u),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),c)}):a(l.getState(),c)}),du(i.current,r.current).forEach(c=>{o(c)}),i.current=r.current}),fl(()=>{const l=s.current;return du(r.current,new Set(l.keys())).forEach(c=>{const u=dl(e.current,new N2(c),h=>a(h,c),t);l.set(c,u)}),()=>l.forEach((c,u)=>o(u))},[t,e,o,a]),OT(()=>{function l(p){return g=>{Mp(e.current,p,g)}}function c(p){return()=>Mp(e.current,p,DT)}function u(p){var g;r.current.has(p.key)||(r.current=mV(r.current,p.key));const _=e.current.getState();return ed(e.current,p,$l().early&&(g=_.nextTree)!==null&&g!==void 0?g:_.currentTree)}function h(p){const g=u(p);return o5(g,p,e)}function d(p){return[h(p),l(p)]}function f(p){return[u(p),l(p)]}return{getRecoilValue:h,getRecoilValueLoadable:u,getRecoilState:d,getRecoilStateLoadable:f,getSetRecoilState:l,getResetRecoilState:c}},[r,e])}const vV={current:0};function wV(t){const e=ti(),n=Zh(),r=Vn(()=>{var a;const l=e.current,c=l.getState(),u=$l().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return{loadable:ed(l,t,u),key:t.key}},[e,t]),i=Vn(a=>{let l;return()=>{var c,u;const h=a();return(c=l)!==null&&c!==void 0&&c.loadable.is(h.loadable)&&((u=l)===null||u===void 0?void 0:u.key)===h.key?l:(l=h,h)}},[]),s=OT(()=>i(r),[r,i]),o=Vn(a=>{const l=e.current;return dl(l,t,a,n).release},[e,t,n]);return fV(o,s,s).loadable}function bV(t){const e=ti(),n=Vn(()=>{var c;const u=e.current,h=u.getState(),d=$l().early&&(c=h.nextTree)!==null&&c!==void 0?c:h.currentTree;return ed(u,t,d)},[e,t]),r=Vn(()=>n(),[n]),i=Zh(),s=Vn((c,u)=>{const h=e.current;return dl(h,t,()=>{if(!Ue("recoil_suppress_rerender_in_callback"))return u();const f=n();l.current.is(f)||u(),l.current=f},i).release},[e,t,i,n]),o=pV();if(o==null)throw Ee("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=dV(o,r,s),l=pu(a);return fl(()=>{l.current=a}),a}function D2(t){const e=ti(),n=Zh(),r=Vn(()=>{var l;const c=e.current,u=c.getState(),h=$l().early&&(l=u.nextTree)!==null&&l!==void 0?l:u.currentTree;return ed(c,t,h)},[e,t]),i=Vn(()=>({loadable:r(),key:t.key}),[r,t.key]),s=Vn(l=>{const c=i();return l.loadable.is(c.loadable)&&l.key===c.key?l:c},[i]);fl(()=>{const l=dl(e.current,t,c=>{a(s)},n);return a(s),l.release},[n,t,e,s]);const[o,a]=s5(i);return o.key!==t.key?i().loadable:o.loadable}function EV(t){const e=ti(),[,n]=s5([]),r=Zh(),i=Vn(()=>{var a;const l=e.current,c=l.getState(),u=$l().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return ed(l,t,u)},[e,t]),s=i(),o=pu(s);return fl(()=>{o.current=s}),fl(()=>{const a=e.current,l=a.getState(),c=dl(a,t,h=>{var d;if(!Ue("recoil_suppress_rerender_in_callback"))return n([]);const f=i();(d=o.current)!==null&&d!==void 0&&d.is(f)||n(f),o.current=f},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var u;if(!Ue("recoil_suppress_rerender_in_callback"))return n([]);const h=i();(u=o.current)!==null&&u!==void 0&&u.is(h)||n(h),o.current=h}return c.release},[r,i,t,e]),s}function a5(t){return Ue("recoil_memory_managament_2020")&&i5(t),{TRANSITION_SUPPORT:D2,SYNC_EXTERNAL_STORE:hV()?wV:D2,MUTABLE_SOURCE:bV,LEGACY:EV}[$l().mode](t)}function LT(t){const e=ti(),n=a5(t);return o5(n,t,e)}function tg(t){const e=ti();return Vn(n=>{Mp(e.current,t,n)},[e,t])}function TV(t){const e=ti();return Vn(()=>{Mp(e.current,t,DT)},[e,t])}function SV(t){return[LT(t),tg(t)]}function IV(t){return[a5(t),tg(t)]}function xV(){const t=ti();return(e,n={})=>{uV(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>gV(t.current,new N2(i),r))})}}function MT(t){return Ue("recoil_memory_managament_2020")&&i5(t),D2(t)}function VT(t){const e=ti(),n=MT(t);return o5(n,t,e)}function kV(t){return[VT(t),tg(t)]}var RV={recoilComponentGetRecoilValueCount_FOR_TESTING:vV,useRecoilInterface:_V,useRecoilState:SV,useRecoilStateLoadable:IV,useRecoilValue:LT,useRecoilValueLoadable:a5,useResetRecoilState:TV,useSetRecoilState:tg,useSetUnvalidatedAtomValues:xV,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:MT,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:VT,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:kV};function AV(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var CV=AV;function PV(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var NV=PV;function DV(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var OV=DV;const{batchUpdates:LV}=Q0,{DEFAULT_VALUE:MV,getNode:FT,nodes:VV}=Fn,{useStoreRef:l5}=Ai,{AbstractRecoilValue:FV,setRecoilValueLoadable:BV}=ei,{SUSPENSE_TIMEOUT_MS:$V}=ea,{cloneSnapshot:Vp}=Z0,{useCallback:ng,useEffect:BT,useRef:s6,useState:UV}=We,{isSSR:o6}=Y0;function rg(t){const e=l5();BT(()=>e.current.subscribeToTransactions(t).release,[t,e])}function a6(t){const e=t.atomValues.toMap(),n=Lp(CV(e,(r,i)=>{const o=FT(i).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return OV(t.nonvalidatedAtoms.toMap(),n)}function jV(t){rg(ng(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=a6(r),s=a6(n),o=Lp(VV,l=>{var c,u,h,d;return{persistence_UNSTABLE:{type:(c=(u=l.persistence_UNSTABLE)===null||u===void 0?void 0:u.type)!==null&&c!==void 0?c:"none",backButton:(h=(d=l.persistence_UNSTABLE)===null||d===void 0?void 0:d.backButton)!==null&&h!==void 0?h:!1}}}),a=NV(r.dirtyAtoms,l=>i.has(l)||s.has(l));t({atomValues:i,previousAtomValues:s,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function zV(t){rg(ng(e=>{const n=Vp(e,"latest"),r=Vp(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function WV(){const t=l5(),[e,n]=UV(()=>Vp(t.current)),r=NT(e),i=s6(),s=s6();if(rg(ng(a=>n(Vp(a)),[])),BT(()=>{const a=e.retain();if(i.current&&!o6){var l;window.clearTimeout(i.current),i.current=null,(l=s.current)===null||l===void 0||l.call(s),s.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!o6){if(i.current){var o;window.clearTimeout(i.current),i.current=null,(o=s.current)===null||o===void 0||o.call(s),s.current=null}s.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=s.current)===null||a===void 0||a.call(s),s.current=null},$V)}return e}function $T(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,s=e.getStore_INTERNAL().getState().currentTree;LV(()=>{const o=new Set;for(const c of[i.atomValues.keys(),s.atomValues.keys()])for(const u of c){var a,l;((a=i.atomValues.get(u))===null||a===void 0?void 0:a.contents)!==((l=s.atomValues.get(u))===null||l===void 0?void 0:l.contents)&&FT(u).shouldRestoreFromSnapshots&&o.add(u)}o.forEach(c=>{BV(t,new FV(c),s.atomValues.has(c)?rt(s.atomValues.get(c)):MV)}),t.replaceState(c=>({...c,stateID:e.getID()}))})}function HV(){const t=l5();return ng(e=>$T(t.current,e),[t])}var UT={useRecoilSnapshot:WV,gotoSnapshot:$T,useGotoRecoilSnapshot:HV,useRecoilTransactionObserver:zV,useTransactionObservation_DEPRECATED:jV,useTransactionSubscription_DEPRECATED:rg};const{peekNodeInfo:qV}=Os,{useStoreRef:GV}=Ai;function KV(){const t=GV();return({key:e})=>qV(t.current,t.current.getState().currentTree,e)}var QV=KV;const{reactMode:YV}=Yh,{RecoilRoot:XV,useStoreRef:JV}=Ai,{useMemo:ZV}=We;function eF(){YV().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=JV().current;return ZV(()=>{function e({children:n}){return We.createElement(XV,{store_INTERNAL:t},n)}return e},[t])}var tF=eF;const{loadableWithValue:nF}=Qh,{initializeNode:rF}=Os,{DEFAULT_VALUE:iF,getNode:sF}=Fn,{copyTreeState:oF,getRecoilValueAsLoadable:aF,invalidateDownstreams:lF,writeLoadableToTreeState:cF}=ei;function l6(t){return sF(t.key).nodeType==="atom"}class uF{constructor(e,n){ye(this,"_store",void 0),ye(this,"_treeState",void 0),ye(this,"_changes",void 0),ye(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!l6(r))throw Ee("Reading selectors within atomicUpdate is not supported");const i=aF(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:Ee(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),ye(this,"set",(r,i)=>{if(!l6(r))throw Ee("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const s=this.get(r);this._changes.set(r.key,i(s))}else rF(this._store,r.key,"set"),this._changes.set(r.key,i)}),ye(this,"reset",r=>{this.set(r,iF)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=oF(this._treeState);for(const[n,r]of this._changes)cF(e,n,nF(r));return lF(this._store,e),e}}function hF(t){return e=>{t.replaceState(n=>{const r=new uF(t,n);return e(r),r.newTreeState_INTERNAL()})}}var dF={atomicUpdater:hF},fF=dF.atomicUpdater,jT=Object.freeze({__proto__:null,atomicUpdater:fF});function pF(t,e){if(!t)throw new Error(e)}var gF=pF,$c=gF;const{atomicUpdater:mF}=jT,{batchUpdates:yF}=Q0,{DEFAULT_VALUE:_F}=Fn,{useStoreRef:vF}=Ai,{refreshRecoilValue:wF,setRecoilValue:c6}=ei,{cloneSnapshot:bF}=Z0,{gotoSnapshot:EF}=UT,{useCallback:TF}=We;class zT{}const SF=new zT;function WT(t,e,n,r){let i=SF,s;if(yF(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Ee(a);const l=nT({...r??{},set:(u,h)=>c6(t,u,h),reset:u=>c6(t,u,_F),refresh:u=>wF(t,u),gotoSnapshot:u=>EF(t,u),transact_UNSTABLE:u=>mF(t)(u)},{snapshot:()=>{const u=bF(t);return s=u.retain(),u}}),c=e(l);if(typeof c!="function")throw Ee(a);i=c(...n)}),i instanceof zT&&$c(!1),Qe(i))i=i.finally(()=>{var a;(a=s)===null||a===void 0||a()});else{var o;(o=s)===null||o===void 0||o()}return i}function IF(t,e){const n=vF();return TF((...r)=>WT(n.current,t,r),e!=null?[...e,n]:void 0)}var HT={recoilCallback:WT,useRecoilCallback:IF};const{useStoreRef:xF}=Ai,{refreshRecoilValue:kF}=ei,{useCallback:RF}=We;function AF(t){const e=xF();return RF(()=>{const n=e.current;kF(n,t)},[t,e])}var CF=AF;const{atomicUpdater:PF}=jT,{useStoreRef:NF}=Ai,{useMemo:DF}=We;function OF(t,e){const n=NF();return DF(()=>(...r)=>{PF(n.current)(s=>{t(s)(...r)})},e!=null?[...e,n]:void 0)}var LF=OF;class MF{constructor(e){ye(this,"value",void 0),this.value=e}}var VF={WrappedValue:MF},FF=VF.WrappedValue,qT=Object.freeze({__proto__:null,WrappedValue:FF});const{isFastRefreshEnabled:BF}=Yh;class u6 extends Error{}class $F{constructor(e){var n,r,i;ye(this,"_name",void 0),ye(this,"_numLeafs",void 0),ye(this,"_root",void 0),ye(this,"_onHit",void 0),ye(this,"_onSet",void 0),ye(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:s=>s}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var s,o,a,l;let c,u;for(const[_,y]of e){var h,d,f;const m=this._root;if((m==null?void 0:m.type)==="leaf")throw this.invalidCacheError();const v=c;if(c=v?v.branches.get(u):m,c=(h=c)!==null&&h!==void 0?h:{type:"branch",nodeKey:_,parent:v,branches:new Map,branchKey:u},c.type!=="branch"||c.nodeKey!==_)throw this.invalidCacheError();v==null||v.branches.set(u,c),r==null||(d=r.onNodeVisit)===null||d===void 0||d.call(r,c),u=this._mapNodeValue(y),this._root=(f=this._root)!==null&&f!==void 0?f:c}const p=c?(s=c)===null||s===void 0?void 0:s.branches.get(u):this._root;if(p!=null&&(p.type!=="leaf"||p.branchKey!==u))throw this.invalidCacheError();const g={type:"leaf",value:n,parent:c,branchKey:u};(o=c)===null||o===void 0||o.branches.set(u,g),this._root=(a=this._root)!==null&&a!==void 0?a:g,this._numLeafs++,this._onSet(g),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,g)};try{i()}catch(s){if(s instanceof u6)this.clear(),i();else throw s}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var s;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(s=r)===null||s===void 0?void 0:s.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=BF()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw K_(e+(this._name!=null?` - ${this._name}`:"")),new u6}}var UF={TreeCache:$F},jF=UF.TreeCache,GT=Object.freeze({__proto__:null,TreeCache:jF});class zF{constructor(e){var n;ye(this,"_maxSize",void 0),ye(this,"_size",void 0),ye(this,"_head",void 0),ye(this,"_tail",void 0),ye(this,"_map",void 0),ye(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const s=this.head(),o={key:e,right:s,left:null,value:n};s?s.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=rt(this._map.get(n)),i=r.right,s=r.left;i&&(i.left=r.left),s&&(s.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=s),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var WF={LRUCache:zF},HF=WF.LRUCache,KT=Object.freeze({__proto__:null,LRUCache:HF});const{LRUCache:qF}=KT,{TreeCache:GF}=GT;function KF({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new qF({maxSize:e}),i=new GF({name:t,mapNodeValue:n,onHit:s=>{r.set(s,!0)},onSet:s=>{const o=r.tail();r.set(s,!0),o&&i.size()>e&&i.delete(o.key)}});return i}var h6=KF;function gr(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Ee("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Qe(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,s)=>gr(i,e,s.toString()))}]`;if(typeof t.toJSON=="function")return gr(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[s,o]of t)i[typeof s=="string"?s:gr(s,e)]=o;return gr(i,e,n)}return t instanceof Set?gr(Array.from(t).sort((i,s)=>gr(i,e).localeCompare(gr(s,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?gr(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${gr(i,e)}:${gr(t[i],e,i)}`).join(",")}}`}function QF(t,e={allowFunctions:!1}){return gr(t,e)}var ig=QF;const{TreeCache:YF}=GT,Yd={equality:"reference",eviction:"keep-all",maxSize:1/0};function XF({equality:t=Yd.equality,eviction:e=Yd.eviction,maxSize:n=Yd.maxSize}=Yd,r){const i=JF(t);return ZF(e,n,i,r)}function JF(t){switch(t){case"reference":return e=>e;case"value":return e=>ig(e)}throw Ee(`Unrecognized equality policy ${t}`)}function ZF(t,e,n,r){switch(t){case"keep-all":return new YF({name:r,mapNodeValue:n});case"lru":return h6({name:r,maxSize:rt(e),mapNodeValue:n});case"most-recent":return h6({name:r,maxSize:1,mapNodeValue:n})}throw Ee(`Unrecognized eviction policy ${t}`)}var eB=XF;function tB(t){return()=>null}var nB={startPerfBlock:tB};const{isLoadable:rB,loadableWithError:Xd,loadableWithPromise:iB,loadableWithValue:Hm}=Qh,{WrappedValue:QT}=qT,{getNodeLoadable:Jd,peekNodeLoadable:sB,setNodeValue:oB}=Os,{saveDepsToStore:aB}=Xh,{DEFAULT_VALUE:lB,getConfigDeletionHandler:cB,getNode:uB,registerNode:d6}=Fn,{isRecoilValue:hB}=hl,{markRecoilValueModified:f6}=ei,{retainedByOptionWithDefault:dB}=ea,{recoilCallback:fB}=HT,{startPerfBlock:pB}=nB;class YT{}const gc=new YT,mc=[],Zd=new Map,gB=(()=>{let t=0;return()=>t++})();function XT(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,s=t.set!=null?t.set:void 0,o=new Set,a=eB(i??{equality:"reference",eviction:"keep-all"},n),l=dB(t.retainedBy_UNSTABLE),c=new Map;let u=0;function h(){return!Ue("recoil_memory_managament_2020")||u>0}function d(k){return k.getState().knownSelectors.add(n),u++,()=>{u--}}function f(){return cB(n)!==void 0&&!h()}function p(k,B,j,ce,X){D(B,ce,X),g(k,j)}function g(k,B){be(k,B)&&he(k),y(B,!0)}function _(k,B){be(k,B)&&(rt(N(k)).stateVersions.clear(),y(B,!1))}function y(k,B){const j=Zd.get(k);if(j!=null){for(const ce of j)f6(ce,rt(e));B&&Zd.delete(k)}}function m(k,B){let j=Zd.get(B);j==null&&Zd.set(B,j=new Set),j.add(k)}function v(k,B,j,ce,X,we){return B.then(Se=>{if(!h())throw he(k),gc;const ue=Hm(Se);return p(k,j,X,ue,ce),Se}).catch(Se=>{if(!h())throw he(k),gc;if(Qe(Se))return w(k,Se,j,ce,X,we);const ue=Xd(Se);throw p(k,j,X,ue,ce),Se})}function w(k,B,j,ce,X,we){return B.then(Se=>{if(!h())throw he(k),gc;we.loadingDepKey!=null&&we.loadingDepPromise===B?j.atomValues.set(we.loadingDepKey,Hm(Se)):k.getState().knownSelectors.forEach(Fe=>{j.atomValues.delete(Fe)});const ue=S(k,j);if(ue&&ue.state!=="loading"){if((be(k,X)||N(k)==null)&&g(k,X),ue.state==="hasValue")return ue.contents;throw ue.contents}if(!be(k,X)){const Fe=V(k,j);if(Fe!=null)return Fe.loadingLoadable.contents}const[et,Ct]=T(k,j,X);if(et.state!=="loading"&&p(k,j,X,et,Ct),et.state==="hasError")throw et.contents;return et.contents}).catch(Se=>{if(Se instanceof YT)throw gc;if(!h())throw he(k),gc;const ue=Xd(Se);throw p(k,j,X,ue,ce),Se})}function E(k,B,j,ce){var X,we,Se,ue;if(be(k,ce)||B.version===((X=k.getState())===null||X===void 0||(we=X.currentTree)===null||we===void 0?void 0:we.version)||B.version===((Se=k.getState())===null||Se===void 0||(ue=Se.nextTree)===null||ue===void 0?void 0:ue.version)){var et,Ct,Fe;aB(n,j,k,(et=(Ct=k.getState())===null||Ct===void 0||(Fe=Ct.nextTree)===null||Fe===void 0?void 0:Fe.version)!==null&&et!==void 0?et:k.getState().currentTree.version)}for(const lt of j)o.add(lt)}function T(k,B,j){const ce=pB(n);let X=!0,we=!0;const Se=()=>{ce(),we=!1};let ue,et=!1,Ct;const Fe={loadingDepKey:null,loadingDepPromise:null},lt=new Map;function dr({key:Zn}){const Bn=Jd(k,B,Zn);switch(lt.set(Zn,Bn),X||(E(k,B,new Set(lt.keys()),j),_(k,j)),Bn.state){case"hasValue":return Bn.contents;case"hasError":throw Bn.contents;case"loading":throw Fe.loadingDepKey=Zn,Fe.loadingDepPromise=Bn.contents,Bn.contents}throw Ee("Invalid Loadable state")}const Hs=Zn=>(...Bn)=>{if(we)throw Ee("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&$c(!1),fB(k,Zn,Bn,{node:e})};try{ue=r({get:dr,getCallback:Hs}),ue=hB(ue)?dr(ue):ue,rB(ue)&&(ue.state==="hasError"&&(et=!0),ue=ue.contents),Qe(ue)?ue=v(k,ue,B,lt,j,Fe).finally(Se):Se(),ue=ue instanceof QT?ue.value:ue}catch(Zn){ue=Zn,Qe(ue)?ue=w(k,ue,B,lt,j,Fe).finally(Se):(et=!0,Se())}return et?Ct=Xd(ue):Qe(ue)?Ct=iB(ue):Ct=Hm(ue),X=!1,ne(k,j,lt),E(k,B,new Set(lt.keys()),j),[Ct,lt]}function S(k,B){let j=B.atomValues.get(n);if(j!=null)return j;const ce=new Set;try{j=a.get(we=>(typeof we!="string"&&$c(!1),Jd(k,B,we).contents),{onNodeVisit:we=>{we.type==="branch"&&we.nodeKey!==n&&ce.add(we.nodeKey)}})}catch(we){throw Ee(`Problem with cache lookup for selector "${n}": ${we.message}`)}if(j){var X;B.atomValues.set(n,j),E(k,B,ce,(X=N(k))===null||X===void 0?void 0:X.executionID)}return j}function R(k,B){const j=S(k,B);if(j!=null)return he(k),j;const ce=V(k,B);if(ce!=null){var X;return((X=ce.loadingLoadable)===null||X===void 0?void 0:X.state)==="loading"&&m(k,ce.executionID),ce.loadingLoadable}const we=gB(),[Se,ue]=T(k,B,we);return Se.state==="loading"?(K(k,we,Se,ue,B),m(k,we)):(he(k),D(B,Se,ue)),Se}function V(k,B){const j=vT([c.has(k)?[rt(c.get(k))]:[],H0(Z_(c,([X])=>X!==k),([,X])=>X)]);function ce(X){for(const[we,Se]of X)if(!Jd(k,B,we).is(Se))return!0;return!1}for(const X of j){if(X.stateVersions.get(B.version)||!ce(X.depValuesDiscoveredSoFarDuringAsyncWork))return X.stateVersions.set(B.version,!0),X;X.stateVersions.set(B.version,!1)}}function N(k){return c.get(k)}function K(k,B,j,ce,X){c.set(k,{depValuesDiscoveredSoFarDuringAsyncWork:ce,executionID:B,loadingLoadable:j,stateVersions:new Map([[X.version,!0]])})}function ne(k,B,j){if(be(k,B)){const ce=N(k);ce!=null&&(ce.depValuesDiscoveredSoFarDuringAsyncWork=j)}}function he(k){c.delete(k)}function be(k,B){var j;return B===((j=N(k))===null||j===void 0?void 0:j.executionID)}function I(k){return Array.from(k.entries()).map(([B,j])=>[B,j.contents])}function D(k,B,j){k.atomValues.set(n,B);try{a.set(I(j),B)}catch(ce){throw Ee(`Problem with setting cache for selector "${n}": ${ce.message}`)}}function Q(k){if(mc.includes(n)){const B=`Recoil selector has circular dependencies: ${mc.slice(mc.indexOf(n)).join("  ")}`;return Xd(Ee(B))}mc.push(n);try{return k()}finally{mc.pop()}}function O(k,B){const j=B.atomValues.get(n);return j??a.get(ce=>{var X;return typeof ce!="string"&&$c(!1),(X=sB(k,B,ce))===null||X===void 0?void 0:X.contents})}function U(k,B){return Q(()=>R(k,B))}function M(k){k.atomValues.delete(n)}function ie(k,B){e==null&&$c(!1);for(const ce of o){var j;const X=uB(ce);(j=X.clearCache)===null||j===void 0||j.call(X,k,B)}o.clear(),M(B),a.clear(),f6(k,e)}return s!=null?e=d6({key:n,nodeType:"selector",peek:O,get:U,set:(B,j,ce)=>{let X=!1;const we=new Map;function Se({key:Fe}){if(X)throw Ee("Recoil: Async selector sets are not currently supported.");const lt=Jd(B,j,Fe);if(lt.state==="hasValue")return lt.contents;if(lt.state==="loading"){const dr=`Getting value of asynchronous atom or selector "${Fe}" in a pending state while setting selector "${n}" is not yet supported.`;throw Ee(dr)}else throw lt.contents}function ue(Fe,lt){if(X)throw Ee("Recoil: Async selector sets are not currently supported.");const dr=typeof lt=="function"?lt(Se(Fe)):lt;oB(B,j,Fe.key,dr).forEach((Zn,Bn)=>we.set(Bn,Zn))}function et(Fe){ue(Fe,lB)}const Ct=s({set:ue,get:Se,reset:et},ce);if(Ct!==void 0)throw Qe(Ct)?Ee("Recoil: Async selector sets are not currently supported."):Ee("Recoil: selector set should be a void function.");return X=!0,we},init:d,invalidate:M,clearCache:ie,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=d6({key:n,nodeType:"selector",peek:O,get:U,init:d,invalidate:M,clearCache:ie,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}XT.value=t=>new QT(t);var pl=XT;const{isLoadable:mB,loadableWithError:qm,loadableWithPromise:Gm,loadableWithValue:da}=Qh,{WrappedValue:JT}=qT,{peekNodeInfo:yB}=Os,{DEFAULT_VALUE:ro,DefaultValue:ji,getConfigDeletionHandler:ZT,registerNode:_B,setConfigDeletionHandler:vB}=Fn,{isRecoilValue:wB}=hl,{getRecoilValueAsLoadable:bB,markRecoilValueModified:EB,setRecoilValue:p6,setRecoilValueLoadable:TB}=ei,{retainedByOptionWithDefault:SB}=ea,yc=t=>t instanceof JT?t.value:t;function IB(t){const{key:e,persistence_UNSTABLE:n}=t,r=SB(t.retainedBy_UNSTABLE);let i=0;function s(m){return Gm(m.then(v=>(o=da(v),v)).catch(v=>{throw o=qm(v),v}))}let o=Qe(t.default)?s(t.default):mB(t.default)?t.default.state==="loading"?s(t.default.contents):t.default:da(yc(t.default));o.contents;let a;const l=new Map;function c(m){return m}function u(m,v){const w=v.then(E=>{var T,S;return((S=((T=m.getState().nextTree)!==null&&T!==void 0?T:m.getState().currentTree).atomValues.get(e))===null||S===void 0?void 0:S.contents)===w&&p6(m,y,E),E}).catch(E=>{var T,S;throw((S=((T=m.getState().nextTree)!==null&&T!==void 0?T:m.getState().currentTree).atomValues.get(e))===null||S===void 0?void 0:S.contents)===w&&TB(m,y,qm(E)),E});return w}function h(m,v,w){var E;i++;const T=()=>{var N;i--,(N=l.get(m))===null||N===void 0||N.forEach(K=>K()),l.delete(m)};if(m.getState().knownAtoms.add(e),o.state==="loading"){const N=()=>{var K;((K=m.getState().nextTree)!==null&&K!==void 0?K:m.getState().currentTree).atomValues.has(e)||EB(m,y)};o.contents.finally(N)}const S=(E=t.effects)!==null&&E!==void 0?E:t.effects_UNSTABLE;if(S!=null){let N=function(M){if(be&&M.key===e){const ie=he;return ie instanceof ji?d(m,v):Qe(ie)?Gm(ie.then(k=>k instanceof ji?o.toPromise():k)):da(ie)}return bB(m,M)},K=function(M){return N(M).toPromise()},ne=function(M){var ie;const k=yB(m,(ie=m.getState().nextTree)!==null&&ie!==void 0?ie:m.getState().currentTree,M.key);return be&&M.key===e&&!(he instanceof ji)?{...k,isSet:!0,loadable:N(M)}:k},he=ro,be=!0,I=!1,D=null;const Q=M=>ie=>{if(be){const k=N(y),B=k.state==="hasValue"?k.contents:ro;he=typeof ie=="function"?ie(B):ie,Qe(he)&&(he=he.then(j=>(D={effect:M,value:j},j)))}else{if(Qe(ie))throw Ee("Setting atoms to async values is not implemented.");typeof ie!="function"&&(D={effect:M,value:yc(ie)}),p6(m,y,typeof ie=="function"?k=>{const B=yc(ie(k));return D={effect:M,value:B},B}:yc(ie))}},O=M=>()=>Q(M)(ro),U=M=>ie=>{var k;const{release:B}=m.subscribeToTransactions(j=>{var ce;let{currentTree:X,previousTree:we}=j.getState();we||(we=X);const Se=(ce=X.atomValues.get(e))!==null&&ce!==void 0?ce:o;if(Se.state==="hasValue"){var ue,et,Ct,Fe;const lt=Se.contents,dr=(ue=we.atomValues.get(e))!==null&&ue!==void 0?ue:o,Hs=dr.state==="hasValue"?dr.contents:ro;((et=D)===null||et===void 0?void 0:et.effect)!==M||((Ct=D)===null||Ct===void 0?void 0:Ct.value)!==lt?ie(lt,Hs,!X.atomValues.has(e)):((Fe=D)===null||Fe===void 0?void 0:Fe.effect)===M&&(D=null)}},e);l.set(m,[...(k=l.get(m))!==null&&k!==void 0?k:[],B])};for(const M of S)try{const ie=M({node:y,storeID:m.storeID,parentStoreID_UNSTABLE:m.parentStoreID,trigger:w,setSelf:Q(M),resetSelf:O(M),onSet:U(M),getPromise:K,getLoadable:N,getInfo_UNSTABLE:ne});if(ie!=null){var R;l.set(m,[...(R=l.get(m))!==null&&R!==void 0?R:[],ie])}}catch(ie){he=ie,I=!0}if(be=!1,!(he instanceof ji)){var V;const M=I?qm(he):Qe(he)?Gm(u(m,he)):da(yc(he));M.contents,v.atomValues.set(e,M),(V=m.getState().nextTree)===null||V===void 0||V.atomValues.set(e,M)}}return T}function d(m,v){var w,E;return(w=(E=v.atomValues.get(e))!==null&&E!==void 0?E:a)!==null&&w!==void 0?w:o}function f(m,v){if(v.atomValues.has(e))return rt(v.atomValues.get(e));if(v.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const w=v.nonvalidatedAtoms.get(e),E=n.validator(w,ro);return a=E instanceof ji?o:da(E),a}else return o}function p(){a=void 0}function g(m,v,w){if(v.atomValues.has(e)){const E=rt(v.atomValues.get(e));if(E.state==="hasValue"&&w===E.contents)return new Map}else if(!v.nonvalidatedAtoms.has(e)&&w instanceof ji)return new Map;return a=void 0,new Map().set(e,da(w))}function _(){return ZT(e)!==void 0&&i<=0}const y=_B({key:e,nodeType:"atom",peek:d,get:f,set:g,init:h,invalidate:p,shouldDeleteConfigOnRelease:_,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return y}function c5(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return wB(n)?xB({...e,default:n}):IB({...e,default:n})}function xB(t){const e=c5({...t,default:ro,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof ji?r:rt(t.persistence_UNSTABLE).validator(r,ro)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=pl({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof ji?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return vB(n.key,ZT(t.key)),n}c5.value=t=>new JT(t);var eS=c5;class kB{constructor(e){var n;ye(this,"_map",void 0),ye(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var RB={MapCache:kB},AB=RB.MapCache,CB=Object.freeze({__proto__:null,MapCache:AB});const{LRUCache:g6}=KT,{MapCache:PB}=CB,ef={equality:"reference",eviction:"none",maxSize:1/0};function NB({equality:t=ef.equality,eviction:e=ef.eviction,maxSize:n=ef.maxSize}=ef){const r=DB(t);return OB(e,n,r)}function DB(t){switch(t){case"reference":return e=>e;case"value":return e=>ig(e)}throw Ee(`Unrecognized equality policy ${t}`)}function OB(t,e,n){switch(t){case"keep-all":return new PB({mapKey:n});case"lru":return new g6({mapKey:n,maxSize:rt(e)});case"most-recent":return new g6({mapKey:n,maxSize:1})}throw Ee(`Unrecognized eviction policy ${t}`)}var tS=NB;const{setConfigDeletionHandler:LB}=Fn;function MB(t){var e,n;const r=tS({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s,o;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...c}=t,u="default"in t?t.default:new Promise(()=>{}),h=eS({...c,key:`${t.key}__${(s=ig(i))!==null&&s!==void 0?s:"void"}`,default:typeof u=="function"?u(i):u,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(i,h),LB(h.key,()=>{r.delete(i)}),h}}var VB=MB;const{setConfigDeletionHandler:FB}=Fn;let BB=0;function $B(t){var e,n;const r=tS({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s;let o;try{o=r.get(i)}catch(d){throw Ee(`Problem with cache lookup for selector ${t.key}: ${d.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(s=ig(i,{allowFunctions:!0}))!==null&&s!==void 0?s:"void"}/${BB++}`,l=d=>t.get(i)(d),c=t.cachePolicy_UNSTABLE,u=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let h;if(t.set!=null){const d=t.set;h=pl({key:a,get:l,set:(p,g)=>d(i)(p,g),cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u})}else h=pl({key:a,get:l,cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u});return r.set(i,h),FB(h.key,()=>{r.delete(i)}),h}}var Ls=$B;const UB=Ls({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function jB(t){return UB(t)}var zB=jB;const WB=Ls({key:"__error",get:t=>()=>{throw Ee(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function HB(t){return WB(t)}var qB=HB;function GB(t){return t}var KB=GB;const{loadableWithError:nS,loadableWithPromise:rS,loadableWithValue:iS}=Qh;function sg(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,s]of e.entries())try{n[i]=t(s)}catch(o){r[i]=o}return[n,r]}function QB(t){return t!=null&&!Qe(t)}function og(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function O2(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function Ka(t,e,n){const r=n.map((i,s)=>i==null?iS(e[s]):Qe(i)?rS(i):nS(i));return O2(t,r)}function YB(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const XB=Ls({key:"__waitForNone",get:t=>({get:e})=>{const n=og(t),[r,i]=sg(e,n);return Ka(t,r,i)},dangerouslyAllowMutability:!0}),JB=Ls({key:"__waitForAny",get:t=>({get:e})=>{const n=og(t),[r,i]=sg(e,n);return i.some(s=>!Qe(s))?Ka(t,r,i):new Promise(s=>{for(const[o,a]of i.entries())Qe(a)&&a.then(l=>{r[o]=l,i[o]=void 0,s(Ka(t,r,i))}).catch(l=>{i[o]=l,s(Ka(t,r,i))})})},dangerouslyAllowMutability:!0}),ZB=Ls({key:"__waitForAll",get:t=>({get:e})=>{const n=og(t),[r,i]=sg(e,n);if(i.every(o=>o==null))return O2(t,r);const s=i.find(QB);if(s!=null)throw s;return Promise.all(i).then(o=>O2(t,YB(r,o)))},dangerouslyAllowMutability:!0}),e$=Ls({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=og(t),[r,i]=sg(e,n);return i.every(s=>!Qe(s))?Ka(t,r,i):Promise.all(i.map((s,o)=>Qe(s)?s.then(a=>{r[o]=a,i[o]=void 0}).catch(a=>{r[o]=void 0,i[o]=a}):null)).then(()=>Ka(t,r,i))},dangerouslyAllowMutability:!0}),t$=Ls({key:"__noWait",get:t=>({get:e})=>{try{return pl.value(iS(e(t)))}catch(n){return pl.value(Qe(n)?rS(n):nS(n))}},dangerouslyAllowMutability:!0});var n$={waitForNone:XB,waitForAny:JB,waitForAll:ZB,waitForAllSettled:e$,noWait:t$};const{RecoilLoadable:r$}=Qh,{DefaultValue:i$}=Fn,{RecoilRoot:s$,useRecoilStoreID:o$}=Ai,{isRecoilValue:a$}=hl,{retentionZone:l$}=G0,{freshSnapshot:c$}=Z0,{useRecoilState:u$,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:h$,useRecoilStateLoadable:d$,useRecoilValue:f$,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:p$,useRecoilValueLoadable:g$,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:m$,useResetRecoilState:y$,useSetRecoilState:_$}=RV,{useGotoRecoilSnapshot:v$,useRecoilSnapshot:w$,useRecoilTransactionObserver:b$}=UT,{useRecoilCallback:E$}=HT,{noWait:T$,waitForAll:S$,waitForAllSettled:I$,waitForAny:x$,waitForNone:k$}=n$;var u5={DefaultValue:i$,isRecoilValue:a$,RecoilLoadable:r$,RecoilEnv:Bl,RecoilRoot:s$,useRecoilStoreID:o$,useRecoilBridgeAcrossReactRoots_UNSTABLE:tF,atom:eS,selector:pl,atomFamily:VB,selectorFamily:Ls,constSelector:zB,errorSelector:qB,readOnlySelector:KB,noWait:T$,waitForNone:k$,waitForAny:x$,waitForAll:S$,waitForAllSettled:I$,useRecoilValue:f$,useRecoilValueLoadable:g$,useRecoilState:u$,useRecoilStateLoadable:d$,useSetRecoilState:_$,useResetRecoilState:y$,useGetRecoilValueInfo_UNSTABLE:QV,useRecoilRefresher_UNSTABLE:CF,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:m$,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:p$,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:h$,useRecoilCallback:E$,useRecoilTransaction_UNSTABLE:LF,useGotoRecoilSnapshot:v$,useRecoilSnapshot:w$,useRecoilTransactionObserver_UNSTABLE:b$,snapshot_UNSTABLE:c$,useRetain:i5,retentionZone:l$},R$=u5.RecoilRoot,h5=u5.atom,gs=u5.useRecoilState;const Dr="/assets/usa-BeFRcQv-.png",d5=h5({key:"webSettings",default:{theme:"light",language:"en",languageLogo:Dr,selectedTab:"coins"}}),td="/assets/logo-DRWUd7yX.png",gu="/assets/germany-RcDfzgS0.webp",mu="/assets/italy-k4diam-A.webp",yu="/assets/china-BJC3NXIF.png";function A$(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const m6={};function L2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&m6[e[0]]||(typeof e[0]=="string"&&(m6[e[0]]=new Date),A$(...e))}const sS=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function y6(t,e,n){t.loadNamespaces(e,sS(t,n))}function _6(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,sS(t,r))}function C$(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=e.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))}function P$(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(L2("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,t))return!1}}):C$(t,e,n)}const N$=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,D$={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},O$=t=>D$[t],L$=t=>t.replace(N$,O$);let M2={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:L$};function M$(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};M2={...M2,...t}}function V$(){return M2}let oS;function F$(t){oS=t}function B$(){return oS}const $$={type:"3rdParty",init(t){M$(t.options.react),F$(t)}},U$=L.createContext();class j${constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const z$=(t,e)=>{const n=L.useRef();return L.useEffect(()=>{n.current=e?n.current:t},[t,e]),n.current};function aS(t,e,n,r){return t.getFixedT(e,n,r)}function W$(t,e,n,r){return L.useCallback(aS(t,e,n,r),[t,e,n,r])}function Tn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:i}=L.useContext(U$)||{},s=n||r||B$();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new j$),!s){L2("You will need to pass in an i18next instance by using initReactI18next");const w=(T,S)=>typeof S=="string"?S:S&&typeof S=="object"&&typeof S.defaultValue=="string"?S.defaultValue:Array.isArray(T)?T[T.length-1]:T,E=[w,{},!1];return E.t=w,E.i18n={},E.ready=!1,E}s.options.react&&s.options.react.wait!==void 0&&L2("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...V$(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=t||i||s.options&&s.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(c);const u=(s.isInitialized||s.initializedStoreOnce)&&c.every(w=>P$(w,s,o)),h=W$(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),d=()=>h,f=()=>aS(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[p,g]=L.useState(d);let _=c.join();e.lng&&(_=`${e.lng}${_}`);const y=z$(_),m=L.useRef(!0);L.useEffect(()=>{const{bindI18n:w,bindI18nStore:E}=o;m.current=!0,!u&&!a&&(e.lng?_6(s,e.lng,c,()=>{m.current&&g(f)}):y6(s,c,()=>{m.current&&g(f)})),u&&y&&y!==_&&m.current&&g(f);function T(){m.current&&g(f)}return w&&s&&s.on(w,T),E&&s&&s.store.on(E,T),()=>{m.current=!1,w&&s&&w.split(" ").forEach(S=>s.off(S,T)),E&&s&&E.split(" ").forEach(S=>s.store.off(S,T))}},[s,_]),L.useEffect(()=>{m.current&&u&&g(d)},[s,l,u]);const v=[p,s,u];if(v.t=p,v.i18n=s,v.ready=u,u||!u&&!a)return v;throw new Promise(w=>{e.lng?_6(s,e.lng,c,()=>w()):y6(s,c,()=>w())})}const H$={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};let q$=class V2{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||H$,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new V2(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new V2(this.logger,e)}};var Br=new q$;class ag{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a.apply(a,[e,...r])})}}function _c(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function v6(t){return t==null?"":""+t}function G$(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}const K$=/###/g;function _u(t,e,n){function r(a){return a&&a.indexOf("###")>-1?a.replace(K$,"."):a}function i(){return!t||typeof t=="string"}const s=typeof e!="string"?e:e.split(".");let o=0;for(;o<s.length-1;){if(i())return{};const a=r(s[o]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++o}return i()?{}:{obj:t,k:r(s[o])}}function w6(t,e,n){const{obj:r,k:i}=_u(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=_u(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=_u(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n}function Q$(t,e,n,r){const{obj:i,k:s}=_u(t,e,Object);i[s]=i[s]||[],r&&(i[s]=i[s].concat(n)),r||i[s].push(n)}function Fp(t,e){const{obj:n,k:r}=_u(t,e);if(n)return n[r]}function Y$(t,e,n){const r=Fp(t,n);return r!==void 0?r:Fp(e,n)}function lS(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):lS(t[r],e[r],n):t[r]=e[r]);return t}function fa(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var X$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function J$(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>X$[e]):t}class Z${constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const eU=[" ",",","?","!",";"],tU=new Z$(20);function nU(t,e,n){e=e||"",n=n||"";const r=eU.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=tU.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function F2(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i}function Bp(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class b6 extends ag{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):typeof r=="string"&&s?a.push(...r.split(s)):a.push(r)));const l=Fp(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||typeof r!="string"?l:F2(this.data&&this.data[e]&&this.data[e][n],r,s)}addResource(e,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),w6(this.data,a,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)(typeof r[s]=="string"||Object.prototype.toString.apply(r[s])==="[object Array]")&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=Fp(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?lS(l,r,s):l={...l,...r},w6(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var cS={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,n,r,i))}),e}};const E6={};class $p extends ag{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),G$(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Br.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!nU(e,r,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:s};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(i)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],n),l=a[a.length-1],c=n.lng||this.language,u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(u){const w=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${w}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${w}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const h=this.resolve(e,n);let d=h&&h.res;const f=h&&h.usedKey||o,p=h&&h.exactUsedKey||o,g=Object.prototype.toString.apply(d),_=["[object Number]","[object Function]","[object RegExp]"],y=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject;if(m&&d&&(typeof d!="string"&&typeof d!="boolean"&&typeof d!="number")&&_.indexOf(g)<0&&!(typeof y=="string"&&g==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,d,{...n,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(h.res=w,h.usedParams=this.getUsedParamsDetails(n),h):w}if(s){const w=g==="[object Array]",E=w?[]:{},T=w?p:f;for(const S in d)if(Object.prototype.hasOwnProperty.call(d,S)){const R=`${T}${s}${S}`;E[S]=this.translate(R,{...n,joinArrays:!1,ns:a}),E[S]===R&&(E[S]=d[S])}d=E}}else if(m&&typeof y=="string"&&g==="[object Array]")d=d.join(y),d&&(d=this.extendTranslation(d,e,n,r));else{let w=!1,E=!1;const T=n.count!==void 0&&typeof n.count!="string",S=$p.hasDefaultValue(n),R=T?this.pluralResolver.getSuffix(c,n.count,n):"",V=n.ordinal&&T?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",N=T&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),K=N&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${R}`]||n[`defaultValue${V}`]||n.defaultValue;!this.isValidLookup(d)&&S&&(w=!0,d=K),this.isValidLookup(d)||(E=!0,d=o);const he=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&E?void 0:d,be=S&&K!==d&&this.options.updateMissing;if(E||w||be){if(this.logger.log(be?"updateKey":"missingKey",c,l,o,be?K:d),s){const O=this.resolve(o,{...n,keySeparator:!1});O&&O.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let I=[];const D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&D&&D[0])for(let O=0;O<D.length;O++)I.push(D[O]);else this.options.saveMissingTo==="all"?I=this.languageUtils.toResolveHierarchy(n.lng||this.language):I.push(n.lng||this.language);const Q=(O,U,M)=>{const ie=S&&M!==d?M:he;this.options.missingKeyHandler?this.options.missingKeyHandler(O,l,U,ie,be,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(O,l,U,ie,be,n),this.emit("missingKey",O,l,U,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?I.forEach(O=>{const U=this.pluralResolver.getSuffixes(O,n);N&&n[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(M=>{Q([O],o+M,n[`defaultValue${M}`]||K)})}):Q(I,o,K))}d=this.extendTranslation(d,e,n,h,r),E&&d===o&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${o}`),(E||w)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,w?d:void 0):d=this.options.parseMissingKeyHandler(d))}return i?(h.res=d,h.usedParams=this.getUsedParamsDetails(n),h):d}extendTranslation(e,n,r,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const d=e.match(this.interpolator.nestingRegexp);u=d&&d.length}let h=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language,r),c){const d=e.match(this.interpolator.nestingRegexp),f=d&&d.length;u<f&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];return s&&s[0]===f[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${n[0]}`),null):o.translate(...f,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=cS.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,o,a;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const d=n.count!==void 0&&typeof n.count!="string",f=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),p=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",g=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(_=>{this.isValidLookup(r)||(a=_,!E6[`${g[0]}-${_}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(E6[`${g[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(y=>{if(this.isValidLookup(r))return;o=y;const m=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(m,u,y,_,n);else{let w;d&&(w=this.pluralResolver.getSuffix(y,n.count,n));const E=`${this.options.pluralSeparator}zero`,T=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(m.push(u+w),n.ordinal&&w.indexOf(T)===0&&m.push(u+w.replace(T,this.options.pluralSeparator)),f&&m.push(u+E)),p){const S=`${u}${this.options.contextSeparator}${n.context}`;m.push(S),d&&(m.push(S+w),n.ordinal&&w.indexOf(T)===0&&m.push(S+w.replace(T,this.options.pluralSeparator)),f&&m.push(S+E))}}let v;for(;v=m.pop();)this.isValidLookup(r)||(s=v,r=this.getResource(y,_,v,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string";let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function Km(t){return t.charAt(0).toUpperCase()+t.slice(1)}class T6{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Br.create("languageUtils")}getScriptPartFromCode(e){if(e=Bp(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Bp(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Km(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Km(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Km(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let rU=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],iU={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const sU=["v1","v2","v3"],oU=["v4"],S6={zero:0,one:1,two:2,few:3,many:4,other:5};function aU(){const t={};return rU.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:iU[e.fc]}})}),t}class lU{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Br.create("pluralResolver"),(!this.options.compatibilityJSON||oU.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=aU()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Bp(e==="dev"?"en":e),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>S6[i]-S6[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!sU.includes(this.options.compatibilityJSON)}}function I6(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=Y$(t,e,n);return!s&&i&&typeof n=="string"&&(s=F2(t,n,r),s===void 0&&(s=F2(e,n,r))),s}class cU{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Br.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:J$,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?fa(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?fa(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?fa(n.nestingPrefix):n.nestingPrefixEscaped||fa("$t("),this.nestingSuffix=n.nestingSuffix?fa(n.nestingSuffix):n.nestingSuffixEscaped||fa(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(p){return p.replace(/\$/g,"$$$$")}const u=p=>{if(p.indexOf(this.formatSeparator)<0){const m=I6(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,r,{...i,...n,interpolationkey:p}):m}const g=p.split(this.formatSeparator),_=g.shift().trim(),y=g.join(this.formatSeparator).trim();return this.format(I6(n,l,_,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...i,...n,interpolationkey:_})};this.resetRegExp();const h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>c(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?c(this.escape(p)):c(p)}].forEach(p=>{for(a=0;s=p.regex.exec(e);){const g=s[1].trim();if(o=u(g),o===void 0)if(typeof h=="function"){const y=h(e,s,i);o=typeof y=="string"?y:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))o="";else if(d){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=v6(o));const _=p.safeValue(o);if(e=e.replace(s[0],_),d?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=s[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;function a(l,c){const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const h=l.split(new RegExp(`${u}[ ]*{`));let d=`{${h[1]}`;l=h[0],d=this.interpolate(d,o);const f=d.match(/'/g),p=d.match(/"/g);(f&&f.length%2===0&&!p||p.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),c&&(o={...c,...o})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,g),`${l}${u}${d}`}return delete o.defaultValue,l}for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const u=i[1].split(this.formatSeparator).map(h=>h.trim());i[1]=u.shift(),l=u,c=!0}if(s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=v6(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c&&(s=l.reduce((u,h)=>this.format(u,h,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}function uU(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(!o)return;const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,"");n[a.trim()]||(n[a.trim()]=c),c==="false"&&(n[a.trim()]=!1),c==="true"&&(n[a.trim()]=!0),isNaN(c)||(n[a.trim()]=parseInt(c,10))})}return{formatName:e,formatOptions:n}}function pa(t){const e={};return function(r,i,s){const o=i+JSON.stringify(s);let a=e[o];return a||(a=t(Bp(i),s),e[o]=a),a(r)}}class hU{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Br.create("formatter"),this.options=e,this.formats={number:pa((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:pa((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:pa((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:pa((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:pa((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=pa(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((a,l)=>{const{formatName:c,formatOptions:u}=uU(l);if(this.formats[c]){let h=a;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},f=d.locale||d.lng||i.locale||i.lng||r;h=this.formats[c](a,f,{...u,...i,...d})}catch(d){this.logger.warn(d)}return h}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}function dU(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class fU extends ag{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Br.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},a={},l={};return e.forEach(c=>{let u=!0;n.forEach(h=>{const d=`${c}|${h}`;!r.reload&&this.store.hasResourceBundle(c,h)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,u=!1,o[d]===void 0&&(o[d]=!0),s[d]===void 0&&(s[d]=!0),l[h]===void 0&&(l[h]=!0)))}),u||(a[c]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2;const a={};this.queue.forEach(l=>{Q$(l.loaded,[s],o),dU(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const u=l.loaded[c];u.length&&u.forEach(h=>{a[c][h]===void 0&&(a[c][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>a(null,u)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(e,n,r,i,l):u=c(e,n,r,i),u&&typeof u.then=="function"?u.then(h=>a(null,h)).catch(a):a(null,u)}catch(u){a(u)}else c(e,n,r,i,a,l)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}function x6(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function k6(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function tf(){}function pU(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class Zu extends ag{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=k6(e),this.services={},this.logger=Br,this.modules={external:[]},pU(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=x6();this.options={...i,...this.options,...k6(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function s(u){return u?typeof u=="function"?new u:u:null}if(!this.options.isClone){this.modules.logger?Br.init(s(this.modules.logger),this.options):Br.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=hU);const h=new T6(this.options);this.store=new b6(this.options.resources,this.options);const d=this.services;d.logger=Br,d.resourceStore=this.store,d.languageUtils=h,d.pluralResolver=new lU(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=s(u),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new cU(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new fU(s(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(f){for(var p=arguments.length,g=new Array(p>1?p-1:0),_=1;_<p;_++)g[_-1]=arguments[_];e.emit(f,...g)}),this.modules.languageDetector&&(d.languageDetector=s(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=s(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new $p(this.services,this.options),this.translator.on("*",function(f){for(var p=arguments.length,g=new Array(p>1?p-1:0),_=1;_<p;_++)g[_-1]=arguments[_];e.emit(f,...g)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,r||(r=tf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const l=_c(),c=()=>{const u=(h,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),r(h,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tf;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&s.indexOf(c)<0&&s.push(c)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,n,r){const i=_c();return e||(e=this.languages),n||(n=this.options.ns),r||(r=tf),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&cS.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=_c();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||s(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,u=>{o(u,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,n,r){var i=this;const s=function(o,a){let l;if(typeof a!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),h=2;h<c;h++)u[h-2]=arguments[h];l=i.options.overloadTranslationOptionHandler([o,a].concat(u))}else l={...a};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix=l.keyPrefix||r||s.keyPrefix;const d=i.options.keySeparator||".";let f;return l.keyPrefix&&Array.isArray(o)?f=o.map(p=>`${l.keyPrefix}${d}${p}`):f=l.keyPrefix?`${l.keyPrefix}${d}${o}`:o,i.t(f,l)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=_c();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=_c();typeof e=="string"&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0);return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new T6(x6());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Zu(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tf;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new Zu(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new b6(this.store.data,i),s.services.resourceStore=s.store),s.translator=new $p(s.services,i),s.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];s.emit(a,...c)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Be=Zu.createInstance();Be.createInstance=Zu.createInstance;Be.createInstance;Be.dir;Be.init;Be.loadResources;Be.reloadResources;Be.use;Be.changeLanguage;Be.getFixedT;Be.t;Be.exists;Be.setDefaultNamespace;Be.hasLoadedNamespace;Be.loadNamespaces;Be.loadLanguages;var R6={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),r.push(n[u],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new mU;const d=s<<2|a>>4;if(r.push(d),c!==64){const f=a<<4&240|c>>2;if(r.push(f),h!==64){const p=c<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yU=function(t){const e=uS(t);return hS.encodeByteArray(e,!0)},Up=function(t){return yU(t).replace(/\./g,"")},dS=function(t){try{return hS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!_U(n)||(t[n]=jp(t[n],e[n]));return t}function _U(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=()=>vU().__FIREBASE_DEFAULTS__,bU=()=>{if(typeof process>"u"||typeof R6>"u")return;const t=R6.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dS(t[1]);return e&&JSON.parse(e)},f5=()=>{try{return wU()||bU()||EU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fS=()=>{var t;return(t=f5())===null||t===void 0?void 0:t.config},TU=t=>{var e;return(e=f5())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Up(JSON.stringify(n)),Up(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function p5(){var t;const e=(t=f5())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kU(){return typeof self=="object"&&self.self===self}function pS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gS(){const t=at();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mS(){return!p5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eh(){try{return typeof indexedDB=="object"}catch{return!1}}function RU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="FirebaseError";class yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AU,Object.setPrototypeOf(this,yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ta.prototype.create)}}class ta{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?CU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new yn(i,a,r)}}function CU(t,e){return t.replace(PU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function NU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function th(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(C6(s)&&C6(o)){if(!th(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function C6(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $a(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Uc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yS(t,e){const n=new DU(t,e);return n.subscribe.bind(n)}class DU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qm),i.error===void 0&&(i.error=Qm),i.complete===void 0&&(i.complete=Qm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t){return t&&t._delegate?t._delegate:t}class Yr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VU(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MU(t){return t===Zs?void 0:t}function VU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=[];var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const _S={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},BU=Ie.INFO,$U={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},UU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$U[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lg{constructor(e){this.name=e,this._logLevel=BU,this._logHandler=UU,this._userLogHandler=null,m5.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_S[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}function jU(t){m5.forEach(e=>{e.setLogLevel(t)})}function zU(t,e){for(const n of m5){let r=null;e&&e.level&&(r=_S[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:Ie[s].toLowerCase(),message:a,args:o,type:i.name})}}}const WU=(t,e)=>e.some(n=>t instanceof n);let P6,N6;function HU(){return P6||(P6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qU(){return N6||(N6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vS=new WeakMap,B2=new WeakMap,wS=new WeakMap,Ym=new WeakMap,y5=new WeakMap;function GU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(us(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vS.set(n,t)}).catch(()=>{}),y5.set(e,t),e}function KU(t){if(B2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});B2.set(t,e)}let $2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return B2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QU(t){$2=t($2)}function YU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xm(this),e,...n);return wS.set(r,e.sort?e.sort():[e]),us(r)}:qU().includes(t)?function(...e){return t.apply(Xm(this),e),us(vS.get(this))}:function(...e){return us(t.apply(Xm(this),e))}}function XU(t){return typeof t=="function"?YU(t):(t instanceof IDBTransaction&&KU(t),WU(t,HU())?new Proxy(t,$2):t)}function us(t){if(t instanceof IDBRequest)return GU(t);if(Ym.has(t))return Ym.get(t);const e=XU(t);return e!==t&&(Ym.set(t,e),y5.set(e,t)),e}const Xm=t=>y5.get(t);function JU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=us(o);return r&&o.addEventListener("upgradeneeded",l=>{r(us(o.result),l.oldVersion,l.newVersion,us(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const ZU=["get","getKey","getAll","getAllKeys","count"],ej=["put","add","delete","clear"],Jm=new Map;function D6(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ej.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Jm.set(e,s),s}QU(t=>({...t,get:(e,n,r)=>D6(e,n)||t.get(e,n,r),has:(e,n)=>!!D6(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const U2="@firebase/app",O6="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new lg("@firebase/app"),rj="@firebase/app-compat",ij="@firebase/analytics-compat",sj="@firebase/analytics",oj="@firebase/app-check-compat",aj="@firebase/app-check",lj="@firebase/auth",cj="@firebase/auth-compat",uj="@firebase/database",hj="@firebase/database-compat",dj="@firebase/functions",fj="@firebase/functions-compat",pj="@firebase/installations",gj="@firebase/installations-compat",mj="@firebase/messaging",yj="@firebase/messaging-compat",_j="@firebase/performance",vj="@firebase/performance-compat",wj="@firebase/remote-config",bj="@firebase/remote-config-compat",Ej="@firebase/storage",Tj="@firebase/storage-compat",Sj="@firebase/firestore",Ij="@firebase/firestore-compat",xj="firebase",kj="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]",Rj={[U2]:"fire-core",[rj]:"fire-core-compat",[sj]:"fire-analytics",[ij]:"fire-analytics-compat",[aj]:"fire-app-check",[oj]:"fire-app-check-compat",[lj]:"fire-auth",[cj]:"fire-auth-compat",[uj]:"fire-rtdb",[hj]:"fire-rtdb-compat",[dj]:"fire-fn",[fj]:"fire-fn-compat",[pj]:"fire-iid",[gj]:"fire-iid-compat",[mj]:"fire-fcm",[yj]:"fire-fcm-compat",[_j]:"fire-perf",[vj]:"fire-perf-compat",[wj]:"fire-rc",[bj]:"fire-rc-compat",[Ej]:"fire-gcs",[Tj]:"fire-gcs-compat",[Sj]:"fire-fst",[Ij]:"fire-fst-compat","fire-js":"fire-js",[xj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new Map,nh=new Map;function zp(t,e){try{t.container.addComponent(e)}catch(n){Lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bS(t,e){t.container.addOrOverwriteComponent(e)}function _s(t){const e=t.name;if(nh.has(e))return Lo.debug(`There were multiple attempts to register component ${e}.`),!1;nh.set(e,t);for(const n of ys.values())zp(n,t);return!0}function ES(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Aj(t,e,n=ms){ES(t,e).clearInstance(n)}function Cj(){nh.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},_i=new ta("app","Firebase",Pj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nj=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=kj;function _5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ms,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _i.create("bad-app-name",{appName:String(i)});if(n||(n=fS()),!n)throw _i.create("no-options");const s=ys.get(i);if(s){if(th(n,s.options)&&th(r,s.config))return s;throw _i.create("duplicate-app",{appName:i})}const o=new FU(i);for(const l of nh.values())o.addComponent(l);const a=new Nj(n,r,o);return ys.set(i,a),a}function Dj(t=ms){const e=ys.get(t);if(!e&&t===ms&&fS())return _5();if(!e)throw _i.create("no-app",{appName:t});return e}function Oj(){return Array.from(ys.values())}async function TS(t){const e=t.name;ys.has(e)&&(ys.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Gr(t,e,n){var r;let i=(r=Rj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lo.warn(a.join(" "));return}_s(new Yr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function SS(t,e){if(t!==null&&typeof t!="function")throw _i.create("invalid-log-argument");zU(t,e)}function IS(t){jU(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="firebase-heartbeat-database",Mj=1,rh="firebase-heartbeat-store";let Zm=null;function xS(){return Zm||(Zm=JU(Lj,Mj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rh)}catch(n){console.warn(n)}}}}).catch(t=>{throw _i.create("idb-open",{originalErrorMessage:t.message})})),Zm}async function Vj(t){try{const n=(await xS()).transaction(rh),r=await n.objectStore(rh).get(kS(t));return await n.done,r}catch(e){if(e instanceof yn)Lo.warn(e.message);else{const n=_i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lo.warn(n.message)}}}async function L6(t,e){try{const r=(await xS()).transaction(rh,"readwrite");await r.objectStore(rh).put(e,kS(t)),await r.done}catch(n){if(n instanceof yn)Lo.warn(n.message);else{const r=_i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lo.warn(r.message)}}}function kS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=1024,Bj=30*24*60*60*1e3;class $j{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=M6();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Bj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=M6(),{heartbeatsToSend:r,unsentEntries:i}=Uj(this._heartbeatsCache.heartbeats),s=Up(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function M6(){return new Date().toISOString().substring(0,10)}function Uj(t,e=Fj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),V6(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),V6(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eh()?RU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Vj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return L6(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return L6(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function V6(t){return Up(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t){_s(new Yr("platform-logger",e=>new tj(e),"PRIVATE")),_s(new Yr("heartbeat",e=>new $j(e),"PRIVATE")),Gr(U2,O6,t),Gr(U2,O6,"esm2017"),Gr("fire-js","")}zj("");const Wj=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:yn,SDK_VERSION:Ms,_DEFAULT_ENTRY_NAME:ms,_addComponent:zp,_addOrOverwriteComponent:bS,_apps:ys,_clearComponents:Cj,_components:nh,_getProvider:ES,_registerComponent:_s,_removeServiceInstance:Aj,deleteApp:TS,getApp:Dj,getApps:Oj,initializeApp:_5,onLog:SS,registerVersion:Gr,setLogLevel:IS},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,n){this._delegate=e,this.firebase=n,zp(e,new Yr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),TS(this._delegate)))}_getService(e,n=ms){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ms){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){zp(this._delegate,e)}_addOrOverwriteComponent(e){bS(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},F6=new ta("app-compat","Firebase",qj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Gr,setLogLevel:IS,onLog:SS,apps:null,SDK_VERSION:Ms,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:Wj}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||ms,!A6(e,c))throw F6.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,u={}){const h=_5(c,u);if(A6(e,h.name))return e[h.name];const d=new t(h,n);return e[h.name]=d,d}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,h=u.replace("-compat","");if(_s(c)&&c.type==="PUBLIC"){const d=(f=i())=>{if(typeof f[h]!="function")throw F6.create("invalid-app-argument",{appName:u});return f[h]()};c.serviceProps!==void 0&&jp(d,c.serviceProps),n[h]=d,t.prototype[h]=function(...f){return this._getService.bind(this,u).apply(this,c.multipleInstances?f:[])}}return c.type==="PUBLIC"?n[h]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){const t=Gj(Hj);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:RS,extendNamespace:e,createSubscribe:yS,ErrorFactory:ta,deepExtend:jp});function e(n){jp(t,n)}return t}const Kj=RS();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=new lg("@firebase/app-compat"),Qj="@firebase/app-compat",Yj="0.2.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t){Gr(Qj,Yj,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(kU()&&self.firebase!==void 0){B6.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&B6.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const jl=Kj;Xj();var Jj="firebase",Zj="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jl.registerVersion(Jj,Zj,"app-compat");function v5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const vc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ga={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function AS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tz=ez,nz=AS,CS=new ta("auth","Firebase",AS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=new lg("@firebase/auth");function rz(t,...e){Wp.logLevel<=Ie.WARN&&Wp.warn(`Auth (${Ms}): ${t}`,...e)}function jf(t,...e){Wp.logLevel<=Ie.ERROR&&Wp.error(`Auth (${Ms}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,...e){throw w5(t,...e)}function Xt(t,...e){return w5(t,...e)}function PS(t,e,n){const r=Object.assign(Object.assign({},nz()),{[e]:n});return new ta("auth","Firebase",r).create(e,{appName:t.name})}function zl(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&en(t,"argument-error"),PS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function w5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CS.create(t,...e)}function H(t,e,...n){if(!t)throw w5(e,...n)}function $r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jf(e),new Error(e)}function Sr(t,e){t||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function b5(){return $6()==="http:"||$6()==="https:"}function $6(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b5()||pS()||"connection"in navigator)?navigator.onLine:!0}function sz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=xU()||g5()}get(){return iz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t,e){Sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=new nd(3e4,6e4);function wt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bt(t,e,n,r,i={}){return DS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ul(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),NS.fetch()(OS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function DS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},oz),e);try{const i=new cz(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw jc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw jc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw jc(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw PS(t,u,c);en(t,u)}}catch(i){if(i instanceof yn)throw i;en(t,"network-request-failed",{message:String(i)})}}async function Ci(t,e,n,r,i={}){const s=await bt(t,e,n,r,i);return"mfaPendingCredential"in s&&en(t,"multi-factor-auth-required",{_serverResponse:s}),s}function OS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?E5(t.config,i):`${t.config.apiScheme}://${i}`}function lz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xt(this.auth,"network-request-failed")),az.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t){return t!==void 0&&t.getResponse!==void 0}function j6(t){return t!==void 0&&t.enterprise!==void 0}class uz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hz(t){return(await bt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function dz(t,e){return bt(t,"GET","/v2/recaptchaConfig",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t,e){return bt(t,"POST","/v1/accounts:delete",e)}async function pz(t,e){return bt(t,"POST","/v1/accounts:update",e)}async function gz(t,e){return bt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mz(t,e=!1){const n=le(t),r=await n.getIdToken(e),i=cg(r);H(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vu(e1(i.auth_time)),issuedAtTime:vu(e1(i.iat)),expirationTime:vu(e1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function e1(t){return Number(t)*1e3}function cg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const i=dS(n);return i?JSON.parse(i):(jf("Failed to decode base64 JWT payload"),null)}catch(i){return jf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yz(t){const e=cg(t);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ii(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yn&&_z(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _z({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ii(t,gz(n,{idToken:r}));H(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ez(s.providerUserInfo):[],a=bz(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new LS(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function wz(t){const e=le(t);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ez(t){return t.map(e=>{var{providerId:n}=e,r=v5(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(t,e){const n=await DS(t,{},async()=>{const r=Ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=OS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",NS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Sz(t,e){return bt(t,"POST","/v2/accounts:revokeToken",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yz(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return H(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Tz(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new oh;return r&&(H(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(H(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(H(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oh,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){H(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Eo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=v5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new LS(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ii(this,this.stsTokenManager.getToken(this.auth,e));return H(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mz(this,e)}reload(){return wz(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Eo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ii(this,fz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:w,isAnonymous:E,providerData:T,stsTokenManager:S}=n;H(v&&S,e,"internal-error");const R=oh.fromJSON(this.name,S);H(typeof v=="string",e,"internal-error"),Mi(h,e.name),Mi(d,e.name),H(typeof w=="boolean",e,"internal-error"),H(typeof E=="boolean",e,"internal-error"),Mi(f,e.name),Mi(p,e.name),Mi(g,e.name),Mi(_,e.name),Mi(y,e.name),Mi(m,e.name);const V=new Eo({uid:v,auth:e,email:d,emailVerified:w,displayName:h,isAnonymous:E,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:R,createdAt:y,lastLoginAt:m});return T&&Array.isArray(T)&&(V.providerData=T.map(N=>Object.assign({},N))),_&&(V._redirectEventId=_),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new oh;i.updateFromServerResponse(n);const s=new Eo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=new Map;function qn(t){Sr(t instanceof Function,"Expected a class definition");let e=z6.get(t);return e?(Sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,z6.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MS.type="NONE";const gl=MS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t,e,n){return`firebase:${t}:${e}:${n}`}class Qa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=To(this.userKey,i.apiKey,s),this.fullPersistenceKey=To("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Eo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qa(qn(gl),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||qn(gl);const o=To(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Eo._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Qa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Qa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($S(e))return"Blackberry";if(US(e))return"Webos";if(T5(e))return"Safari";if((e.includes("chrome/")||FS(e))&&!e.includes("edge/"))return"Chrome";if(rd(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function VS(t=at()){return/firefox\//i.test(t)}function T5(t=at()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FS(t=at()){return/crios\//i.test(t)}function BS(t=at()){return/iemobile/i.test(t)}function rd(t=at()){return/android/i.test(t)}function $S(t=at()){return/blackberry/i.test(t)}function US(t=at()){return/webos/i.test(t)}function Wl(t=at()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Iz(t=at()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function xz(t=at()){var e;return Wl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kz(){return gS()&&document.documentMode===10}function jS(t=at()){return Wl(t)||rd(t)||US(t)||$S(t)||/windows phone/i.test(t)||BS(t)}function Rz(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e=[]){let n;switch(t){case"Browser":n=W6(at());break;case"Worker":n=`${W6(at())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ms}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(t,e={}){return bt(t,"GET","/v2/passwordPolicy",wt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=6;class Nz{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Pz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H6(this),this.idTokenSubscription=new H6(this),this.beforeStateQueue=new Az(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Qa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?le(e):null;return n&&H(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Cz(this),n=new Nz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ta("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Sz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qn(e)||this._popupRedirectResolver;H(n,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yt(t){return le(t)}class H6{constructor(e){this.auth=e,this.observer=null,this.addObserver=yS(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Oz(t){id=t}function S5(t){return id.loadJS(t)}function Lz(){return id.recaptchaV2Script}function Mz(){return id.recaptchaEnterpriseScript}function Vz(){return id.gapiScript}function WS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Fz="recaptcha-enterprise",Bz="NO_RECAPTCHA";class $z{constructor(e){this.type=Fz,this.auth=yt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{dz(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new uz(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;j6(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Bz)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&j6(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Mz();l.length!==0&&(l+=a),S5(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function q6(t,e,n,r=!1){const i=new $z(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ah(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await q6(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await q6(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function Uz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jz(t,e,n){const r=yt(t);H(r._canInitEmulator,r,"emulator-config-failed"),H(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=HS(e),{host:o,port:a}=zz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Wz()}function HS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zz(t){const e=HS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:G6(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:G6(o)}}}function G6(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Wz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(t,e){return bt(t,"POST","/v1/accounts:resetPassword",wt(t,e))}async function Hz(t,e){return bt(t,"POST","/v1/accounts:update",e)}async function qz(t,e){return bt(t,"POST","/v1/accounts:signUp",e)}async function Gz(t,e){return bt(t,"POST","/v1/accounts:update",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kz(t,e){return Ci(t,"POST","/v1/accounts:signInWithPassword",wt(t,e))}async function ug(t,e){return bt(t,"POST","/v1/accounts:sendOobCode",wt(t,e))}async function Qz(t,e){return ug(t,e)}async function Yz(t,e){return ug(t,e)}async function Xz(t,e){return ug(t,e)}async function Jz(t,e){return ug(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zz(t,e){return Ci(t,"POST","/v1/accounts:signInWithEmailLink",wt(t,e))}async function eW(t,e){return Ci(t,"POST","/v1/accounts:signInWithEmailLink",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends Hl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new lh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ah(e,n,"signInWithPassword",Kz);case"emailLink":return Zz(e,{email:this._email,oobCode:this._password});default:en(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ah(e,r,"signUpPassword",qz);case"emailLink":return eW(e,{idToken:n,email:this._email,oobCode:this._password});default:en(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vi(t,e){return Ci(t,"POST","/v1/accounts:signInWithIdp",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW="http://localhost";class Xr extends Hl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):en("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=v5(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Xr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return vi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vi(e,n)}buildRequest(){const e={requestUri:tW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ul(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nW(t,e){return bt(t,"POST","/v1/accounts:sendVerificationCode",wt(t,e))}async function rW(t,e){return Ci(t,"POST","/v1/accounts:signInWithPhoneNumber",wt(t,e))}async function iW(t,e){const n=await Ci(t,"POST","/v1/accounts:signInWithPhoneNumber",wt(t,e));if(n.temporaryProof)throw jc(t,"account-exists-with-different-credential",n);return n}const sW={USER_NOT_FOUND:"user-not-found"};async function oW(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ci(t,"POST","/v1/accounts:signInWithPhoneNumber",wt(t,n),sW)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Hl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new So({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new So({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return rW(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return iW(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return oW(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new So({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lW(t){const e=$a(Uc(t)).link,n=e?$a(Uc(e)).deep_link_id:null,r=$a(Uc(t)).deep_link_id;return(r?$a(Uc(r)).link:null)||r||n||e||t}class hg{constructor(e){var n,r,i,s,o,a;const l=$a(Uc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=aW((i=l.mode)!==null&&i!==void 0?i:null);H(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=lW(e);try{return new hg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.providerId=Vs.PROVIDER_ID}static credential(e,n){return lh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hg.parseLink(n);return H(r,"argument-error"),lh._fromEmailAndCode(e,r.code,r.tenantId)}}Vs.PROVIDER_ID="password";Vs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends Pi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ya extends ql{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return H("providerId"in n&&"signInMethod"in n,"argument-error"),Xr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return H(e.idToken||e.accessToken,"argument-error"),Xr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ya.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ya.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Ya(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends ql{constructor(){super("facebook.com")}static credential(e){return Xr._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xr._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Lr.credential(n,r)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends ql{constructor(){super("github.com")}static credential(e){return Xr._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW="http://localhost";class ml extends Hl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return vi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new ml(r,s)}static _create(e,n){return new ml(e,n)}buildRequest(){return{requestUri:cW,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW="saml.";class Hp extends Pi{constructor(e){H(e.startsWith(uW),"argument-error"),super(e)}static credentialFromResult(e){return Hp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Hp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=ml.fromJSON(e);return H(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return ml._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends ql{constructor(){super("twitter.com")}static credential(e,n){return Xr._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vr.credential(n,r)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(t,e){return Ci(t,"POST","/v1/accounts:signUp",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Eo._fromIdTokenResponse(e,r,i),o=K6(r);return new hr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=K6(r);return new hr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function K6(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hW(t){var e;const n=yt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new hr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await GS(n,{returnSecureToken:!0}),i=await hr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends yn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qp(e,n,r,i)}}function KS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qp._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dW(t,e){const n=le(t);await dg(!0,n,e);const{providerUserInfo:r}=await pz(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=QS(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function I5(t,e,n=!1){const r=await Ii(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hr._forOperation(t,"link",r)}async function dg(t,e,n){await sh(e);const r=QS(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";H(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ii(t,KS(r,i,e,t),n);H(s.idToken,r,"internal-error");const o=cg(s.idToken);H(o,r,"internal-error");const{sub:a}=o;return H(t.uid===a,r,"user-mismatch"),hr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&en(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(t,e,n=!1){const r="signIn",i=await KS(t,r,e),s=await hr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function fg(t,e){return XS(yt(t),e)}async function JS(t,e){const n=le(t);return await dg(!1,n,e.providerId),I5(n,e)}async function ZS(t,e){return YS(le(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fW(t,e){return Ci(t,"POST","/v1/accounts:signInWithCustomToken",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pW(t,e){const n=yt(t),r=await fW(n,{token:e,returnSecureToken:!0}),i=await hr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?x5._fromServerResponse(e,n):"totpInfo"in n?k5._fromServerResponse(e,n):en(e,"internal-error")}}class x5 extends sd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new x5(n)}}class k5 extends sd{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new k5(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t,e,n){var r;H(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),H(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(H(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(H(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(t){const e=yt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eI(t,e,n){const r=yt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&pg(r,i,n),await ah(r,i,"getOobCode",Yz)}async function gW(t,e,n){await qS(le(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&R5(t),r})}async function mW(t,e){await Gz(le(t),{oobCode:e})}async function tI(t,e){const n=le(t),r=await qS(n,{oobCode:e}),i=r.requestType;switch(H(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(r.mfaInfo,n,"internal-error");default:H(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=sd._fromServerResponse(yt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function yW(t,e){const{data:n}=await tI(le(t),e);return n.email}async function nI(t,e,n){const r=yt(t),o=await ah(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GS).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&R5(t),l}),a=await hr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function rI(t,e,n){return fg(le(t),Vs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&R5(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _W(t,e,n){const r=yt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){H(a.handleCodeInApp,r,"argument-error"),a&&pg(r,o,a)}s(i,n),await ah(r,i,"getOobCode",Xz)}function vW(t,e){const n=hg.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function wW(t,e,n){const r=le(t),i=Vs.credentialWithLink(e,n||ih());return H(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),fg(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bW(t,e){return bt(t,"POST","/v1/accounts:createAuthUri",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EW(t,e){const n=b5()?ih():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await bW(le(t),r);return i||[]}async function TW(t,e){const n=le(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&pg(n.auth,i,e);const{email:s}=await Qz(n.auth,i);s!==t.email&&await t.reload()}async function SW(t,e,n){const r=le(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&pg(r.auth,s,n);const{email:o}=await Jz(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IW(t,e){return bt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=le(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ii(r,IW(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function xW(t,e){return sI(le(t),e,null)}function kW(t,e){return sI(le(t),null,e)}async function sI(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Ii(t,Hz(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=cg(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Xa(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new AW(s,i);case"github.com":return new CW(s,i);case"google.com":return new PW(s,i);case"twitter.com":return new NW(s,i,t.screenName||null);case"custom":case"anonymous":return new Xa(s,null);default:return new Xa(s,r,i)}}class Xa{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class oI extends Xa{constructor(e,n,r,i){super(e,n,r),this.username=i}}class AW extends Xa{constructor(e,n){super(e,"facebook.com",n)}}class CW extends oI{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class PW extends Xa{constructor(e,n){super(e,"google.com",n)}}class NW extends oI{constructor(e,n,r){super(e,"twitter.com",n,r)}}function DW(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:RW(n)}function OW(t,e,n,r){return le(t).onAuthStateChanged(e,n,r)}function aI(t){return le(t).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new fo("enroll",e,n)}static _fromMfaPendingCredential(e){return new fo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return fo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return fo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=yt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>sd._fromServerResponse(r,a));H(i.mfaPendingCredential,r,"internal-error");const o=fo._fromMfaPendingCredential(i.mfaPendingCredential);return new A5(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const c=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const u=await hr._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return H(n.user,r,"internal-error"),hr._forOperation(n.user,n.operationType,c);default:en(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function LW(t,e){var n;const r=le(t),i=e;return H(e.customData.operationType,r,"argument-error"),H((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),A5._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(t,e){return bt(t,"POST","/v2/accounts/mfaEnrollment:start",wt(t,e))}function VW(t,e){return bt(t,"POST","/v2/accounts/mfaEnrollment:finalize",wt(t,e))}function FW(t,e){return bt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",wt(t,e))}class C5{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>sd._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new C5(e)}async getSession(){return fo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Ii(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ii(this.user,FW(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const t1=new WeakMap;function BW(t){const e=le(t);return t1.has(e)||t1.set(e,C5._fromUser(e)),t1.get(e)}const Gp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gp,"1"),this.storage.removeItem(Gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(){const t=at();return T5(t)||Wl(t)}const UW=1e3,jW=10;class cI extends lI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$W()&&Rz(),this.fallbackToPolling=jS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);kz()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cI.type="LOCAL";const P5=cI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI extends lI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uI.type="SESSION";const Mo=uI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await zW(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=od("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return window}function HW(t){kt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(){return typeof kt().WorkerGlobalScope<"u"&&typeof kt().importScripts=="function"}async function qW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function KW(){return N5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firebaseLocalStorageDb",QW=1,Kp="firebaseLocalStorage",dI="fbase_key";class ad{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mg(t,e){return t.transaction([Kp],e?"readwrite":"readonly").objectStore(Kp)}function YW(){const t=indexedDB.deleteDatabase(hI);return new ad(t).toPromise()}function j2(){const t=indexedDB.open(hI,QW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kp,{keyPath:dI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kp)?e(r):(r.close(),await YW(),e(await j2()))})})}async function Q6(t,e,n){const r=mg(t,!0).put({[dI]:e,value:n});return new ad(r).toPromise()}async function XW(t,e){const n=mg(t,!1).get(e),r=await new ad(n).toPromise();return r===void 0?null:r.value}function Y6(t,e){const n=mg(t,!0).delete(e);return new ad(n).toPromise()}const JW=800,ZW=3;class fI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await j2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gg._getInstance(KW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qW(),!this.activeServiceWorker)return;this.sender=new WW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await j2();return await Q6(e,Gp,"1"),await Y6(e,Gp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Q6(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y6(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=mg(i,!1).getAll();return new ad(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fI.type="LOCAL";const ch=fI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(t,e){return bt(t,"POST","/v2/accounts/mfaSignIn:start",wt(t,e))}function tH(t,e){return bt(t,"POST","/v2/accounts/mfaSignIn:finalize",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH=500,rH=6e4,nf=1e12;class iH{constructor(e){this.auth=e,this.counter=nf,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new sH(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||nf;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||nf;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||nf;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class sH{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;H(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=oH(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},rH)},nH))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function oH(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=WS("rcb"),aH=new nd(3e4,6e4);class lH{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=kt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return H(cH(n),e,"argument-error"),this.shouldResolveImmediately(n)&&U6(kt().grecaptcha)?Promise.resolve(kt().grecaptcha):new Promise((r,i)=>{const s=kt().setTimeout(()=>{i(Xt(e,"network-request-failed"))},aH.get());kt()[n1]=()=>{kt().clearTimeout(s),delete kt()[n1];const a=kt().grecaptcha;if(!a||!U6(a)){i(Xt(e,"internal-error"));return}const l=a.render;a.render=(c,u)=>{const h=l(c,u);return this.counter++,h},this.hostLanguage=n,r(a)};const o=`${Lz()}?${Ul({onload:n1,render:"explicit",hl:n})}`;S5(o).catch(()=>{clearTimeout(s),i(Xt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=kt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function cH(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class uH{async load(e){return new iH(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="recaptcha",hH={theme:"light",type:"image"};let dH=class{constructor(e,n,r=Object.assign({},hH)){this.parameters=r,this.type=pI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yt(e),this.isInvisible=this.parameters.size==="invisible",H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;H(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new uH:new lH,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=kt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){H(b5()&&!N5(),this.auth,"internal-error"),await fH(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await hz(this.auth);H(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function fH(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=So._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function pH(t,e,n){const r=yt(t),i=await yg(r,e,le(n));return new D5(i,s=>fg(r,s))}async function gH(t,e,n){const r=le(t);await dg(!1,r,"phone");const i=await yg(r.auth,e,le(n));return new D5(i,s=>JS(r,s))}async function mH(t,e,n){const r=le(t),i=await yg(r.auth,e,le(n));return new D5(i,s=>ZS(r,s))}async function yg(t,e,n){var r;const i=await n.verify();try{H(typeof i=="string",t,"argument-error"),H(n.type===pI,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return H(o.type==="enroll",t,"internal-error"),(await MW(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{H(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return H(a,t,"missing-multi-factor-info"),(await eH(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await nW(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function yH(t,e){await I5(le(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo=class zf{constructor(e){this.providerId=zf.PROVIDER_ID,this.auth=yt(e)}verifyPhoneNumber(e,n){return yg(this.auth,e,le(n))}static credential(e,n){return So._fromVerification(e,n)}static credentialFromResult(e){const n=e;return zf.credentialFromTaggedObject(n)}static credentialFromError(e){return zf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?So._fromTokenResponse(n,r):null}};Vo.PROVIDER_ID="phone";Vo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t,e){return e?qn(e):(H(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5 extends Hl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _H(t){return XS(t.auth,new O5(t),t.bypassAuthState)}function vH(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),YS(n,new O5(t),t.bypassAuthState)}async function wH(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),I5(n,new O5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _H;case"linkViaPopup":case"linkViaRedirect":return wH;case"reauthViaPopup":case"reauthViaRedirect":return vH;default:en(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=new nd(2e3,1e4);async function EH(t,e,n){const r=yt(t);zl(t,e,Pi);const i=na(r,n);return new hi(r,"signInViaPopup",e,i).executeNotNull()}async function TH(t,e,n){const r=le(t);zl(r.auth,e,Pi);const i=na(r.auth,n);return new hi(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function SH(t,e,n){const r=le(t);zl(r.auth,e,Pi);const i=na(r.auth,n);return new hi(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class hi extends gI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,hi.currentPopupAction&&hi.currentPopupAction.cancel(),hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return H(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=od();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bH.get())};e()}}hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH="pendingRedirect",wu=new Map;class xH extends gI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wu.get(this.auth._key());if(!e){try{const r=await kH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wu.set(this.auth._key(),e)}return this.bypassAuthState||wu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kH(t,e){const n=yI(e),r=mI(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function L5(t,e){return mI(t)._set(yI(e),"true")}function RH(){wu.clear()}function M5(t,e){wu.set(t._key(),e)}function mI(t){return qn(t._redirectPersistence)}function yI(t){return To(IH,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(t,e,n){return CH(t,e,n)}async function CH(t,e,n){const r=yt(t);zl(t,e,Pi),await r._initializationPromise;const i=na(r,n);return await L5(i,r),i._openRedirect(r,e,"signInViaRedirect")}function PH(t,e,n){return NH(t,e,n)}async function NH(t,e,n){const r=le(t);zl(r.auth,e,Pi),await r.auth._initializationPromise;const i=na(r.auth,n);await L5(i,r.auth);const s=await _I(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function DH(t,e,n){return OH(t,e,n)}async function OH(t,e,n){const r=le(t);zl(r.auth,e,Pi),await r.auth._initializationPromise;const i=na(r.auth,n);await dg(!1,r,e.providerId),await L5(i,r.auth);const s=await _I(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function LH(t,e){return await yt(t)._initializationPromise,_g(t,e,!1)}async function _g(t,e,n=!1){const r=yt(t),i=na(r,e),o=await new xH(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function _I(t){const e=od(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH=10*60*1e3;class vI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MH&&this.cachedEventUids.clear(),this.cachedEventUids.has(X6(e))}saveEventToCache(e){this.cachedEventUids.add(X6(e)),this.lastProcessedEventTime=Date.now()}}function X6(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(t,e={}){return bt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BH=/^https?/;async function $H(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bI(t);for(const n of e)try{if(UH(n))return}catch{}en(t,"unauthorized-domain")}function UH(t){const e=ih(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!BH.test(n))return!1;if(FH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH=new nd(3e4,6e4);function J6(){const t=kt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zH(t){return new Promise((e,n)=>{var r,i,s;function o(){J6(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J6(),n(Xt(t,"network-request-failed"))},timeout:jH.get()})}if(!((i=(r=kt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=kt().gapi)===null||s===void 0)&&s.load)o();else{const a=WS("iframefcb");return kt()[a]=()=>{gapi.load?o():n(Xt(t,"network-request-failed"))},S5(`${Vz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Wf=null,e})}let Wf=null;function WH(t){return Wf=Wf||zH(t),Wf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=new nd(5e3,15e3),qH="__/auth/iframe",GH="emulator/auth/iframe",KH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YH(t){const e=t.config;H(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?E5(e,GH):`https://${t.config.authDomain}/${qH}`,r={apiKey:e.apiKey,appName:t.name,v:Ms},i=QH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ul(r).slice(1)}`}async function XH(t){const e=await WH(t),n=kt().gapi;return H(n,t,"internal-error"),e.open({where:document.body,url:YH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Xt(t,"network-request-failed"),a=kt().setTimeout(()=>{s(o)},HH.get());function l(){kt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZH=500,eq=600,tq="_blank",nq="http://localhost";class Z6{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rq(t,e,n,r=ZH,i=eq){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},JH),{width:r.toString(),height:i.toString(),top:s,left:o}),c=at().toLowerCase();n&&(a=FS(c)?tq:n),VS(c)&&(e=e||nq,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(xz(c)&&a!=="_self")return iq(e||"",a),new Z6(null);const h=window.open(e||"",a,u);H(h,t,"popup-blocked");try{h.focus()}catch{}return new Z6(h)}function iq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq="__/auth/handler",oq="emulator/auth/handler",aq=encodeURIComponent("fac");async function z2(t,e,n,r,i,s){H(t.config.authDomain,t,"auth-domain-config-required"),H(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ms,eventId:i};if(e instanceof Pi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",NU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof ql){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${aq}=${encodeURIComponent(l)}`:"";return`${lq(t)}?${Ul(a).slice(1)}${c}`}function lq({config:t}){return t.emulator?E5(t,oq):`https://${t.authDomain}/${sq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="webStorageSupport";class cq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mo,this._completeRedirectFn=_g,this._overrideRedirectResult=M5}async _openPopup(e,n,r,i){var s;Sr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await z2(e,n,r,ih(),i);return rq(e,o,od())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await z2(e,n,r,ih(),i);return HW(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Sr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XH(e),r=new vI(e);return n.register("authEvent",i=>(H(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(r1,{type:r1},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[r1];o!==void 0&&n(!!o),en(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$H(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jS()||T5()||Wl()}}const uq=cq;class hq{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return $r("unexpected MultiFactorSessionType")}}}class V5 extends hq{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new V5(e)}_finalizeEnroll(e,n,r){return VW(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return tH(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class EI{constructor(){}static assertion(e){return V5._fromCredential(e)}}EI.FACTOR_ID="phone";var ev="@firebase/auth",tv="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pq(t){_s(new Yr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;H(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zS(t)},c=new Dz(r,i,s,l);return Uz(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_s(new Yr("auth-internal",e=>{const n=yt(e.getProvider("auth").getImmediate());return(r=>new dq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(ev,tv,fq(t)),Gr(ev,tv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=5*60;TU("authIdTokenMaxAge");function mq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Oz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",mq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pq("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq=2e3;async function _q(t,e,n){var r;const{BuildInfo:i}=Fo();Sr(e.sessionId,"AuthEvent did not contain a session ID");const s=await Tq(e.sessionId),o={};return Wl()?o.ibi=i.packageName:rd()?o.apn=i.packageName:en(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,z2(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function vq(t){const{BuildInfo:e}=Fo(),n={};Wl()?n.iosBundleId=e.packageName:rd()?n.androidPackageName=e.packageName:en(t,"operation-not-supported-in-this-environment"),await bI(t,n)}function wq(t){const{cordova:e}=Fo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Iz()?"_blank":"_system","location=yes"),n(i)})})}async function bq(t,e,n){const{cordova:r}=Fo();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var h;s();const d=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof d=="function"&&d(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(Xt(t,"redirect-cancelled-by-user"))},yq))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),rd()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}}function Eq(t){var e,n,r,i,s,o,a,l,c,u;const h=Fo();H(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(typeof((n=h==null?void 0:h.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H(typeof((s=(i=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H(typeof((l=(a=(o=h==null?void 0:h.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H(typeof((u=(c=h==null?void 0:h.cordova)===null||c===void 0?void 0:c.InAppBrowser)===null||u===void 0?void 0:u.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Tq(t){const e=Sq(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Sq(t){if(Sr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq=20;class xq extends vI{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function kq(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Cq(),postBody:null,tenantId:t.tenantId,error:Xt(t,"no-auth-event")}}function Rq(t,e){return W2()._set(H2(t),e)}async function nv(t){const e=await W2()._get(H2(t));return e&&await W2()._remove(H2(t)),e}function Aq(t,e){var n,r;const i=Nq(e);if(i.includes("/__/auth/callback")){const s=Hf(i),o=s.firebaseError?Pq(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Xt(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function Cq(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Iq;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function W2(){return qn(P5)}function H2(t){return To("authEvent",t.config.apiKey,t.name)}function Pq(t){try{return JSON.parse(t)}catch{return null}}function Nq(t){const e=Hf(t),n=e.link?decodeURIComponent(e.link):void 0,r=Hf(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Hf(i).link||i||r||n||t}function Hf(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return $a(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq=500;class Oq{constructor(){this._redirectPersistence=Mo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_g,this._overrideRedirectResult=M5}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new xq(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){en(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){Eq(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),RH(),await this._originValidation(e);const o=kq(e,r,i);await Rq(e,o);const a=await _q(e,o,n),l=await wq(a);return bq(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vq(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Fo(),o=setTimeout(async()=>{await nv(e),n.onEvent(rv())},Dq),a=async u=>{clearTimeout(o);const h=await nv(e);let d=null;h&&(u!=null&&u.url)&&(d=Aq(h,u.url)),n.onEvent(d||rv())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,c=`${s.packageName.toLowerCase()}://`;Fo().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(c)&&a({url:u}),typeof l=="function")try{l(u)}catch(h){console.error(h)}}}}const Lq=Oq;function rv(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(t,e){yt(t)._logFramework(e)}var Vq="@firebase/auth-compat",Fq="0.5.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq=1e3;function bu(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function $q(){return bu()==="http:"||bu()==="https:"}function TI(t=at()){return!!((bu()==="file:"||bu()==="ionic:"||bu()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Uq(){return g5()||p5()}function jq(){return gS()&&(document==null?void 0:document.documentMode)===11}function zq(t=at()){return/Edge\/\d+/.test(t)}function Wq(t=at()){return jq()||zq(t)}function SI(){try{const t=self.localStorage,e=od();if(t)return t.setItem(e,"1"),t.removeItem(e),Wq()?eh():!0}catch{return F5()&&eh()}return!1}function F5(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function i1(){return($q()||pS()||TI())&&!Uq()&&SI()&&!F5()}function II(){return TI()&&typeof document<"u"}async function Hq(){return II()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Bq);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function qq(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn={LOCAL:"local",NONE:"none",SESSION:"session"},wc=H,xI="persistence";function Gq(t,e){if(wc(Object.values(Wn).includes(e),t,"invalid-persistence-type"),g5()){wc(e!==Wn.SESSION,t,"unsupported-persistence-type");return}if(p5()){wc(e===Wn.NONE,t,"unsupported-persistence-type");return}if(F5()){wc(e===Wn.NONE||e===Wn.LOCAL&&eh(),t,"unsupported-persistence-type");return}wc(e===Wn.NONE||SI(),t,"unsupported-persistence-type")}async function q2(t){await t._initializationPromise;const e=kI(),n=To(xI,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function Kq(t,e){const n=kI();if(!n)return[];const r=To(xI,t,e);switch(n.getItem(r)){case Wn.NONE:return[gl];case Wn.LOCAL:return[ch,Mo];case Wn.SESSION:return[Mo];default:return[]}}function kI(){var t;try{return((t=qq())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=H;class Yi{constructor(){this.browserResolver=qn(uq),this.cordovaResolver=qn(Lq),this.underlyingResolver=null,this._redirectPersistence=Mo,this._completeRedirectFn=_g,this._overrideRedirectResult=M5}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return II()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qq(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Hq();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t){return t.unwrap()}function Yq(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xq(t){return AI(t)}function Jq(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new Zq(t,LW(t,e))}else if(r){const i=AI(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function AI(t){const{_tokenResponse:e}=t instanceof yn?t.customData:t;if(!e)return null;if(!(t instanceof yn)&&"temporaryProof"in e&&"phoneNumber"in e)return Vo.credentialFromResult(t);const n=e.providerId;if(!n||n===vc.PASSWORD)return null;let r;switch(n){case vc.GOOGLE:r=Lr;break;case vc.FACEBOOK:r=Or;break;case vc.GITHUB:r=Mr;break;case vc.TWITTER:r=Vr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?ml._create(n,a):Xr._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Ya(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof yn?r.credentialFromError(t):r.credentialFromResult(t)}function xn(t,e){return e.catch(n=>{throw n instanceof yn&&Jq(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:Xq(n),additionalUserInfo:DW(n),user:vg.getOrCreate(i)}})}async function G2(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>xn(t,n.confirm(r))}}class Zq{constructor(e,n){this.resolver=n,this.auth=Yq(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return xn(RI(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vg=class zc{constructor(e){this._delegate=e,this.multiFactor=BW(e)}static getOrCreate(e){return zc.USER_MAP.has(e)||zc.USER_MAP.set(e,new zc(e)),zc.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return xn(this.auth,JS(this._delegate,e))}async linkWithPhoneNumber(e,n){return G2(this.auth,gH(this._delegate,e,n))}async linkWithPopup(e){return xn(this.auth,SH(this._delegate,e,Yi))}async linkWithRedirect(e){return await q2(yt(this.auth)),DH(this._delegate,e,Yi)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return xn(this.auth,ZS(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return G2(this.auth,mH(this._delegate,e,n))}reauthenticateWithPopup(e){return xn(this.auth,TH(this._delegate,e,Yi))}async reauthenticateWithRedirect(e){return await q2(yt(this.auth)),PH(this._delegate,e,Yi)}sendEmailVerification(e){return TW(this._delegate,e)}async unlink(e){return await dW(this._delegate,e),this}updateEmail(e){return xW(this._delegate,e)}updatePassword(e){return kW(this._delegate,e)}updatePhoneNumber(e){return yH(this._delegate,e)}updateProfile(e){return iI(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return SW(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};vg.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=H;class K2{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;bc(r,"invalid-api-key",{appName:e.name}),bc(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Yi:void 0;this._delegate=n.initialize({options:{persistence:eG(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(tz),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vg.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){jz(this._delegate,e,n)}applyActionCode(e){return mW(this._delegate,e)}checkActionCode(e){return tI(this._delegate,e)}confirmPasswordReset(e,n){return gW(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return xn(this._delegate,nI(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return EW(this._delegate,e)}isSignInWithEmailLink(e){return vW(this._delegate,e)}async getRedirectResult(){bc(i1(),this._delegate,"operation-not-supported-in-this-environment");const e=await LH(this._delegate,Yi);return e?xn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Mq(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=iv(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=iv(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return _W(this._delegate,e,n)}sendPasswordResetEmail(e,n){return eI(this._delegate,e,n||void 0)}async setPersistence(e){Gq(this._delegate,e);let n;switch(e){case Wn.SESSION:n=Mo;break;case Wn.LOCAL:n=await qn(ch)._isAvailable()?ch:P5;break;case Wn.NONE:n=gl;break;default:return en("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return xn(this._delegate,hW(this._delegate))}signInWithCredential(e){return xn(this._delegate,fg(this._delegate,e))}signInWithCustomToken(e){return xn(this._delegate,pW(this._delegate,e))}signInWithEmailAndPassword(e,n){return xn(this._delegate,rI(this._delegate,e,n))}signInWithEmailLink(e,n){return xn(this._delegate,wW(this._delegate,e,n))}signInWithPhoneNumber(e,n){return G2(this._delegate,pH(this._delegate,e,n))}async signInWithPopup(e){return bc(i1(),this._delegate,"operation-not-supported-in-this-environment"),xn(this._delegate,EH(this._delegate,e,Yi))}async signInWithRedirect(e){return bc(i1(),this._delegate,"operation-not-supported-in-this-environment"),await q2(this._delegate),AH(this._delegate,e,Yi)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return yW(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}K2.Persistence=Wn;function iv(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&vg.getOrCreate(o)),error:e,complete:n}}function eG(t,e){const n=Kq(t,e);if(typeof self<"u"&&!n.includes(ch)&&n.push(ch),typeof window<"u")for(const r of[P5,Mo])n.includes(r)||n.push(r);return n.includes(gl)||n.push(gl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(){this.providerId="phone",this._delegate=new Vo(RI(jl.auth()))}static credential(e,n){return Vo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}B5.PHONE_SIGN_IN_METHOD=Vo.PHONE_SIGN_IN_METHOD;B5.PROVIDER_ID=Vo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG=H;class nG{constructor(e,n,r=jl.app()){var i;tG((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new dH(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG="auth-compat";function iG(t){t.INTERNAL.registerComponent(new Yr(rG,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new K2(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ga.EMAIL_SIGNIN,PASSWORD_RESET:ga.PASSWORD_RESET,RECOVER_EMAIL:ga.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ga.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ga.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ga.VERIFY_EMAIL}},EmailAuthProvider:Vs,FacebookAuthProvider:Or,GithubAuthProvider:Mr,GoogleAuthProvider:Lr,OAuthProvider:Ya,SAMLAuthProvider:Hp,PhoneAuthProvider:B5,PhoneMultiFactorGenerator:EI,RecaptchaVerifier:nG,TwitterAuthProvider:Vr,Auth:K2,AuthCredential:Hl,Error:yn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Vq,Fq)}iG(jl);var sG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,$5=$5||{},ge=sG||self;function wg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ld(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function oG(t){return Object.prototype.hasOwnProperty.call(t,s1)&&t[s1]||(t[s1]=++aG)}var s1="closure_uid_"+(1e9*Math.random()>>>0),aG=0;function lG(t,e,n){return t.call.apply(t.bind,arguments)}function cG(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ln(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ln=lG:ln=cG,ln.apply(null,arguments)}function rf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function zt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Fs(){this.s=this.s,this.o=this.o}var uG=0;Fs.prototype.s=!1;Fs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),uG!=0)&&oG(this)};Fs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const CI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function U5(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function sv(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(wg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function cn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}cn.prototype.h=function(){this.defaultPrevented=!0};var hG=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ge.addEventListener("test",n,e),ge.removeEventListener("test",n,e)}catch{}return t}();function uh(t){return/^[\s\xa0]*$/.test(t)}function bg(){var t=ge.navigator;return t&&(t=t.userAgent)?t:""}function Fr(t){return bg().indexOf(t)!=-1}function j5(t){return j5[" "](t),t}j5[" "]=function(){};function dG(t,e){var n=iK;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var fG=Fr("Opera"),yl=Fr("Trident")||Fr("MSIE"),PI=Fr("Edge"),Q2=PI||yl,NI=Fr("Gecko")&&!(bg().toLowerCase().indexOf("webkit")!=-1&&!Fr("Edge"))&&!(Fr("Trident")||Fr("MSIE"))&&!Fr("Edge"),pG=bg().toLowerCase().indexOf("webkit")!=-1&&!Fr("Edge");function DI(){var t=ge.document;return t?t.documentMode:void 0}var Y2;e:{var o1="",a1=function(){var t=bg();if(NI)return/rv:([^\);]+)(\)|;)/.exec(t);if(PI)return/Edge\/([\d\.]+)/.exec(t);if(yl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(pG)return/WebKit\/(\S+)/.exec(t);if(fG)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(a1&&(o1=a1?a1[1]:""),yl){var l1=DI();if(l1!=null&&l1>parseFloat(o1)){Y2=String(l1);break e}}Y2=o1}var X2;if(ge.document&&yl){var ov=DI();X2=ov||parseInt(Y2,10)||void 0}else X2=void 0;var gG=X2;function hh(t,e){if(cn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(NI){e:{try{j5(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:mG[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&hh.$.h.call(this)}}zt(hh,cn);var mG={2:"touch",3:"pen",4:"mouse"};hh.prototype.h=function(){hh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var cd="closure_listenable_"+(1e6*Math.random()|0),yG=0;function _G(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++yG,this.fa=this.ia=!1}function Eg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function z5(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function vG(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function OI(t){const e={};for(const n in t)e[n]=t[n];return e}const av="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<av.length;s++)n=av[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Tg(t){this.src=t,this.g={},this.h=0}Tg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Z2(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new _G(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function J2(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=CI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Eg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Z2(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var W5="closure_lm_"+(1e6*Math.random()|0),c1={};function MI(t,e,n,r,i){if(r&&r.once)return FI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)MI(t,e[s],n,r,i);return null}return n=G5(n),t&&t[cd]?t.O(e,n,ld(r)?!!r.capture:!!r,i):VI(t,e,n,!1,r,i)}function VI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ld(i)?!!i.capture:!!i,a=q5(t);if(a||(t[W5]=a=new Tg(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=wG(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)hG||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($I(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function wG(){function t(n){return e.call(t.src,t.listener,n)}const e=bG;return t}function FI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)FI(t,e[s],n,r,i);return null}return n=G5(n),t&&t[cd]?t.P(e,n,ld(r)?!!r.capture:!!r,i):VI(t,e,n,!0,r,i)}function BI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)BI(t,e[s],n,r,i);else r=ld(r)?!!r.capture:!!r,n=G5(n),t&&t[cd]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Z2(s,n,r,i),-1<n&&(Eg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=q5(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Z2(e,n,r,i)),(n=-1<t?e[t]:null)&&H5(n))}function H5(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[cd])J2(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($I(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=q5(e))?(J2(n,t),n.h==0&&(n.src=null,e[W5]=null)):Eg(t)}}}function $I(t){return t in c1?c1[t]:c1[t]="on"+t}function bG(t,e){if(t.fa)t=!0;else{e=new hh(e,this);var n=t.listener,r=t.la||t.src;t.ia&&H5(t),t=n.call(r,e)}return t}function q5(t){return t=t[W5],t instanceof Tg?t:null}var u1="__closure_events_fn_"+(1e9*Math.random()>>>0);function G5(t){return typeof t=="function"?t:(t[u1]||(t[u1]=function(e){return t.handleEvent(e)}),t[u1])}function jt(){Fs.call(this),this.i=new Tg(this),this.S=this,this.J=null}zt(jt,Fs);jt.prototype[cd]=!0;jt.prototype.removeEventListener=function(t,e,n,r){BI(this,t,e,n,r)};function Jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new cn(e,t);else if(e instanceof cn)e.target=e.target||t;else{var i=e;e=new cn(r,t),LI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=sf(o,r,!0,e)&&i}if(o=e.g=t,i=sf(o,r,!0,e)&&i,i=sf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=sf(o,r,!1,e)&&i}jt.prototype.N=function(){if(jt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Eg(n[r]);delete t.g[e],t.h--}}this.J=null};jt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};jt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function sf(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&J2(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var K5=ge.JSON.stringify;class EG{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function TG(){var t=Q5;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class SG{constructor(){this.h=this.g=null}add(e,n){const r=UI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var UI=new EG(()=>new IG,t=>t.reset());class IG{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function xG(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function kG(t){ge.setTimeout(()=>{throw t},0)}let dh,fh=!1,Q5=new SG,jI=()=>{const t=ge.Promise.resolve(void 0);dh=()=>{t.then(RG)}};var RG=()=>{for(var t;t=TG();){try{t.h.call(t.g)}catch(n){kG(n)}var e=UI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}fh=!1};function Sg(t,e){jt.call(this),this.h=t||1,this.g=e||ge,this.j=ln(this.qb,this),this.l=Date.now()}zt(Sg,jt);J=Sg.prototype;J.ga=!1;J.T=null;J.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Jt(this,"tick"),this.ga&&(Y5(this),this.start()))}};J.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Y5(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}J.N=function(){Sg.$.N.call(this),Y5(this),delete this.g};function X5(t,e,n){if(typeof t=="function")n&&(t=ln(t,n));else if(t&&typeof t.handleEvent=="function")t=ln(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ge.setTimeout(t,e||0)}function zI(t){t.g=X5(()=>{t.g=null,t.i&&(t.i=!1,zI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class AG extends Fs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zI(this)}N(){super.N(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ph(t){Fs.call(this),this.h=t,this.g={}}zt(ph,Fs);var lv=[];function WI(t,e,n,r){Array.isArray(n)||(n&&(lv[0]=n.toString()),n=lv);for(var i=0;i<n.length;i++){var s=MI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function HI(t){z5(t.g,function(e,n){this.g.hasOwnProperty(n)&&H5(e)},t),t.g={}}ph.prototype.N=function(){ph.$.N.call(this),HI(this)};ph.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ig(){this.g=!0}Ig.prototype.Ea=function(){this.g=!1};function CG(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function PG(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ua(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+DG(t,n)+(r?" "+r:"")})}function NG(t,e){t.info(function(){return"TIMEOUT: "+e})}Ig.prototype.info=function(){};function DG(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return K5(n)}catch{return e}}var ra={},cv=null;function xg(){return cv=cv||new jt}ra.Ta="serverreachability";function qI(t){cn.call(this,ra.Ta,t)}zt(qI,cn);function gh(t){const e=xg();Jt(e,new qI(e))}ra.STAT_EVENT="statevent";function GI(t,e){cn.call(this,ra.STAT_EVENT,t),this.stat=e}zt(GI,cn);function gn(t){const e=xg();Jt(e,new GI(e,t))}ra.Ua="timingevent";function KI(t,e){cn.call(this,ra.Ua,t),this.size=e}zt(KI,cn);function ud(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){t()},e)}var kg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},QI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function J5(){}J5.prototype.h=null;function uv(t){return t.h||(t.h=t.i())}function YI(){}var hd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Z5(){cn.call(this,"d")}zt(Z5,cn);function e3(){cn.call(this,"c")}zt(e3,cn);var ey;function Rg(){}zt(Rg,J5);Rg.prototype.g=function(){return new XMLHttpRequest};Rg.prototype.i=function(){return{}};ey=new Rg;function dd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ph(this),this.P=OG,t=Q2?125:void 0,this.V=new Sg(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new XI}function XI(){this.i=null,this.g="",this.h=!1}var OG=45e3,JI={},ty={};J=dd.prototype;J.setTimeout=function(t){this.P=t};function ny(t,e,n){t.L=1,t.A=Cg(xi(e)),t.u=n,t.S=!0,ZI(t,null)}function ZI(t,e){t.G=Date.now(),fd(t),t.B=xi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),ax(n.i,"t",r),t.o=0,n=t.l.J,t.h=new XI,t.g=Rx(t.l,n?e:null,!t.u),0<t.O&&(t.M=new AG(ln(t.Pa,t,t.g),t.O)),WI(t.U,t.g,"readystatechange",t.nb),e=t.I?OI(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),gh(),CG(t.j,t.v,t.B,t.m,t.W,t.u)}J.nb=function(t){t=t.target;const e=this.M;e&&Ur(t)==3?e.l():this.Pa(t)};J.Pa=function(t){try{if(t==this.g)e:{const u=Ur(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Q2||this.g&&(this.h.h||this.g.ja()||pv(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?gh(3):gh(2)),Ag(this);var n=this.g.da();this.ca=n;t:if(ex(this)){var r=pv(this.g);t="";var i=r.length,s=Ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){po(this),Eu(this);var o="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,PG(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uh(a)){var c=a;break t}}c=null}if(n=c)Ua(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ry(this,n);else{this.i=!1,this.s=3,gn(12),po(this),Eu(this);break e}}this.S?(tx(this,u,o),Q2&&this.i&&u==3&&(WI(this.U,this.V,"tick",this.mb),this.V.start())):(Ua(this.j,this.m,o,null),ry(this,o)),u==4&&po(this),this.i&&!this.J&&(u==4?Sx(this.l,this):(this.i=!1,fd(this)))}else tK(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,gn(12)):(this.s=0,gn(13)),po(this),Eu(this)}}}catch{}finally{}};function ex(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function tx(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=LG(t,n),i==ty){e==4&&(t.s=4,gn(14),r=!1),Ua(t.j,t.m,null,"[Incomplete Response]");break}else if(i==JI){t.s=4,gn(15),Ua(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ua(t.j,t.m,i,null),ry(t,i);ex(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,gn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),o3(e),e.M=!0,gn(11))):(Ua(t.j,t.m,n,"[Invalid Chunked Response]"),po(t),Eu(t))}J.mb=function(){if(this.g){var t=Ur(this.g),e=this.g.ja();this.o<e.length&&(Ag(this),tx(this,t,e),this.i&&t!=4&&fd(this))}};function LG(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?ty:(n=Number(e.substring(n,r)),isNaN(n)?JI:(r+=1,r+n>e.length?ty:(e=e.slice(r,r+n),t.o=r+n,e)))}J.cancel=function(){this.J=!0,po(this)};function fd(t){t.Y=Date.now()+t.P,nx(t,t.P)}function nx(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ud(ln(t.lb,t),e)}function Ag(t){t.C&&(ge.clearTimeout(t.C),t.C=null)}J.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(NG(this.j,this.B),this.L!=2&&(gh(),gn(17)),po(this),this.s=2,Eu(this)):nx(this,this.Y-t)};function Eu(t){t.l.H==0||t.J||Sx(t.l,t)}function po(t){Ag(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Y5(t.V),HI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ry(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||iy(n.i,t))){if(!t.K&&iy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Xp(n),Og(n);else break e;s3(n),gn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ud(ln(n.ib,n),6e3));if(1>=ux(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else go(n,11)}else if((t.K||n.g==t)&&Xp(n),!uh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(t3(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ge(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=kx(r,r.J?r.pa:null,r.Y),o.K){hx(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Ag(a),fd(a)),r.g=o}else Ex(r);0<n.j.length&&Lg(n)}else c[0]!="stop"&&c[0]!="close"||go(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?go(n,7):i3(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}gh(4)}catch{}}function MG(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(wg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function VG(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(wg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function rx(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(wg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=VG(t),r=MG(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var ix=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FG(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Io(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Io){this.h=t.h,Qp(this,t.j),this.s=t.s,this.g=t.g,Yp(this,t.m),this.l=t.l;var e=t.i,n=new mh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),hv(this,n),this.o=t.o}else t&&(e=String(t).match(ix))?(this.h=!1,Qp(this,e[1]||"",!0),this.s=Wc(e[2]||""),this.g=Wc(e[3]||"",!0),Yp(this,e[4]),this.l=Wc(e[5]||"",!0),hv(this,e[6]||"",!0),this.o=Wc(e[7]||"")):(this.h=!1,this.i=new mh(null,this.h))}Io.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Hc(e,dv,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Hc(e,dv,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Hc(n,n.charAt(0)=="/"?UG:$G,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Hc(n,zG)),t.join("")};function xi(t){return new Io(t)}function Qp(t,e,n){t.j=n?Wc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Yp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function hv(t,e,n){e instanceof mh?(t.i=e,WG(t.i,t.h)):(n||(e=Hc(e,jG)),t.i=new mh(e,t.h))}function Ge(t,e,n){t.i.set(e,n)}function Cg(t){return Ge(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Wc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,BG),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function BG(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var dv=/[#\/\?@]/g,$G=/[#\?:]/g,UG=/[#\?]/g,jG=/[#\?@]/g,zG=/#/g;function mh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Bs(t){t.g||(t.g=new Map,t.h=0,t.i&&FG(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=mh.prototype;J.add=function(t,e){Bs(this),this.i=null,t=Gl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function sx(t,e){Bs(t),e=Gl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ox(t,e){return Bs(t),e=Gl(t,e),t.g.has(e)}J.forEach=function(t,e){Bs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};J.ta=function(){Bs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};J.Z=function(t){Bs(this);let e=[];if(typeof t=="string")ox(this,t)&&(e=e.concat(this.g.get(Gl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return Bs(this),this.i=null,t=Gl(this,t),ox(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ax(t,e,n){sx(t,e),0<n.length&&(t.i=null,t.g.set(Gl(t,e),U5(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Gl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function WG(t,e){e&&!t.j&&(Bs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(sx(this,r),ax(this,i,n))},t)),t.j=e}var HG=class{constructor(t,e){this.g=t,this.map=e}};function lx(t){this.l=t||qG,ge.PerformanceNavigationTiming?(t=ge.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ge.g&&ge.g.Ka&&ge.g.Ka()&&ge.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qG=10;function cx(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ux(t){return t.h?1:t.g?t.g.size:0}function iy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function t3(t,e){t.g?t.g.add(e):t.h=e}function hx(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}lx.prototype.cancel=function(){if(this.i=dx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function dx(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return U5(t.i)}var GG=class{stringify(t){return ge.JSON.stringify(t,void 0)}parse(t){return ge.JSON.parse(t,void 0)}};function KG(){this.g=new GG}function QG(t,e,n){const r=n||"";try{rx(t,function(i,s){let o=i;ld(i)&&(o=K5(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function YG(t,e){const n=new Ig;if(ge.Image){const r=new Image;r.onload=rf(of,n,r,"TestLoadImage: loaded",!0,e),r.onerror=rf(of,n,r,"TestLoadImage: error",!1,e),r.onabort=rf(of,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=rf(of,n,r,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function of(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Pg(t){this.l=t.ec||null,this.j=t.ob||!1}zt(Pg,J5);Pg.prototype.g=function(){return new Ng(this.l,this.j)};Pg.prototype.i=function(t){return function(){return t}}({});function Ng(t,e){jt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=n3,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zt(Ng,jt);var n3=0;J=Ng.prototype;J.open=function(t,e){if(this.readyState!=n3)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,yh(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pd(this)),this.readyState=n3};J.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,yh(this)),this.g&&(this.readyState=3,yh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fx(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function fx(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}J.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pd(this):yh(this),this.readyState==3&&fx(this)}};J.Za=function(t){this.g&&(this.response=this.responseText=t,pd(this))};J.Ya=function(t){this.g&&(this.response=t,pd(this))};J.ka=function(){this.g&&pd(this)};function pd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,yh(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function yh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ng.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var XG=ge.JSON.parse;function _t(t){jt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=px,this.L=this.M=!1}zt(_t,jt);var px="",JG=/^https?$/i,ZG=["POST","PUT"];J=_t.prototype;J.Oa=function(t){this.M=t};J.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ey.g(),this.C=this.u?uv(this.u):uv(ey),this.g.onreadystatechange=ln(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){fv(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ge.FormData&&t instanceof ge.FormData,!(0<=CI(ZG,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yx(this),0<this.B&&((this.L=eK(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ln(this.ua,this)):this.A=X5(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){fv(this,s)}};function eK(t){return yl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.ua=function(){typeof $5<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))};function fv(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gx(t),Dg(t)}function gx(t){t.F||(t.F=!0,Jt(t,"complete"),Jt(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Jt(this,"complete"),Jt(this,"abort"),Dg(this))};J.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dg(this,!0)),_t.$.N.call(this)};J.La=function(){this.s||(this.G||this.v||this.l?mx(this):this.kb())};J.kb=function(){mx(this)};function mx(t){if(t.h&&typeof $5<"u"&&(!t.C[1]||Ur(t)!=4||t.da()!=2)){if(t.v&&Ur(t)==4)X5(t.La,0,t);else if(Jt(t,"readystatechange"),Ur(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(ix)[1]||null;!i&&ge.self&&ge.self.location&&(i=ge.self.location.protocol.slice(0,-1)),r=!JG.test(i?i.toLowerCase():"")}n=r}if(n)Jt(t,"complete"),Jt(t,"success");else{t.m=6;try{var s=2<Ur(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",gx(t)}}finally{Dg(t)}}}}function Dg(t,e){if(t.g){yx(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function yx(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ge.clearTimeout(t.A),t.A=null)}J.isActive=function(){return!!this.g};function Ur(t){return t.g?t.g.readyState:0}J.da=function(){try{return 2<Ur(this)?this.g.status:-1}catch{return-1}};J.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),XG(e)}};function pv(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case px:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function tK(t){const e={};t=(t.g&&2<=Ur(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(uh(t[r]))continue;var n=xG(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}vG(e,function(r){return r.join(", ")})}J.Ia=function(){return this.m};J.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function _x(t){let e="";return z5(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function r3(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_x(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ge(t,e,n))}function Ec(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function vx(t){this.Ga=0,this.j=[],this.l=new Ig,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ec("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ec("baseRetryDelayMs",5e3,t),this.hb=Ec("retryDelaySeedMs",1e4,t),this.eb=Ec("forwardChannelMaxRetries",2,t),this.xa=Ec("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new lx(t&&t.concurrentRequestLimit),this.Ja=new KG,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}J=vx.prototype;J.ra=8;J.H=1;function i3(t){if(wx(t),t.H==3){var e=t.W++,n=xi(t.I);if(Ge(n,"SID",t.K),Ge(n,"RID",e),Ge(n,"TYPE","terminate"),gd(t,n),e=new dd(t,t.l,e),e.L=2,e.A=Cg(xi(n)),n=!1,ge.navigator&&ge.navigator.sendBeacon)try{n=ge.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ge.Image&&(new Image().src=e.A,n=!0),n||(e.g=Rx(e.l,null),e.g.ha(e.A)),e.G=Date.now(),fd(e)}xx(t)}function Og(t){t.g&&(o3(t),t.g.cancel(),t.g=null)}function wx(t){Og(t),t.u&&(ge.clearTimeout(t.u),t.u=null),Xp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ge.clearTimeout(t.m),t.m=null)}function Lg(t){if(!cx(t.i)&&!t.m){t.m=!0;var e=t.Na;dh||jI(),fh||(dh(),fh=!0),Q5.add(e,t),t.C=0}}function nK(t,e){return ux(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ud(ln(t.Na,t,e),Ix(t,t.C)),t.C++,!0)}J.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new dd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=OI(s),LI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=bx(this,i,e),n=xi(this.I),Ge(n,"RID",t),Ge(n,"CVER",22),this.F&&Ge(n,"X-HTTP-Session-Id",this.F),gd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(_x(s)))+"&"+e:this.o&&r3(n,this.o,s)),t3(this.i,i),this.bb&&Ge(n,"TYPE","init"),this.P?(Ge(n,"$req",e),Ge(n,"SID","null"),i.aa=!0,ny(i,n,null)):ny(i,n,e),this.H=2}}else this.H==3&&(t?gv(this,t):this.j.length==0||cx(this.i)||gv(this))};function gv(t,e){var n;e?n=e.m:n=t.W++;const r=xi(t.I);Ge(r,"SID",t.K),Ge(r,"RID",n),Ge(r,"AID",t.V),gd(t,r),t.o&&t.s&&r3(r,t.o,t.s),n=new dd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=bx(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),t3(t.i,n),ny(n,r,e)}function gd(t,e){t.na&&z5(t.na,function(n,r){Ge(e,r,n)}),t.h&&rx({},function(n,r){Ge(e,r,n)})}function bx(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ln(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{QG(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Ex(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;dh||jI(),fh||(dh(),fh=!0),Q5.add(e,t),t.A=0}}function s3(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ud(ln(t.Ma,t),Ix(t,t.A)),t.A++,!0)}J.Ma=function(){if(this.u=null,Tx(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ud(ln(this.jb,this),t)}};J.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gn(10),Og(this),Tx(this))};function o3(t){t.B!=null&&(ge.clearTimeout(t.B),t.B=null)}function Tx(t){t.g=new dd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=xi(t.wa);Ge(e,"RID","rpc"),Ge(e,"SID",t.K),Ge(e,"AID",t.V),Ge(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ge(e,"TO",t.qa),Ge(e,"TYPE","xmlhttp"),gd(t,e),t.o&&t.s&&r3(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Cg(xi(e)),n.u=null,n.S=!0,ZI(n,t)}J.ib=function(){this.v!=null&&(this.v=null,Og(this),s3(this),gn(19))};function Xp(t){t.v!=null&&(ge.clearTimeout(t.v),t.v=null)}function Sx(t,e){var n=null;if(t.g==e){Xp(t),o3(t),t.g=null;var r=2}else if(iy(t.i,e))n=e.F,hx(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=xg(),Jt(r,new KI(r,n)),Lg(t)}else Ex(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&nK(t,e)||r==2&&s3(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:go(t,5);break;case 4:go(t,10);break;case 3:go(t,6);break;default:go(t,2)}}}function Ix(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function go(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ln(t.pb,t);n||(n=new Io("//www.google.com/images/cleardot.gif"),ge.location&&ge.location.protocol=="http"||Qp(n,"https"),Cg(n)),YG(n.toString(),r)}else gn(2);t.H=0,t.h&&t.h.za(e),xx(t),wx(t)}J.pb=function(t){t?(this.l.info("Successfully pinged google.com"),gn(2)):(this.l.info("Failed to ping google.com"),gn(1))};function xx(t){if(t.H=0,t.ma=[],t.h){const e=dx(t.i);(e.length!=0||t.j.length!=0)&&(sv(t.ma,e),sv(t.ma,t.j),t.i.i.length=0,U5(t.j),t.j.length=0),t.h.ya()}}function kx(t,e,n){var r=n instanceof Io?xi(n):new Io(n);if(r.g!="")e&&(r.g=e+"."+r.g),Yp(r,r.m);else{var i=ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Io(null);r&&Qp(s,r),e&&(s.g=e),i&&Yp(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ge(r,n,e),Ge(r,"VER",t.ra),gd(t,r),r}function Rx(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new _t(new Pg({ob:n})):new _t(t.va),e.Oa(t.J),e}J.isActive=function(){return!!this.h&&this.h.isActive(this)};function Ax(){}J=Ax.prototype;J.Ba=function(){};J.Aa=function(){};J.za=function(){};J.ya=function(){};J.isActive=function(){return!0};J.Va=function(){};function Jp(){if(yl&&!(10<=Number(gG)))throw Error("Environmental error: no available transport.")}Jp.prototype.g=function(t,e){return new Qn(t,e)};function Qn(t,e){jt.call(this),this.g=new vx(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!uh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!uh(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Kl(this)}zt(Qn,jt);Qn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;gn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=kx(t,null,t.Y),Lg(t)};Qn.prototype.close=function(){i3(this.g)};Qn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=K5(t),t=n);e.j.push(new HG(e.fb++,t)),e.H==3&&Lg(e)};Qn.prototype.N=function(){this.g.h=null,delete this.j,i3(this.g),delete this.g,Qn.$.N.call(this)};function Cx(t){Z5.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}zt(Cx,Z5);function Px(){e3.call(this),this.status=1}zt(Px,e3);function Kl(t){this.g=t}zt(Kl,Ax);Kl.prototype.Ba=function(){Jt(this.g,"a")};Kl.prototype.Aa=function(t){Jt(this.g,new Cx(t))};Kl.prototype.za=function(t){Jt(this.g,new Px)};Kl.prototype.ya=function(){Jt(this.g,"b")};function rK(){this.blockSize=-1}function Ir(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}zt(Ir,rK);Ir.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function h1(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Ir.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)h1(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){h1(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){h1(this,r),i=0;break}}this.h=i,this.i+=e};Ir.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ve(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var iK={};function a3(t){return-128<=t&&128>t?dG(t,function(e){return new Ve([e|0],0>e?-1:0)}):new Ve([t|0],0>t?-1:0)}function jr(t){if(isNaN(t)||!isFinite(t))return Ja;if(0>t)return Kt(jr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=sy;return new Ve(e,0)}function Nx(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Kt(Nx(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=jr(Math.pow(e,8)),r=Ja,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=jr(Math.pow(e,s)),r=r.R(s).add(jr(o))):(r=r.R(n),r=r.add(jr(o)))}return r}var sy=4294967296,Ja=a3(0),oy=a3(1),mv=a3(16777216);J=Ve.prototype;J.ea=function(){if(ir(this))return-Kt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:sy+r)*e,e*=sy}return t};J.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(di(this))return"0";if(ir(this))return"-"+Kt(this).toString(t);for(var e=jr(Math.pow(t,6)),n=this,r="";;){var i=e0(n,e).g;n=Zp(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,di(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};J.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function di(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ir(t){return t.h==-1}J.X=function(t){return t=Zp(this,t),ir(t)?-1:di(t)?0:1};function Kt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ve(n,~t.h).add(oy)}J.abs=function(){return ir(this)?Kt(this):this};J.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ve(n,n[n.length-1]&-2147483648?-1:0)};function Zp(t,e){return t.add(Kt(e))}J.R=function(t){if(di(this)||di(t))return Ja;if(ir(this))return ir(t)?Kt(this).R(Kt(t)):Kt(Kt(this).R(t));if(ir(t))return Kt(this.R(Kt(t)));if(0>this.X(mv)&&0>t.X(mv))return jr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,af(n,2*r+2*i),n[2*r+2*i+1]+=s*l,af(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,af(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,af(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ve(n,0)};function af(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Tc(t,e){this.g=t,this.h=e}function e0(t,e){if(di(e))throw Error("division by zero");if(di(t))return new Tc(Ja,Ja);if(ir(t))return e=e0(Kt(t),e),new Tc(Kt(e.g),Kt(e.h));if(ir(e))return e=e0(t,Kt(e)),new Tc(Kt(e.g),e.h);if(30<t.g.length){if(ir(t)||ir(e))throw Error("slowDivide_ only works with positive integers.");for(var n=oy,r=e;0>=r.X(t);)n=yv(n),r=yv(r);var i=ma(n,1),s=ma(r,1);for(r=ma(r,2),n=ma(n,2);!di(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ma(r,1),n=ma(n,1)}return e=Zp(t,i.R(e)),new Tc(i,e)}for(i=Ja;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=jr(n),o=s.R(e);ir(o)||0<o.X(t);)n-=r,s=jr(n),o=s.R(e);di(s)&&(s=oy),i=i.add(s),t=Zp(t,o)}return new Tc(i,t)}J.gb=function(t){return e0(this,t).h};J.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ve(n,this.h&t.h)};J.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ve(n,this.h|t.h)};J.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ve(n,this.h^t.h)};function yv(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ve(n,t.h)}function ma(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ve(i,t.h)}Jp.prototype.createWebChannel=Jp.prototype.g;Qn.prototype.send=Qn.prototype.u;Qn.prototype.open=Qn.prototype.m;Qn.prototype.close=Qn.prototype.close;kg.NO_ERROR=0;kg.TIMEOUT=8;kg.HTTP_ERROR=6;QI.COMPLETE="complete";YI.EventType=hd;hd.OPEN="a";hd.CLOSE="b";hd.ERROR="c";hd.MESSAGE="d";jt.prototype.listen=jt.prototype.O;_t.prototype.listenOnce=_t.prototype.P;_t.prototype.getLastError=_t.prototype.Sa;_t.prototype.getLastErrorCode=_t.prototype.Ia;_t.prototype.getStatus=_t.prototype.da;_t.prototype.getResponseJson=_t.prototype.Wa;_t.prototype.getResponseText=_t.prototype.ja;_t.prototype.send=_t.prototype.ha;_t.prototype.setWithCredentials=_t.prototype.Oa;Ir.prototype.digest=Ir.prototype.l;Ir.prototype.reset=Ir.prototype.reset;Ir.prototype.update=Ir.prototype.j;Ve.prototype.add=Ve.prototype.add;Ve.prototype.multiply=Ve.prototype.R;Ve.prototype.modulo=Ve.prototype.gb;Ve.prototype.compare=Ve.prototype.X;Ve.prototype.toNumber=Ve.prototype.ea;Ve.prototype.toString=Ve.prototype.toString;Ve.prototype.getBits=Ve.prototype.D;Ve.fromNumber=jr;Ve.fromString=Nx;var sK=function(){return new Jp},oK=function(){return xg()},d1=kg,aK=QI,lK=ra,_v={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lf=YI,cK=_t,uK=Ir,Za=Ve;const vv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new lg("@firebase/firestore");function Ta(){return vs.logLevel}function hK(t){vs.setLogLevel(t)}function $(t,...e){if(vs.logLevel<=Ie.DEBUG){const n=e.map(l3);vs.debug(`Firestore (${Ql}): ${t}`,...n)}}function Tt(t,...e){if(vs.logLevel<=Ie.ERROR){const n=e.map(l3);vs.error(`Firestore (${Ql}): ${t}`,...n)}}function xr(t,...e){if(vs.logLevel<=Ie.WARN){const n=e.map(l3);vs.warn(`Firestore (${Ql}): ${t}`,...n)}}function l3(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t="Unexpected state"){const e=`FIRESTORE (${Ql}) INTERNAL ASSERTION FAILED: `+t;throw Tt(e),new Error(e)}function oe(t,e){t||te()}function dK(t,e){t||te()}function Y(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class pK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gK{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ut;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ut,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ut)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe(typeof r.accessToken=="string"),new Dx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return oe(e===null||typeof e=="string"),new Ft(e)}}class mK{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yK{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mK(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _K{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vK{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(oe(typeof n.token=="string"),this.R=n.token,new _K(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=wK(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function _l(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function Lx(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new ot(0,0))}static max(){return new ae(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _h.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _h?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class xe extends _h{construct(e,n,r){return new xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new F(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const bK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends _h{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return bK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new it(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new F(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new F(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new F(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new F(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(xe.fromString(e))}static fromName(e){return new G(xe.fromString(e).popFirst(5))}static empty(){return new G(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new xe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function ay(t){return t.fields.find(e=>e.kind===2)}function eo(t){return t.fields.filter(e=>e.kind!==2)}t0.UNKNOWN_ID=-1;class qf{constructor(e,n){this.fieldPath=e,this.kind=n}}class vh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new vh(0,Yn.min())}}function Mx(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new Yn(i,G.empty(),e)}function Vx(t){return new Yn(t.readTime,t.key,-1)}class Yn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yn(ae.min(),G.empty(),-1)}static max(){return new Yn(ae.max(),G.empty(),-1)}}function c3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==Fx)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new A((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):A.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):A.reject(n)}static resolve(e){return new A((n,r)=>{n(e)})}static reject(e){return new A((n,r)=>{r(e)})}static waitFor(e){return new A((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=A.resolve(!1);for(const r of e)n=n.next(i=>i?A.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new A((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new A((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ut,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Tu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=u3(r.target.error);this.V.reject(new Tu(e,i))}}static open(e,n,r,i){try{return new Mg(n,e.transaction(i,r))}catch(s){throw new Tu(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||($("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new TK(n)}}class or{constructor(e,n,r){this.name=e,this.version=n,this.p=r,or.S(at())===12.2&&Tt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $("SimpleDb","Removing database:",e),io(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!eh())return!1;if(or.C())return!0;const e=at(),n=or.S(e),r=0<n&&n<10,i=or.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||($("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Tu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new F(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new F(P.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Tu(e,o))},i.onupgradeneeded=s=>{$("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{$("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Mg.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),A.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if($("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class EK{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return io(this.k.delete())}}class Tu extends F{constructor(e,n){super(P.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Us(t){return t.name==="IndexedDbTransactionError"}class TK{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?($("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):($("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),io(r)}add(e){return $("SimpleDb","ADD",this.store.name,e,e),io(this.store.add(e))}get(e){return io(this.store.get(e)).next(n=>(n===void 0&&(n=null),$("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return $("SimpleDb","DELETE",this.store.name,e),io(this.store.delete(e))}count(){return $("SimpleDb","COUNT",this.store.name),io(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new A((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new A((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){$("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new A((r,i)=>{n.onerror=s=>{const o=u3(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new A((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new EK(a),c=n(a.primaryKey,a.value,l);if(c instanceof A){const u=c.catch(h=>(l.done(),A.reject(h)));r.push(u)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>A.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function io(t){return new A((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=u3(r.target.error);n(i)}})}let wv=!1;function u3(t){const e=or.S(at());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new F("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wv||(wv=!0,setTimeout(()=>{throw r},0)),r}}return t}class SK{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){$("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{$("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(n){Us(n)?$("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await $s(n)}await this.ee(6e4)})}}class IK{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return A.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return $("IndexBackfiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>($("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=Vx(s);c3(o,r)>0&&(r=o)}),new Yn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Pn._e=-1;function md(t){return t==null}function wh(t){return t===0&&1/t==-1/0}function $x(t){return typeof t=="number"&&Number.isInteger(t)&&!wh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bv(e)),e=xK(t.get(n),e);return bv(e)}function xK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function bv(t){return t+""}function zr(t){const e=t.length;if(oe(e>=2),e===2)return oe(t.charAt(0)===""&&t.charAt(1)===""),xe.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&te(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:te()}s=o+2}return new xe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t,e){return[t,_n(e)]}function Ux(t,e,n){return[t,_n(e),n]}const kK={},RK=["prefixPath","collectionGroup","readTime","documentId"],AK=["prefixPath","collectionGroup","documentId"],CK=["collectionGroup","readTime","prefixPath","documentId"],PK=["canonicalId","targetId"],NK=["targetId","path"],DK=["path","targetId"],OK=["collectionId","parent"],LK=["indexId","uid"],MK=["uid","sequenceNumber"],VK=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],FK=["indexId","uid","orderedDocumentKey"],BK=["userId","collectionPath","documentId"],$K=["userId","collectionPath","largestBatchId"],UK=["userId","collectionGroup","largestBatchId"],jx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jK=[...jx,"documentOverlays"],zx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wx=zx,zK=[...Wx,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly extends Bx{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Wt(t,e){const n=Y(t);return or.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cf(this.root,e,this.comparator,!0)}}class cf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=i??Gt.EMPTY,this.right=s??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Gt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sv(this.data.getIterator())}getIteratorFrom(e){return new Sv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $e(this.comparator);return n.data=e,n}}class Sv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ya(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new $e(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _l(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WK(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qx("Invalid base64 string: "+s):s}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const HK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(t){if(oe(!!t),typeof t=="string"){let e=0;const n=HK.exec(t);if(oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bs(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function h3(t){const e=t.mapValue.fields.__previous_value__;return Vg(e)?h3(e):e}function bh(t){const e=ws(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qK{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Es{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Es("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Es&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Kf={nullValue:"NULL_VALUE"};function Bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vg(t)?4:Gx(t)?9007199254740991:10:te()}function Jr(t,e){if(t===e)return!0;const n=Bo(t);if(n!==Bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bh(t).isEqual(bh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ws(i.timestampValue),a=ws(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return bs(i.bytesValue).isEqual(bs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return pt(i.geoPointValue.latitude)===pt(s.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return pt(i.integerValue)===pt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=pt(i.doubleValue),a=pt(s.doubleValue);return o===a?wh(o)===wh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return _l(t.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Tv(o)!==Tv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Jr(o[l],a[l])))return!1;return!0}(t,e);default:return te()}}function Eh(t,e){return(t.values||[]).find(n=>Jr(n,e))!==void 0}function Ts(t,e){if(t===e)return 0;const n=Bo(t),r=Bo(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=pt(s.integerValue||s.doubleValue),l=pt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Iv(t.timestampValue,e.timestampValue);case 4:return Iv(bh(t),bh(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(s,o){const a=bs(s),l=bs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=me(a[c],l[c]);if(u!==0)return u}return me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=me(pt(s.latitude),pt(o.latitude));return a!==0?a:me(pt(s.longitude),pt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Ts(a[c],l[c]);if(u)return u}return me(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Xi.mapValue&&o===Xi.mapValue)return 0;if(s===Xi.mapValue)return 1;if(o===Xi.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=me(l[h],u[h]);if(d!==0)return d;const f=Ts(a[l[h]],c[u[h]]);if(f!==0)return f}return me(l.length,u.length)}(t.mapValue,e.mapValue);default:throw te()}}function Iv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=ws(t),r=ws(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function vl(t){return cy(t)}function cy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ws(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=cy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${cy(n.fields[o])}`;return i+"}"}(t.mapValue):te()}function $o(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uy(t){return!!t&&"integerValue"in t}function Th(t){return!!t&&"arrayValue"in t}function xv(t){return!!t&&"nullValue"in t}function kv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qf(t){return!!t&&"mapValue"in t}function Su(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ia(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Su(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Su(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Gx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function GK(t){return"nullValue"in t?Kf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?$o(Es.empty(),G.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:te()}function KK(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?$o(Es.empty(),G.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Xi:te()}function Rv(t,e){const n=Ts(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Av(t,e){const n=Ts(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.value=e}static empty(){return new Qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(n)}setAll(e){let n=it.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Su(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Qf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Qf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ia(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Qt(Su(this.value))}}function Kx(t){const e=[];return ia(t.fields,(n,r)=>{const i=new it([n]);if(Qf(r)){const s=Kx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ke(e,0,ae.min(),ae.min(),ae.min(),Qt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ke(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new Ke(e,2,n,ae.min(),ae.min(),Qt.empty(),0)}static newUnknownDocument(e,n){return new Ke(e,3,n,ae.min(),ae.min(),Qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.position=e,this.inclusive=n}}function Cv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=Ts(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function QK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{}class ke extends Qx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new YK(e,n,r):n==="array-contains"?new ZK(e,r):n==="in"?new tk(e,r):n==="not-in"?new eQ(e,r):n==="array-contains-any"?new tQ(e,r):new ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new XK(e,r):new JK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ts(n,this.value)):n!==null&&Bo(this.value)===Bo(n)&&this.matchesComparison(Ts(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Le extends Qx{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Le(e,n)}matches(e){return wl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function wl(t){return t.op==="and"}function hy(t){return t.op==="or"}function d3(t){return Yx(t)&&wl(t)}function Yx(t){for(const e of t.filters)if(e instanceof Le)return!1;return!0}function dy(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+vl(t.value);if(d3(t))return t.filters.map(e=>dy(e)).join(",");{const e=t.filters.map(n=>dy(n)).join(",");return`${t.op}(${e})`}}function Xx(t,e){return t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.field.isEqual(i.field)&&Jr(r.value,i.value)}(t,e):t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Xx(o,i.filters[a]),!0):!1}(t,e):void te()}function Jx(t,e){const n=t.filters.concat(e);return Le.create(n,t.op)}function Zx(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${vl(n.value)}`}(t):t instanceof Le?function(n){return n.op.toString()+" {"+n.getFilters().map(Zx).join(" ,")+"}"}(t):"Filter"}class YK extends ke{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class XK extends ke{constructor(e,n){super(e,"in",n),this.keys=ek("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JK extends ke{constructor(e,n){super(e,"not-in",n),this.keys=ek("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ek(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class ZK extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Th(n)&&Eh(n.arrayValue,this.value)}}class tk extends ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eh(this.value.arrayValue,n)}}class eQ extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Eh(this.value.arrayValue,n)}}class tQ extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Th(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Eh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function fy(t,e=null,n=[],r=[],i=null,s=null,o=null){return new nQ(t,e,n,r,i,s,o)}function Uo(t){const e=Y(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vl(r)).join(",")),e.ce=n}return e.ce}function yd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Xx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pv(t.startAt,e.startAt)&&Pv(t.endAt,e.endAt)}function n0(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function r0(t,e){return t.filters.filter(n=>n instanceof ke&&n.field.isEqual(e))}function Nv(t,e,n){let r=Kf,i=!0;for(const s of r0(t,e)){let o=Kf,a=!0;switch(s.op){case"<":case"<=":o=GK(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Kf}Rv({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Rv({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function Dv(t,e,n){let r=Xi,i=!0;for(const s of r0(t,e)){let o=Xi,a=!0;switch(s.op){case">=":case">":o=KK(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Xi}Av({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Av({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function nk(t,e,n,r,i,s,o,a){return new Ni(t,e,n,r,i,s,o,a)}function Yl(t){return new Ni(t)}function Ov(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function f3(t){return t.collectionGroup!==null}function el(t){const e=Y(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $e(it.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Sh(s,r))}),n.has(it.keyField().canonicalString())||e.le.push(new Sh(it.keyField(),r))}return e.le}function vn(t){const e=Y(t);return e.he||(e.he=rQ(e,el(t))),e.he}function rQ(t,e){if(t.limitType==="F")return fy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Sh(i.field,s)});const n=t.endAt?new Ss(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ss(t.startAt.position,t.startAt.inclusive):null;return fy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function py(t,e){const n=t.filters.concat([e]);return new Ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function i0(t,e,n){return new Ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _d(t,e){return yd(vn(t),vn(e))&&t.limitType===e.limitType}function rk(t){return`${Uo(vn(t))}|lt:${t.limitType}`}function Sa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Zx(i)).join(", ")}]`),md(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vl(i)).join(",")),`Target(${r})`}(vn(t))}; limitType=${t.limitType})`}function vd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of el(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Cv(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,el(r),i)||r.endAt&&!function(o,a,l){const c=Cv(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,el(r),i))}(t,e)}function ik(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sk(t){return(e,n)=>{let r=!1;for(const i of el(t)){const s=iQ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iQ(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ts(l,c):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Hx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sQ=new He(G.comparator);function Dn(){return sQ}const ok=new He(G.comparator);function qc(...t){let e=ok;for(const n of t)e=e.insert(n.key,n);return e}function ak(t){let e=ok;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wr(){return Iu()}function lk(){return Iu()}function Iu(){return new js(t=>t.toString(),(t,e)=>t.isEqual(e))}const oQ=new He(G.comparator),aQ=new $e(G.comparator);function ve(...t){let e=aQ;for(const n of t)e=e.add(n);return e}const lQ=new $e(me);function p3(){return lQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function uk(t){return{integerValue:""+t}}function hk(t,e){return $x(e)?uk(e):ck(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this._=void 0}}function cQ(t,e,n){return t instanceof bl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Vg(s)&&(s=h3(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof jo?fk(t,e):t instanceof zo?pk(t,e):function(i,s){const o=dk(i,s),a=Lv(o)+Lv(i.Ie);return uy(o)&&uy(i.Ie)?uk(a):ck(i.serializer,a)}(t,e)}function uQ(t,e,n){return t instanceof jo?fk(t,e):t instanceof zo?pk(t,e):n}function dk(t,e){return t instanceof El?function(r){return uy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class bl extends Fg{}class jo extends Fg{constructor(e){super(),this.elements=e}}function fk(t,e){const n=gk(e);for(const r of t.elements)n.some(i=>Jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class zo extends Fg{constructor(e){super(),this.elements=e}}function pk(t,e){let n=gk(e);for(const r of t.elements)n=n.filter(i=>!Jr(i,r));return{arrayValue:{values:n}}}class El extends Fg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Lv(t){return pt(t.integerValue||t.doubleValue)}function gk(t){return Th(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n){this.field=e,this.transform=n}}function hQ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof jo&&i instanceof jo||r instanceof zo&&i instanceof zo?_l(r.elements,i.elements,Jr):r instanceof El&&i instanceof El?Jr(r.Ie,i.Ie):r instanceof bl&&i instanceof bl}(t.transform,e.transform)}class dQ{constructor(e,n){this.version=e,this.transformResults=n}}class st{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new st}static exists(e){return new st(void 0,e)}static updateTime(e){return new st(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bg{}function mk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jl(t.key,st.none()):new Xl(t.key,t.data,st.none());{const n=t.data,r=Qt.empty();let i=new $e(it.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Di(t.key,r,new Nn(i.toArray()),st.none())}}function fQ(t,e,n){t instanceof Xl?function(i,s,o){const a=i.value.clone(),l=Vv(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Di?function(i,s,o){if(!Yf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Vv(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(yk(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function xu(t,e,n,r){return t instanceof Xl?function(s,o,a,l){if(!Yf(s.precondition,o))return a;const c=s.value.clone(),u=Fv(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Di?function(s,o,a,l){if(!Yf(s.precondition,o))return a;const c=Fv(s.fieldTransforms,l,o),u=o.data;return u.setAll(yk(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Yf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function pQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=dk(r.transform,i||null);s!=null&&(n===null&&(n=Qt.empty()),n.set(r.field,s))}return n||null}function Mv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_l(r,i,(s,o)=>hQ(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xl extends Bg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Di extends Bg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Vv(t,e,n){const r=new Map;oe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,uQ(o,a,n[i]))}return r}function Fv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,cQ(s,o,e))}return r}class Jl extends Bg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g3 extends Bg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&fQ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=mk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&_l(this.mutations,e.mutations,(n,r)=>Mv(n,r))&&_l(this.baseMutations,e.baseMutations,(n,r)=>Mv(n,r))}}class y3{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){oe(e.mutations.length===r.length);let i=function(){return oQ}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new y3(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ce;function _k(t){switch(t){default:return te();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function vk(t){if(t===void 0)return Tt("GRPC error has no .code"),P.UNKNOWN;switch(t){case xt.OK:return P.OK;case xt.CANCELLED:return P.CANCELLED;case xt.UNKNOWN:return P.UNKNOWN;case xt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case xt.INTERNAL:return P.INTERNAL;case xt.UNAVAILABLE:return P.UNAVAILABLE;case xt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case xt.NOT_FOUND:return P.NOT_FOUND;case xt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case xt.ABORTED:return P.ABORTED;case xt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case xt.DATA_LOSS:return P.DATA_LOSS;default:return te()}}(Ce=xt||(xt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mQ=new Za([4294967295,4294967295],0);function Bv(t){const e=wk().encode(t),n=new uK;return n.update(e),new Uint8Array(n.digest())}function $v(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Za([n,r],0),new Za([i,s],0)]}class v3{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gc(`Invalid padding: ${n}`);if(r<0)throw new Gc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Za.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Za.fromNumber(r)));return i.compare(mQ)===1&&(i=new Za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Bv(e),[r,i]=$v(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new v3(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Bv(e),[r,i]=$v(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ed.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bd(ae.min(),i,new He(me),Dn(),ve())}}class Ed{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ed(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class bk{constructor(e,n){this.targetId=e,this.fe=n}}class Ek{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Uv{constructor(){this.ge=0,this.pe=zv(),this.ye=Ot.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ve(),n=ve(),r=ve();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new Ed(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=zv()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,oe(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class yQ{constructor(e){this.Be=e,this.ke=new Map,this.qe=Dn(),this.Qe=jv(),this.Ke=new He(me)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(n0(s))if(r===0){const o=new G(s.path);this.We(n,o,Ke.newNoDocument(o,ae.min()))}else oe(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=bs(r).toUint8Array()}catch(l){if(l instanceof qx)return xr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new v3(o,i,s)}catch(l){return xr(l instanceof Gc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&n0(a.target)){const l=new G(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Ke.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ve();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new bd(e,n,this.Ke,this.qe,r);return this.qe=Dn(),this.Qe=jv(),this.Ke=new He(me),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Uv,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new $e(me),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Uv),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function jv(){return new He(G.comparator)}function zv(){return new He(G.comparator)}const _Q={asc:"ASCENDING",desc:"DESCENDING"},vQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wQ={and:"AND",or:"OR"};class bQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gy(t,e){return t.useProto3Json||md(e)?e:{value:e}}function Tl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EQ(t,e){return Tl(t,e.toTimestamp())}function It(t){return oe(!!t),ae.fromTimestamp(function(n){const r=ws(n);return new ot(r.seconds,r.nanos)}(t))}function w3(t,e){return my(t,e).canonicalString()}function my(t,e){const n=function(i){return new xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Sk(t){const e=xe.fromString(t);return oe(Ok(e)),e}function Ih(t,e){return w3(t.databaseId,e.path)}function Kr(t,e){const n=Sk(e);if(n.get(1)!==t.databaseId.projectId)throw new F(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(kk(n))}function Ik(t,e){return w3(t.databaseId,e)}function xk(t){const e=Sk(t);return e.length===4?xe.emptyPath():kk(e)}function yy(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kk(t){return oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Wv(t,e,n){return{name:Ih(t,e),fields:n.value.mapValue.fields}}function Rk(t,e,n){const r=Kr(t,e.name),i=It(e.updateTime),s=e.createTime?It(e.createTime):ae.min(),o=new Qt({mapValue:{fields:e.fields}}),a=Ke.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function TQ(t,e){return"found"in e?function(r,i){oe(!!i.found),i.found.name,i.found.updateTime;const s=Kr(r,i.found.name),o=It(i.found.updateTime),a=i.found.createTime?It(i.found.createTime):ae.min(),l=new Qt({mapValue:{fields:i.found.fields}});return Ke.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){oe(!!i.missing),oe(!!i.readTime);const s=Kr(r,i.missing),o=It(i.readTime);return Ke.newNoDocument(s,o)}(t,e):te()}function SQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(oe(u===void 0||typeof u=="string"),Ot.fromBase64String(u||"")):(oe(u===void 0||u instanceof Uint8Array),Ot.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?P.UNKNOWN:vk(c.code);return new F(u,c.message||"")}(o);n=new Ek(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kr(t,r.document.name),s=It(r.document.updateTime),o=r.document.createTime?It(r.document.createTime):ae.min(),a=new Qt({mapValue:{fields:r.document.fields}}),l=Ke.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Xf(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kr(t,r.document),s=r.readTime?It(r.readTime):ae.min(),o=Ke.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Xf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kr(t,r.document),s=r.removedTargetIds||[];n=new Xf([],s,i,null)}else{if(!("filter"in e))return te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new gQ(i,s),a=r.targetId;n=new bk(a,o)}}return n}function xh(t,e){let n;if(e instanceof Xl)n={update:Wv(t,e.key,e.value)};else if(e instanceof Jl)n={delete:Ih(t,e.key)};else if(e instanceof Di)n={update:Wv(t,e.key,e.data),updateMask:CQ(e.fieldMask)};else{if(!(e instanceof g3))return te();n={verify:Ih(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof bl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof El)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:EQ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(t,e.precondition)),n}function _y(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?st.updateTime(It(s.updateTime)):s.exists!==void 0?st.exists(s.exists):st.none()}(e.currentDocument):st.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)oe(a.setToServerValue==="REQUEST_TIME"),l=new bl;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new jo(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new zo(u)}else"increment"in a?l=new El(o,a.increment):te();const c=it.fromServerFormat(a.fieldPath);return new wd(c,l)}(t,i)):[];if(e.update){e.update.name;const i=Kr(t,e.update.name),s=new Qt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new Nn(c.map(u=>it.fromServerFormat(u)))}(e.updateMask);return new Di(i,s,o,n,r)}return new Xl(i,s,n,r)}if(e.delete){const i=Kr(t,e.delete);return new Jl(i,n)}if(e.verify){const i=Kr(t,e.verify);return new g3(i,n)}return te()}function IQ(t,e){return t&&t.length>0?(oe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?It(i.updateTime):It(s);return o.isEqual(ae.min())&&(o=It(s)),new dQ(o,i.transformResults||[])}(n,e))):[]}function Ak(t,e){return{documents:[Ik(t,e.path)]}}function Ck(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ik(t,i);const s=function(c){if(c.length!==0)return Dk(Le.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:Ia(d.field),direction:kQ(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=gy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function Pk(t){let e=xk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){oe(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(h){const d=Nk(h);return d instanceof Le&&d3(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(p){return new Sh(xa(p.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,md(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new Ss(f,d)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const d=!h.before,f=h.values||[];return new Ss(f,d)}(n.endAt)),nk(e,i,o,s,a,"F",l,c)}function xQ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Nk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xa(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xa(n.unaryFilter.field);return ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xa(n.unaryFilter.field);return ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=xa(n.unaryFilter.field);return ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return ke.create(xa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Le.create(n.compositeFilter.filters.map(r=>Nk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function kQ(t){return _Q[t]}function RQ(t){return vQ[t]}function AQ(t){return wQ[t]}function Ia(t){return{fieldPath:t.canonicalString()}}function xa(t){return it.fromServerFormat(t.fieldPath)}function Dk(t){return t instanceof ke?function(n){if(n.op==="=="){if(kv(n.value))return{unaryFilter:{field:Ia(n.field),op:"IS_NAN"}};if(xv(n.value))return{unaryFilter:{field:Ia(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kv(n.value))return{unaryFilter:{field:Ia(n.field),op:"IS_NOT_NAN"}};if(xv(n.value))return{unaryFilter:{field:Ia(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ia(n.field),op:RQ(n.op),value:n.value}}}(t):t instanceof Le?function(n){const r=n.getFilters().map(i=>Dk(i));return r.length===1?r[0]:{compositeFilter:{op:AQ(n.op),filters:r}}}(t):te()}function CQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ok(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=Ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.ct=e}}function PQ(t,e){let n;if(e.document)n=Rk(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=G.fromSegments(e.noDocument.path),i=Ho(e.noDocument.readTime);n=Ke.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return te();{const r=G.fromSegments(e.unknownDocument.path),i=Ho(e.unknownDocument.version);n=Ke.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new ot(i[0],i[1]);return ae.fromTimestamp(s)}(e.readTime)),n}function Hv(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:s0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Ih(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Tl(s,o.version.toTimestamp()),createTime:Tl(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Wo(e.version)};else{if(!e.isUnknownDocument())return te();r.unknownDocument={path:n.path.toArray(),version:Wo(e.version)}}return r}function s0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Wo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ho(t){const e=new ot(t.seconds,t.nanoseconds);return ae.fromTimestamp(e)}function so(t,e){const n=(e.baseMutations||[]).map(s=>_y(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>_y(t.ct,s)),i=ot.fromMillis(e.localWriteTimeMs);return new m3(e.batchId,i,n,r)}function Kc(t){const e=Ho(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ho(t.lastLimboFreeSnapshotVersion):ae.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return oe(s.documents.length===1),vn(Yl(xk(s.documents[0])))}(t.query):function(s){return vn(Pk(s))}(t.query),new fi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ot.fromBase64String(t.resumeToken))}function Mk(t,e){const n=Wo(e.snapshotVersion),r=Wo(e.lastLimboFreeSnapshotVersion);let i;i=n0(e.target)?Ak(t.ct,e.target):Ck(t.ct,e.target).ut;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Uo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function b3(t){const e=Pk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?i0(e,e.limit,"L"):e}function f1(t,e){return new _3(e.largestBatchId,_y(t.ct,e.overlayMutation))}function qv(t,e){const n=e.path.lastSegment();return[t,_n(e.path.popLast()),n]}function Gv(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Wo(r.readTime),documentKey:_n(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ{getBundleMetadata(e,n){return Kv(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Ho(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return Kv(e).put(function(i){return{bundleId:i.id,createTime:Wo(It(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return Qv(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:b3(s.bundledQuery),readTime:Ho(s.readTime)}}(r)})}saveNamedQuery(e,n){return Qv(e).put(function(i){return{name:i.name,readTime:Wo(It(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function Kv(t){return Wt(t,"bundles")}function Qv(t){return Wt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new $g(e,r)}getOverlay(e,n){return Sc(e).get(qv(this.userId,n)).next(r=>r?f1(this.serializer,r):null)}getOverlays(e,n){const r=Wr();return A.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new _3(n,o);i.push(this.ht(e,a))}),A.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(_n(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Sc(e).H("collectionPathOverlayIndex",a))}),A.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Wr(),s=_n(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Sc(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=f1(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Wr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Sc(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const h=f1(this.serializer,c);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):u.done()}).next(()=>s)}ht(e,n){return Sc(e).put(function(i,s,o){const[a,l,c]=qv(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:xh(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Sc(t){return Wt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(pt(e.integerValue));else if("doubleValue"in e){const r=pt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),wh(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(bs(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?Gx(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):te()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),G.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}oo.bt=new oo;function DQ(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Yv(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=DQ(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class OQ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=Yv(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=Yv(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class LQ{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class MQ{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Ic{constructor(){this.Gt=new OQ,this.zt=new LQ(this.Gt),this.jt=new MQ(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ao(this.indexId,this.documentKey,this.arrayValue,r)}}function Vi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=Xv(t.arrayValue,e.arrayValue),n!==0?n:(n=Xv(t.directionalValue,e.directionalValue),n!==0?n:G.comparator(t.documentKey,e.documentKey)))}function Xv(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){this.Yt=new $e((n,r)=>it.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(oe(e.collectionGroup===this.collectionId),this.en)return!1;const n=ay(e);if(n!==void 0&&!this.nn(n))return!1;const r=eo(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new $e(it.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new qf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new qf(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new qf(r.field,r.dir==="asc"?0:1)));return new t0(t0.UNKNOWN_ID,this.collectionId,n,vh.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t){var e,n;if(oe(t instanceof ke||t instanceof Le),t instanceof ke){if(t instanceof tk){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ke.create(t.field,"==",s)))||[];return Le.create(i,"or")}return t}const r=t.filters.map(i=>Vk(i));return Le.create(r,t.op)}function VQ(t){if(t.getFilters().length===0)return[];const e=by(Vk(t));return oe(Fk(e)),vy(e)||wy(e)?[e]:e.getFilters()}function vy(t){return t instanceof ke}function wy(t){return t instanceof Le&&d3(t)}function Fk(t){return vy(t)||wy(t)||function(n){if(n instanceof Le&&hy(n)){for(const r of n.getFilters())if(!vy(r)&&!wy(r))return!1;return!0}return!1}(t)}function by(t){if(oe(t instanceof ke||t instanceof Le),t instanceof ke)return t;if(t.filters.length===1)return by(t.filters[0]);const e=t.filters.map(r=>by(r));let n=Le.create(e,t.op);return n=o0(n),Fk(n)?n:(oe(n instanceof Le),oe(wl(n)),oe(n.filters.length>1),n.filters.reduce((r,i)=>E3(r,i)))}function E3(t,e){let n;return oe(t instanceof ke||t instanceof Le),oe(e instanceof ke||e instanceof Le),n=t instanceof ke?e instanceof ke?function(i,s){return Le.create([i,s],"and")}(t,e):Zv(t,e):e instanceof ke?Zv(e,t):function(i,s){if(oe(i.filters.length>0&&s.filters.length>0),wl(i)&&wl(s))return Jx(i,s.getFilters());const o=hy(i)?i:s,a=hy(i)?s:i,l=o.filters.map(c=>E3(c,a));return Le.create(l,"or")}(t,e),o0(n)}function Zv(t,e){if(wl(e))return Jx(e,t.getFilters());{const n=e.filters.map(r=>E3(t,r));return Le.create(n,"or")}}function o0(t){if(oe(t instanceof ke||t instanceof Le),t instanceof ke)return t;const e=t.getFilters();if(e.length===1)return o0(e[0]);if(Yx(t))return t;const n=e.map(i=>o0(i)),r=[];return n.forEach(i=>{i instanceof ke?r.push(i):i instanceof Le&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Le.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(){this._n=new T3}addToCollectionParentIndex(e,n){return this._n.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}deleteAllFieldIndexes(e){return A.resolve()}createTargetIndexes(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(Yn.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(Yn.min())}updateCollectionGroup(e,n,r){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}}class T3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $e(xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Uint8Array(0);class BQ{constructor(e,n){this.databaseId=n,this.an=new T3,this.un=new js(r=>Uo(r),(r,i)=>yd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:_n(i)};return e7(e).put(s)}return A.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[Lx(n),""],!1,!0);return e7(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(zr(o.parent))}return r})}addFieldIndex(e,n){const r=xc(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=va(e);return s.next(a=>{o.put(Gv(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=xc(e),i=va(e),s=_a(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=xc(e),r=_a(e),i=va(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return A.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new Jv(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=_a(e);let i=!0;const s=new Map;return A.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ve();const a=[];return A.forEach(s,(l,c)=>{$("IndexedDbIndexManager",`Using index ${function(v){return`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`}(l)} to execute ${Uo(n)}`);const u=function(v,w){const E=ay(w);if(E===void 0)return null;for(const T of r0(v,E.fieldPath))switch(T.op){case"array-contains-any":return T.value.arrayValue.values||[];case"array-contains":return[T.value]}return null}(c,l),h=function(v,w){const E=new Map;for(const T of eo(w))for(const S of r0(v,T.fieldPath))switch(S.op){case"==":case"in":E.set(T.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return E.set(T.fieldPath.canonicalString(),S.value),Array.from(E.values())}return null}(c,l),d=function(v,w){const E=[];let T=!0;for(const S of eo(w)){const R=S.kind===0?Nv(v,S.fieldPath,v.startAt):Dv(v,S.fieldPath,v.startAt);E.push(R.value),T&&(T=R.inclusive)}return new Ss(E,T)}(c,l),f=function(v,w){const E=[];let T=!0;for(const S of eo(w)){const R=S.kind===0?Dv(v,S.fieldPath,v.endAt):Nv(v,S.fieldPath,v.endAt);E.push(R.value),T&&(T=R.inclusive)}return new Ss(E,T)}(c,l),p=this.hn(l,c,d),g=this.hn(l,c,f),_=this.Pn(l,c,h),y=this.In(l.indexId,u,p,d.inclusive,g,f.inclusive,_);return A.forEach(y,m=>r.j(m,n.limit).next(v=>{v.forEach(w=>{const E=G.fromSegments(w.documentKey);o.has(E)||(o=o.add(E),a.push(E))})}))}).next(()=>a)}return A.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=VQ(Le.create(e.filters,"and")).map(r=>fy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let h=0;h<l;++h){const d=n?this.Tn(n[h/c]):uf,f=this.En(e,d,r[h%c],i),p=this.dn(e,d,s[h%c],o),g=a.map(_=>this.En(e,d,_,!0));u.push(...this.createRange(f,p,g))}return u}En(e,n,r,i){const s=new ao(e,G.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new ao(e,G.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new Jv(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return A.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new $e(it.comparator),u=!1;for(const h of l.filters)for(const d of h.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?u=!0:c=c.add(d.field));for(const h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new Ic;for(const i of eo(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);oo.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new Ic;return oo.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new Ic;return oo.bt.Pt($o(this.databaseId,n),r.Ht(function(s){const o=eo(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new Ic);let s=0;for(const o of eo(e)){const a=r[s++];for(const l of i)if(this.Vn(n,o.fieldPath)&&Th(a))i=this.mn(i,o,a);else{const c=l.Ht(o.kind);oo.bt.Pt(a,c)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Ic;l.seed(a.Wt()),oo.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof ke&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=xc(e),i=va(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return A.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,h){const d=h?new vh(h.sequenceNumber,new Yn(Ho(h.readTime),new G(zr(h.documentKey)),h.largestBatchId)):vh.empty(),f=u.fields.map(([p,g])=>new qf(it.fromServerFormat(p),g));return new t0(u.indexId,u.collectionGroup,f,d)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:me(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=xc(e),s=va(e);return this.gn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>A.forEach(a,l=>s.put(Gv(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return A.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?A.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),A.forEach(a,l=>this.pn(e,i,l).next(c=>{const u=this.yn(s,l);return c.isEqual(u)?A.resolve():this.wn(e,s,l,c,u)}))))})}Sn(e,n,r,i){return _a(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return _a(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=_a(e);let s=new $e(Vi);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new ao(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new $e(Vi);const i=this.An(n,e);if(i==null)return r;const s=ay(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Th(o))for(const a of o.arrayValue.values||[])r=r.add(new ao(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new ao(n.indexId,e.key,uf,i));return r}wn(e,n,r,i,s){$("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,u,h,d){const f=l.getIterator(),p=c.getIterator();let g=ya(f),_=ya(p);for(;g||_;){let y=!1,m=!1;if(g&&_){const v=u(g,_);v<0?m=!0:v>0&&(y=!0)}else g!=null?m=!0:y=!0;y?(h(_),_=ya(p)):m?(d(g),g=ya(f)):(g=ya(f),_=ya(p))}}(i,s,Vi,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),A.waitFor(o)}gn(e){let n=1;return va(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Vi(o,a)).filter((o,a,l)=>!a||Vi(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Vi(o,e),l=Vi(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(o),i.push(o.Jt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,uf,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,uf,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return Vi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(t7)}getMinOffset(e,n){return A.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||te())).next(t7)}}function e7(t){return Wt(t,"collectionParents")}function _a(t){return Wt(t,"indexEntries")}function xc(t){return Wt(t,"indexConfiguration")}function va(t){return Wt(t,"indexState")}function t7(t){oe(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;c3(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Yn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class kn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(u,h,d)=>(a++,d.delete()));s.push(l.next(()=>{oe(a===1)}));const c=[];for(const u of n.mutations){const h=Ux(e,u.key.path,n.batchId);s.push(i.delete(h)),c.push(u.key)}return A.waitFor(s).next(()=>c)}function a0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw te();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(41943040,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class Ug{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){oe(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Ug(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fi(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=ka(e),o=Fi(e);return o.add({}).next(a=>{oe(typeof a=="number");const l=new m3(a,n,r,i),c=function(f,p,g){const _=g.baseMutations.map(m=>xh(f.ct,m)),y=g.mutations.map(m=>xh(f.ct,m));return{userId:p,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:_,mutations:y}}(this.serializer,this.userId,l),u=[];let h=new $e((d,f)=>me(d.canonicalString(),f.canonicalString()));for(const d of i){const f=Ux(this.userId,d.key.path,a);h=h.add(d.key.path.popLast()),u.push(o.put(c)),u.push(s.put(f,kK))}return h.forEach(d=>{u.push(this.indexManager.addToCollectionParentIndex(e,d))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),A.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Fi(e).get(n).next(r=>r?(oe(r.userId===this.userId),so(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?A.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Fi(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(oe(a.batchId>=r),s=so(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Fi(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fi(e).W("userMutationsIndex",n).next(r=>r.map(i=>so(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Gf(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return ka(e).Y({range:i},(o,a,l)=>{const[c,u,h]=o,d=zr(u);if(c===this.userId&&n.path.isEqual(d))return Fi(e).get(h).next(f=>{if(!f)throw te();oe(f.userId===this.userId),s.push(so(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(me);const i=[];return n.forEach(s=>{const o=Gf(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=ka(e).Y({range:a},(c,u,h)=>{const[d,f,p]=c,g=zr(f);d===this.userId&&s.path.isEqual(g)?r=r.add(p):h.done()});i.push(l)}),A.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Gf(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new $e(me);return ka(e).Y({range:o},(l,c,u)=>{const[h,d,f]=l,p=zr(d);h===this.userId&&r.isPrefixOf(p)?p.length===i&&(a=a.add(f)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Fi(e).get(s).next(o=>{if(o===null)throw te();oe(o.userId===this.userId),r.push(so(this.serializer,o))}))}),A.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return Bk(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),A.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return A.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return ka(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=zr(s[1]);i.push(l)}else a.done()}).next(()=>{oe(i.length===0)})})}containsKey(e,n){return $k(e,this.userId,n)}xn(e){return Uk(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $k(t,e,n){const r=Gf(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return ka(t).Y({range:s,J:!0},(a,l,c)=>{const[u,h,d]=a;u===e&&h===i&&(o=!0),c.done()}).next(()=>o)}function Fi(t){return Wt(t,"mutations")}function ka(t){return Wt(t,"documentMutations")}function Uk(t){return Wt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new qo(0)}static Ln(){return new qo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new qo(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ae.fromTimestamp(new ot(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>wa(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(oe(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return wa(e).Y((o,a)=>{const l=Kc(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>A.waitFor(s)).next(()=>i)}forEachTarget(e,n){return wa(e).Y((r,i)=>{const s=Kc(i);n(s)})}Bn(e){return r7(e).get("targetGlobalKey").next(n=>(oe(n!==null),n))}kn(e,n){return r7(e).put("targetGlobalKey",n)}qn(e,n){return wa(e).put(Mk(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Uo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return wa(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=Kc(a);yd(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Hi(e);return n.forEach(o=>{const a=_n(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),A.waitFor(i)}removeMatchingKeys(e,n,r){const i=Hi(e);return A.forEach(n,s=>{const o=_n(s.path);return A.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Hi(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Hi(e);let s=ve();return i.Y({range:r,J:!0},(o,a,l)=>{const c=zr(o[1]),u=new G(c);s=s.add(u)}).next(()=>s)}containsKey(e,n){const r=_n(n.path),i=IDBKeyRange.bound([r],[Lx(r)],!1,!0);let s=0;return Hi(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}_t(e,n){return wa(e).get(n).next(r=>r?Kc(r):null)}}function wa(t){return Wt(t,"targets")}function r7(t){return Wt(t,"targetGlobal")}function Hi(t){return Wt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7([t,e],[n,r]){const i=me(t,n);return i===0?me(e,r):i}class UQ{constructor(e){this.Kn=e,this.buffer=new $e(i7),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();i7(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jQ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){$("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Us(n)?$("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await $s(n)}await this.zn(3e5)})}}class zQ{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return A.resolve(Pn._e);const r=new UQ(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),A.resolve(n7)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n7):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Ta()<=Ie.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),A.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function WQ(t,e){return new zQ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{constructor(e,n){this.db=e,this.garbageCollector=WQ(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return hf(e,r)}removeReference(e,n,r){return hf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return hf(e,n)}er(e,n){return function(i,s){let o=!1;return Uk(i).Z(a=>$k(i,a,s).next(l=>(l&&(o=!0),A.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ae.min()),Hi(e).delete(function(h){return[0,_n(h.path)]}(o))))});i.push(l)}}).next(()=>A.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return hf(e,n)}Xn(e,n){const r=Hi(e);let i,s=Pn._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Pn._e&&n(new G(zr(i)),s),s=c,i=l):s=Pn._e}).next(()=>{s!==Pn._e&&n(new G(zr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hf(t,e){return Hi(t).put(function(r,i){return{targetId:0,path:_n(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.changes=new js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?A.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qQ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return qs(e).put(r)}removeEntry(e,n,r){return qs(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],s0(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=Ke.newInvalidDocument(n);return qs(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(kc(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:Ke.newInvalidDocument(n)};return qs(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(kc(n))},(i,s)=>{r={document:this.nr(n,s),size:a0(s)}}).next(()=>r)}getEntries(e,n){let r=Dn();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=Dn(),i=new He(G.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,a0(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return A.resolve();let i=new $e(a7);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(kc(i.first()),kc(i.last())),o=i.getIterator();let a=o.getNext();return qs(e).Y({index:"documentKeyIndex",range:s},(l,c,u)=>{const h=G.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&a7(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.U(kc(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),s0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qs(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let u=Dn();for(const h of c){const d=this.nr(G.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);d.isFoundDocument()&&(vd(n,d)||i.has(d.key))&&(u=u.insert(d.key,d))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=Dn();const o=o7(n,r),a=o7(n,Yn.max());return qs(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const h=this.nr(G.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(h.key,h),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new GQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return s7(e).get("remoteDocumentGlobalKey").next(n=>(oe(!!n),n))}tr(e,n){return s7(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=PQ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ae.min())))return r}return Ke.newInvalidDocument(e)}}function zk(t){return new qQ(t)}class GQ extends jk{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new js(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new $e((s,o)=>me(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=Hv(this.ar.serializer,o);i=i.add(s.path.popLast());const c=a0(l);r+=c-a.size,n.push(this.ar.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=Hv(this.ar.serializer,o.convertToNoDocument(ae.min()));n.push(this.ar.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),A.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function s7(t){return Wt(t,"remoteDocumentGlobal")}function qs(t){return Wt(t,"remoteDocumentsV14")}function kc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function o7(t,e){const n=e.documentKey.path.toArray();return[t,s0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function a7(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=me(n[s],r[s]),i)return i;return i=me(n.length,r.length),i||(i=me(n[n.length-2],r[r.length-2]),i||me(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&xu(r.mutation,i,Nn.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=Wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=qc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Dn();const o=Iu(),a=function(){return Iu()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Di)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),xu(u.mutation,c,u.mutation.getFieldMask(),ot.now())):o.set(c.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new KQ(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Iu();let i=new He((o,a)=>o-a),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Nn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||ve()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=lk();u.forEach(d=>{if(!s.has(d)){const f=mk(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return A.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):f3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):A.resolve(Wr());let a=-1,l=s;return o.next(c=>A.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?A.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ve())).next(u=>({batchId:a,changes:ak(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=qc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=qc();return this.indexManager.getCollectionParents(e,s).next(a=>A.forEach(a,l=>{const c=function(h,d){return new Ni(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ke.newInvalidDocument(u)))});let a=qc();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&xu(u.mutation,c,Nn.empty(),ot.now()),vd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return A.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:It(i.createTime)}}(n)),A.resolve()}getNamedQuery(e,n){return A.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:b3(i.bundledQuery),readTime:It(i.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(){this.overlays=new He(G.comparator),this.hr=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wr();return A.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),A.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),A.resolve()}getOverlaysForCollection(e,n,r){const i=Wr(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return A.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Wr(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Wr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return A.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _3(n,r));let s=this.hr.get(n);s===void 0&&(s=ve(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this.Pr=new $e(Mt.Ir),this.Tr=new $e(Mt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Mt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new G(new xe([])),r=new Mt(n,e),i=new Mt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new G(new xe([])),r=new Mt(n,e),i=new Mt(n,e+1);let s=ve();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Mt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return G.comparator(e.key,n.key)||me(e.pr,n.pr)}static Er(e,n){return me(e.pr,n.pr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new $e(Mt.Ir)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new m3(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Mt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(e,n){return A.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return A.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),i=new Mt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),A.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(me);return n.forEach(i=>{const s=new Mt(i,0),o=new Mt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),A.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;G.isDocumentKey(s)||(s=s.child(""));const o=new Mt(new G(s),0);let a=new $e(me);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),A.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){oe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return A.forEach(n.mutations,i=>{const s=new Mt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Mt(n,0),i=this.wr.firstAfterOrEqual(r);return A.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{constructor(e){this.vr=e,this.docs=function(){return new He(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():Ke.newInvalidDocument(n))}getEntries(e,n){let r=Dn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ke.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Dn();const o=n.path,a=new G(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||c3(Vx(u),r)<=0||(i.has(u.key)||vd(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return A.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te()}Fr(e,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZQ(this)}getSize(e){return A.resolve(this.size)}}class ZQ extends jk{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),A.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(e){this.persistence=e,this.Mr=new js(n=>Uo(n),yd),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Or=0,this.Nr=new S3,this.targetCount=0,this.Lr=qo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),A.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new qo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.qn(n),A.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),A.waitFor(s).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return A.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),A.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),A.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),A.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return A.resolve(r)}containsKey(e,n){return A.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n){this.Br={},this.overlays={},this.kr=new Pn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new eY(this),this.indexManager=new FQ,this.remoteDocumentCache=function(i){return new JQ(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Lk(n),this.$r=new QQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new XQ(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const i=new tY(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return A.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class tY extends Bx{constructor(e){super(),this.currentSequenceNumber=e}}class jg{constructor(e){this.persistence=e,this.zr=new S3,this.jr=null}static Hr(e){return new jg(e)}get Jr(){if(this.jr)return this.jr;throw te()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),A.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),A.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Jr,r=>{const i=G.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return A.or([()=>A.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(e){this.serializer=e}N(e,n,r,i){const s=new Mg("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ev,{unique:!0}),l.createObjectStore("documentMutations")}(e),l7(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=A.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),l7(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ae.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ev,{unique:!0});const h=c.store("mutations"),d=u.map(f=>h.put(f));return A.waitFor(d)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:BK});c.createIndex("collectionPathOverlayIndex",$K,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",UK,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:RK});c.createIndex("documentKeyIndex",AK),c.createIndex("collectionGroupIndex",CK)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:LK}).createIndex("sequenceNumberIndex",MK,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:VK}).createIndex("documentKeyIndex",FK,{unique:!1})}(e))),o}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=a0(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>A.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>A.forEach(a,l=>{oe(l.userId===s.userId);const c=so(this.serializer,l);return Bk(e,s.userId,c).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new xe(o),c=function(h){return[0,_n(h)]}(l);s.push(n.get(c).next(u=>u?A.resolve():(h=>n.put({targetId:0,path:_n(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>A.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:OK});const r=n.store("collectionParents"),i=new T3,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:_n(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new xe(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],c)=>{const u=zr(a);return s(u.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,i)=>{const s=Kc(i),o=Mk(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(h){return h.document?new G(xe.fromString(h.document.name).popFirst(5)):h.noDocument?G.fromSegments(h.noDocument.path):h.unknownDocument?G.fromSegments(h.unknownDocument.path):te()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>A.waitFor(i))}si(e,n){const r=n.store("mutations"),i=zk(this.serializer),s=new Hk(jg.Hr,this.serializer.ct);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:ve();so(this.serializer,l).keys().forEach(h=>u=u.add(h)),a.set(l.userId,u)}),A.forEach(a,(l,c)=>{const u=new Ft(c),h=$g.lt(this.serializer,u),d=s.getIndexManager(u),f=Ug.lt(u,this.serializer,d,s.referenceDelegate);return new Wk(i,f,h,d).recalculateAndSaveOverlaysForDocumentKeys(new ly(n,Pn._e),l).next()})})}}function l7(t){t.createObjectStore("targetDocuments",{keyPath:NK}).createIndex("documentTargetsIndex",DK,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",PK,{unique:!0}),t.createObjectStore("targetGlobal")}const p1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class I3{constructor(e,n,r,i,s,o,a,l,c,u,h=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=c,this.ai=u,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=d=>Promise.resolve(),!I3.D())throw new F(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new HQ(this,i),this.Ti=n+"main",this.serializer=new Lk(l),this.Ei=new or(this.Ti,this.ui,new nY(this.serializer)),this.Qr=new $Q(this.referenceDelegate,this.serializer),this.remoteDocumentCache=zk(this.serializer),this.$r=new NQ,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&Tt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new F(P.FAILED_PRECONDITION,p1);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Pn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>df(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Us(e))return $("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Rc(e).get("owner").next(n=>A.resolve(this.Si(n)))}bi(e){return df(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Wt(n,"clientMetadata");return r.W().next(i=>{const s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return A.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?A.resolve(!0):Rc(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new F(P.FAILED_PRECONDITION,p1);return!1}}return!(!this.networkEnabled||!this.inForeground)||df(e).W().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&$("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new ly(e,Pn._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>df(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Ug.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new BQ(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return $g.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){$("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?zK:l===14?Wx:l===13?zx:l===12?jK:l===11?jx:void te()}(this.ui);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new ly(a,this.kr?this.kr.next():Pn._e),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw Tt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new F(P.FAILED_PRECONDITION,Fx);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return Rc(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new F(P.FAILED_PRECONDITION,p1)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rc(e).put("owner",n)}static D(){return or.D()}yi(e){const n=Rc(e);return n.get("owner").next(r=>this.Si(r)?($("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):A.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Tt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;mS()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return $("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Tt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Tt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Rc(t){return Wt(t,"owner")}function df(t){return Wt(t,"clientMetadata")}function x3(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ve(),i=ve();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new k3(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return mS()?8:or.v(at())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new rY;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ta()<=Ie.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",Sa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),A.resolve()):(Ta()<=Ie.DEBUG&&$("QueryEngine","Query:",Sa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ta()<=Ie.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",Sa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(n))):A.resolve())}ji(e,n){if(Ov(n))return A.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=i0(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ve(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,i0(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return Ov(n)||i.isEqual(ae.min())?A.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?A.resolve(null):(Ta()<=Ie.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sa(n)),this.es(e,o,n,Mx(i,-1)).next(a=>a))})}Zi(e,n){let r=new $e(sk(e));return n.forEach((i,s)=>{vd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ta()<=Ie.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Sa(n)),this.zi.getDocumentsMatchingQuery(e,n,Yn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new He(me),this.rs=new js(s=>Uo(s),yd),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wk(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Gk(t,e,n,r){return new iY(t,e,n,r)}async function Kk(t,e){const n=Y(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ve();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function sY(t,e){const n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let f=A.resolve();return d.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(g=>{const _=c.docVersions.get(p);oe(_!==null),g.version.compareTo(_)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ve();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Qk(t){const e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function oY(t,e){const n=Y(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((u,h)=>{const d=i.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Ot.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(h,f),function(g,_,y){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,f,u)&&a.push(n.Qr.updateTargetData(s,f))});let l=Dn(),c=ve();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Yk(s,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(ae.min())){const u=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return A.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function Yk(t,e,n){let r=ve(),i=ve();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Dn();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function aY(t,e){const n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Sl(t,e){const n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,A.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new fi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Il(t,e,n){const r=Y(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Us(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function l0(t,e,n){const r=Y(t);let i=ae.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Y(l),d=h.rs.get(u);return d!==void 0?A.resolve(h.ns.get(d)):h.Qr.getTargetData(c,u)}(r,o,vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:ve())).next(a=>(Zk(r,ik(e),a),{documents:a,hs:s})))}function Xk(t,e){const n=Y(t),r=Y(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function Jk(t,e){const n=Y(t),r=n.ss.get(e)||ae.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,Mx(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Zk(n,e,i),i))}function Zk(t,e,n){let r=t.ss.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}async function lY(t,e,n,r){const i=Y(t);let s=ve(),o=Dn();for(const c of n){const u=e.Ps(c.metadata.name);c.document&&(s=s.add(u));const h=e.Is(c);h.setReadTime(e.Ts(c.metadata.readTime)),o=o.insert(u,h)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await Sl(i,function(u){return vn(Yl(xe.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>Yk(c,a,o).next(u=>(a.apply(c),u)).next(u=>i.Qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Qr.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,u.cs,u.ls)).next(()=>u.cs)))}async function cY(t,e,n=ve()){const r=await Sl(t,vn(b3(e.bundledQuery))),i=Y(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=It(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(s,e);const a=r.withResumeToken(Ot.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(s,a).next(()=>i.Qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.$r.saveNamedQuery(s,e))})}function c7(t,e){return`firestore_clients_${t}_${e}`}function u7(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function g1(t,e){return`firestore_targets_${t}_${e}`}class c0{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new F(i.error.code,i.error.message))),o?new c0(e,n,i.state,s):(Tt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ku{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new F(r.error.code,r.error.message))),s?new ku(e,r.state,i):(Tt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class u0{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=p3();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=$x(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new u0(e,s):(Tt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class R3{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new R3(n.clientId,n.onlineState):(Tt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ey{constructor(){this.activeTargetIds=p3()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m1{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new He(me),this.started=!1,this.ys=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=c7(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Ey),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Vs)continue;const i=this.getItem(c7(this.persistenceKey,r));if(i){const s=u0.Es(r,i);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();const n=this.storage.getItem(this.vs);if(n){const r=this.xs(n);r&&this.Os(r)}for(const r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(g1(this.persistenceKey,e));if(r){const i=ku.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(g1(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return $("SharedClientState","READ",e,n),n}setItem(e,n){$("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){$("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const n=e;if(n.storageArea===this.storage){if($("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void Tt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){const r=this.$s(n.key);return this.Us(r,null)}{const r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){const r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){const r=function(s){let o=Pn._e;if(s!=null)try{const a=JSON.parse(s);oe(typeof a=="number"),o=a}catch(a){Tt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Pn._e&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){const r=this.Js(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)})}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){const i=new c0(this.currentUser,e,n,r),s=u7(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){const n=u7(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){const n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){const i=g1(this.persistenceKey,e),s=new ku(e,n,r);this.setItem(i,s.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return u0.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return c0.Es(new Ft(s),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return ku.Es(i,n)}xs(e){return R3.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);$("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=p3();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class eR{constructor(){this.no=new Ey,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ey,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff=null;function y1(){return ff===null?ff=function(){return 268435456+Math.round(2147483648*Math.random())}():ff++,"0x"+ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class fY extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=y1(),l=this.bo(n,r.toUriEncodedString());$("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(u=>($("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw xr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ql}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=hY[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=y1();return new Promise((o,a)=>{const l=new cK;l.setWithCredentials(!0),l.listenOnce(aK.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case d1.NO_ERROR:const u=l.getResponseJson();$(rn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case d1.TIMEOUT:$(rn,`RPC '${e}' ${s} timed out`),a(new F(P.DEADLINE_EXCEEDED,"Request time out"));break;case d1.HTTP_ERROR:const h=l.getStatus();if($(rn,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const p=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(y)>=0?y:P.UNKNOWN}(f.status);a(new F(p,f.message))}else a(new F(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new F(P.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{$(rn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);$(rn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=y1(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sK(),a=oK(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");$(rn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let d=!1,f=!1;const p=new dY({lo:_=>{f?$(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(d||($(rn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),$(rn,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},ho:()=>h.close()}),g=(_,y,m)=>{_.listen(y,v=>{try{m(v)}catch(w){setTimeout(()=>{throw w},0)}})};return g(h,lf.EventType.OPEN,()=>{f||$(rn,`RPC '${e}' stream ${i} transport opened.`)}),g(h,lf.EventType.CLOSE,()=>{f||(f=!0,$(rn,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),g(h,lf.EventType.ERROR,_=>{f||(f=!0,xr(rn,`RPC '${e}' stream ${i} transport errored:`,_),p.Vo(new F(P.UNAVAILABLE,"The operation could not be completed")))}),g(h,lf.EventType.MESSAGE,_=>{var y;if(!f){const m=_.data[0];oe(!!m);const v=m,w=v.error||((y=v[0])===null||y===void 0?void 0:y.error);if(w){$(rn,`RPC '${e}' stream ${i} received error:`,w);const E=w.status;let T=function(V){const N=xt[V];if(N!==void 0)return vk(N)}(E),S=w.message;T===void 0&&(T=P.INTERNAL,S="Unknown error status: "+E+" with message "+w.message),f=!0,p.Vo(new F(T,S)),h.close()}else $(rn,`RPC '${e}' stream ${i} received:`,m),p.mo(m)}}),g(a,lK.STAT_EVENT,_=>{_.stat===_v.PROXY?$(rn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===_v.NOPROXY&&$(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return typeof window<"u"?window:null}function Jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){return new bQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new A3(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Tt(n.toString()),Tt("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new F(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pY extends nR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=SQ(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?It(o.readTime):ae.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=yy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=n0(l)?{documents:Ak(s,l)}:{query:Ck(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Tk(s,o.resumeToken);const c=gy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=Tl(s,o.snapshotVersion.toTimestamp());const c=gy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=xQ(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=yy(this.serializer),n.removeTarget=e,this.t_(n)}}class gY extends nR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=IQ(e.writeResults,e.commitTime),r=It(e.commitTime);return this.listener.T_(r,n)}return oe(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=yy(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xh(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new F(P.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,my(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(P.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,my(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(P.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class yY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Tt(n),this.g_=!1):$("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{zs(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Y(l);c.v_.add(4),await Zl(c),c.x_.set("Unknown"),c.v_.delete(4),await Sd(c)}(this))})}),this.x_=new yY(r,i)}}async function Sd(t){if(zs(t))for(const e of t.F_)await e(!0)}async function Zl(t){for(const e of t.F_)await e(!1)}function zg(t,e){const n=Y(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),N3(n)?P3(n):tc(n).Jo()&&C3(n,e))}function xl(t,e){const n=Y(t),r=tc(n);n.C_.delete(e),r.Jo()&&rR(n,e),n.C_.size===0&&(r.Jo()?r.Xo():zs(n)&&n.x_.set("Unknown"))}function C3(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tc(t).c_(e)}function rR(t,e){t.O_.Oe(e),tc(t).l_(e)}function P3(t){t.O_=new yQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),tc(t).start(),t.x_.p_()}function N3(t){return zs(t)&&!tc(t).Ho()&&t.C_.size>0}function zs(t){return Y(t).v_.size===0}function iR(t){t.O_=void 0}async function vY(t){t.C_.forEach((e,n)=>{C3(t,e)})}async function wY(t,e){iR(t),N3(t)?(t.x_.S_(e),P3(t)):t.x_.set("Unknown")}async function bY(t,e,n){if(t.x_.set("Online"),e instanceof Ek&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await h0(t,r)}else if(e instanceof Xf?t.O_.$e(e):e instanceof bk?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ae.min()))try{const r=await Qk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.C_.get(c);u&&s.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.C_.get(l);if(!u)return;s.C_.set(l,u.withResumeToken(Ot.EMPTY_BYTE_STRING,u.snapshotVersion)),rR(s,l);const h=new fi(u.target,l,c,u.sequenceNumber);C3(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){$("RemoteStore","Failed to raise snapshot:",r),await h0(t,r)}}async function h0(t,e,n){if(!Us(e))throw e;t.v_.add(1),await Zl(t),t.x_.set("Offline"),n||(n=()=>Qk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Sd(t)})}function sR(t,e){return e().catch(n=>h0(t,n,e))}async function ec(t){const e=Y(t),n=Is(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;EY(e);)try{const i=await aY(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,TY(e,i)}catch(i){await h0(e,i)}oR(e)&&aR(e)}function EY(t){return zs(t)&&t.D_.length<10}function TY(t,e){t.D_.push(e);const n=Is(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function oR(t){return zs(t)&&!Is(t).Ho()&&t.D_.length>0}function aR(t){Is(t).start()}async function SY(t){Is(t).d_()}async function IY(t){const e=Is(t);for(const n of t.D_)e.I_(n.mutations)}async function xY(t,e,n){const r=t.D_.shift(),i=y3.from(r,e,n);await sR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ec(t)}async function kY(t,e){e&&Is(t).P_&&await async function(r,i){if(function(o){return _k(o)&&o!==P.ABORTED}(i.code)){const s=r.D_.shift();Is(r).Zo(),await sR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ec(r)}}(t,e),oR(t)&&aR(t)}async function d7(t,e){const n=Y(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const r=zs(n);n.v_.add(3),await Zl(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Sd(n)}async function Ty(t,e){const n=Y(t);e?(n.v_.delete(2),await Sd(n)):e||(n.v_.add(2),await Zl(n),n.x_.set("Unknown"))}function tc(t){return t.N_||(t.N_=function(n,r,i){const s=Y(n);return s.R_(),new pY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:vY.bind(null,t),To:wY.bind(null,t),u_:bY.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),N3(t)?P3(t):t.x_.set("Unknown")):(await t.N_.stop(),iR(t))})),t.N_}function Is(t){return t.L_||(t.L_=function(n,r,i){const s=Y(n);return s.R_(),new gY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:SY.bind(null,t),To:kY.bind(null,t),E_:IY.bind(null,t),T_:xY.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await ec(t)):(await t.L_.stop(),t.D_.length>0&&($("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new D3(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nc(t,e){if(Tt("AsyncQueue",`${e}: ${t}`),Us(t))return new F(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=qc(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new tl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(){this.B_=new He(G.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):te():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class kl{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new kl(e,n,tl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class AY{constructor(){this.queries=new js(e=>rk(e),_d),this.onlineState="Unknown",this.W_=new Set}}async function O3(t,e){const n=Y(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new RY,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=nc(o,`Initialization of query '${Sa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&M3(n)}async function L3(t,e){const n=Y(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function CY(t,e){const n=Y(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&M3(n)}function PY(t,e,n){const r=Y(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function M3(t){t.W_.forEach(e=>{e.next()})}var Sy,p7;(p7=Sy||(Sy={})).j_="default",p7.Cache="cache";class V3{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Sy.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(e,n){this.na=e,this.byteLength=n}ra(){return"metadata"in this.na}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e){this.serializer=e}Ps(e){return Kr(this.serializer,e)}Is(e){return e.metadata.exists?Rk(this.serializer,e.document,!1):Ke.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return It(e)}}class DY{constructor(e,n,r){this.ia=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lR(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++n;const r=xe.fromString(e.na.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}oa(e){const n=new Map,r=new g7(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ps(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||ve()).add(s);n.set(o,a)}}return n}async complete(){const e=await lY(this.localStore,new g7(this.serializer),this.documents,this.ia.id),n=this.oa(this.documents);for(const r of this.queries)await cY(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}}}function lR(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.key=e}}class uR{constructor(e){this.key=e}}class hR{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=ve(),this.mutatedKeys=ve(),this.ha=sk(e),this.Pa=new tl(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new f7,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const d=i.get(u),f=vd(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;d&&f?d.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.da(d,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.ha(f,l)>0||c&&this.ha(f,c)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),_=!0):d&&!f&&(r.track({type:1,doc:d}),_=!0,(l||c)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,h)=>function(f,p){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return g(f)-g(p)}(u.type,h.type)||this.ha(u.doc,h.doc)),this.Aa(r),i=i!=null&&i;const a=n&&!i?this.Ra():[],l=this.la.size===0&&this.current&&!i?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new kl(this.query,e.Pa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new f7,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=ve(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new uR(r))}),this.la.forEach(r=>{e.has(r)||n.push(new cR(r))}),n}fa(e){this.ua=e.hs,this.la=ve();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return kl.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class OY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LY{constructor(e){this.key=e,this.pa=!1}}class MY{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new js(a=>rk(a),_d),this.Sa=new Map,this.ba=new Set,this.Da=new He(G.comparator),this.Ca=new Map,this.va=new S3,this.Fa={},this.Ma=new Map,this.xa=qo.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function VY(t,e,n=!0){const r=Wg(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await dR(r,e,n,!0),i}async function FY(t,e){const n=Wg(t);await dR(n,e,!0,!1)}async function dR(t,e,n,r){const i=await Sl(t.localStore,vn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await F3(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&zg(t.remoteStore,i),a}async function F3(t,e,n,r,i){t.Na=(h,d,f)=>async function(g,_,y,m){let v=_.view.Ta(y);v.Xi&&(v=await l0(g.localStore,_.query,!1).then(({documents:S})=>_.view.Ta(S,v)));const w=m&&m.targetChanges.get(_.targetId),E=m&&m.targetMismatches.get(_.targetId)!=null,T=_.view.applyChanges(v,g.isPrimaryClient,w,E);return Iy(g,_.targetId,T.Va),T.snapshot}(t,h,d,f);const s=await l0(t.localStore,e,!0),o=new hR(e,s.hs),a=o.Ta(s.documents),l=Ed.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Iy(t,n,c.Va);const u=new OY(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function BY(t,e,n){const r=Y(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!_d(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Il(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&xl(r.remoteStore,i.targetId),Rl(r,i.targetId)}).catch($s)):(Rl(r,i.targetId),await Il(r.localStore,i.targetId,!0))}async function $Y(t,e){const n=Y(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xl(n.remoteStore,r.targetId))}async function UY(t,e,n){const r=j3(t);try{const i=await function(o,a){const l=Y(o),c=ot.now(),u=a.reduce((f,p)=>f.add(p.key),ve());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Dn(),g=ve();return l.os.getEntries(f,u).next(_=>{p=_,p.forEach((y,m)=>{m.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(_=>{h=_;const y=[];for(const m of a){const v=pQ(m,h.get(m.key).overlayedDocument);v!=null&&y.push(new Di(m.key,v,Kx(v.value.mapValue),st.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,y,a)}).next(_=>{d=_;const y=_.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(f,_.batchId,y)})}).then(()=>({batchId:d.batchId,changes:ak(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new He(me)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Oi(r,i.changes),await ec(r.remoteStore)}catch(i){const s=nc(i,"Failed to persist write");n.reject(s)}}async function fR(t,e){const n=Y(t);try{const r=await oY(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ca.get(s);o&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?oe(o.pa):i.removedDocuments.size>0&&(oe(o.pa),o.pa=!1))}),await Oi(n,r,e)}catch(r){await $s(r)}}function m7(t,e,n){const r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,o)=>{const a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Y(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.Q_)d.G_(a)&&(c=!0)}),c&&M3(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jY(t,e,n){const r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let o=new He(G.comparator);o=o.insert(s,Ke.newNoDocument(s,ae.min()));const a=ve().add(s),l=new bd(ae.min(),new Map,new He(me),o,a);await fR(r,l),r.Da=r.Da.remove(s),r.Ca.delete(e),U3(r)}else await Il(r.localStore,e,!1).then(()=>Rl(r,e,n)).catch($s)}async function zY(t,e){const n=Y(t),r=e.batch.batchId;try{const i=await sY(n.localStore,e);$3(n,r,null),B3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Oi(n,i)}catch(i){await $s(i)}}async function WY(t,e,n){const r=Y(t);try{const i=await function(o,a){const l=Y(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(oe(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);$3(r,e,n),B3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Oi(r,i)}catch(i){await $s(i)}}async function HY(t,e){const n=Y(t);zs(n.remoteStore)||$("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=Y(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ma.get(r)||[];i.push(e),n.Ma.set(r,i)}catch(r){const i=nc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function B3(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function $3(t,e,n){const r=Y(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Rl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||pR(t,r)})}function pR(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(xl(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),U3(t))}function Iy(t,e,n){for(const r of n)r instanceof cR?(t.va.addReference(r.key,e),qY(t,r)):r instanceof uR?($("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||pR(t,r.key)):te()}function qY(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||($("SyncEngine","New document in limbo: "+n),t.ba.add(r),U3(t))}function U3(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new G(xe.fromString(e)),r=t.xa.next();t.Ca.set(r,new LY(n)),t.Da=t.Da.insert(n,r),zg(t.remoteStore,new fi(vn(Yl(n.path)),r,"TargetPurposeLimboResolution",Pn._e))}}async function Oi(t,e,n){const r=Y(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=k3.Ki(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.ya.u_(i),await async function(l,c){const u=Y(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>A.forEach(c,d=>A.forEach(d.qi,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>A.forEach(d.Qi,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!Us(h))throw h;$("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const f=u.ns.get(d),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);u.ns=u.ns.insert(d,g)}}}(r.localStore,s))}async function GY(t,e){const n=Y(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const r=await Kk(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(l=>{l.reject(new F(P.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oi(n,r.us)}}function KY(t,e){const n=Y(t),r=n.Ca.get(e);if(r&&r.pa)return ve().add(r.key);{let i=ve();const s=n.Sa.get(e);if(!s)return i;for(const o of s){const a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}async function QY(t,e){const n=Y(t),r=await l0(n.localStore,e.query,!0),i=e.view.fa(r);return n.isPrimaryClient&&Iy(n,e.targetId,i.Va),i}async function YY(t,e){const n=Y(t);return Jk(n.localStore,e).then(r=>Oi(n,r))}async function XY(t,e,n,r){const i=Y(t),s=await function(a,l){const c=Y(a),u=Y(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",h=>u.vn(h,l).next(d=>d?c.localDocuments.getDocuments(h,d):A.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await ec(i.remoteStore):n==="acknowledged"||n==="rejected"?($3(i,e,r||null),B3(i,e),function(a,l){Y(Y(a).mutationQueue).Mn(l)}(i.localStore,e)):te(),await Oi(i,s)):$("SyncEngine","Cannot apply mutation batch with id: "+e)}async function JY(t,e){const n=Y(t);if(Wg(n),j3(n),e===!0&&n.Oa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await y7(n,r.toArray());n.Oa=!0,await Ty(n.remoteStore,!0);for(const s of i)zg(n.remoteStore,s)}else if(e===!1&&n.Oa!==!1){const r=[];let i=Promise.resolve();n.Sa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Rl(n,o),Il(n.localStore,o,!0))),xl(n.remoteStore,o)}),await i,await y7(n,r),function(o){const a=Y(o);a.Ca.forEach((l,c)=>{xl(a.remoteStore,c)}),a.va.mr(),a.Ca=new Map,a.Da=new He(G.comparator)}(n),n.Oa=!1,await Ty(n.remoteStore,!1)}}async function y7(t,e,n){const r=Y(t),i=[],s=[];for(const o of e){let a;const l=r.Sa.get(o);if(l&&l.length!==0){a=await Sl(r.localStore,vn(l[0]));for(const c of l){const u=r.wa.get(c),h=await QY(r,u);h.snapshot&&s.push(h.snapshot)}}else{const c=await Xk(r.localStore,o);a=await Sl(r.localStore,c),await F3(r,gR(c),o,!1,a.resumeToken)}i.push(a)}return r.ya.u_(s),i}function gR(t){return nk(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ZY(t){return function(n){return Y(Y(n).persistence).Bi()}(Y(t).localStore)}async function eX(t,e,n,r){const i=Y(t);if(i.Oa)return void $("SyncEngine","Ignoring unexpected query state notification.");const s=i.Sa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await Jk(i.localStore,ik(s[0])),a=bd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ot.EMPTY_BYTE_STRING);await Oi(i,o,a);break}case"rejected":await Il(i.localStore,e,!0),Rl(i,e,r);break;default:te()}}async function tX(t,e,n){const r=Wg(t);if(r.Oa){for(const i of e){if(r.Sa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){$("SyncEngine","Adding an already active target "+i);continue}const s=await Xk(r.localStore,i),o=await Sl(r.localStore,s);await F3(r,gR(s),o.targetId,!1,o.resumeToken),zg(r.remoteStore,o)}for(const i of n)r.Sa.has(i)&&await Il(r.localStore,i,!1).then(()=>{xl(r.remoteStore,i),Rl(r,i)}).catch($s)}}function Wg(t){const e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jY.bind(null,e),e.ya.u_=CY.bind(null,e.eventManager),e.ya.La=PY.bind(null,e.eventManager),e}function j3(t){const e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WY.bind(null,e),e}function nX(t,e,n){const r=Y(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(f,p){const g=Y(f),_=It(p.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",y=>g.$r.getBundleMetadata(y,p.id)).then(y=>!!y&&y.createTime.compareTo(_)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(lR(l));const c=new DY(l,s.localStore,o.serializer);let u=await o.Ba();for(;u;){const d=await c.sa(u);d&&a._updateProgress(d),u=await o.Ba()}const h=await c.complete();return await Oi(s,h.aa,void 0),await function(f,p){const g=Y(f);return g.persistence.runTransaction("Save bundle","readwrite",_=>g.$r.saveBundleMetadata(_,p))}(s.localStore,l),a._completeWith(h.progress),Promise.resolve(h._a)}catch(l){return xr("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class xy{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Td(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Gk(this.persistence,new qk,e.initialUser,this.serializer)}createPersistence(e){return new Hk(jg.Hr,this.serializer)}createSharedClientState(e){return new eR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class mR extends xy{constructor(e,n,r){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await j3(this.ka.syncEngine),await ec(this.ka.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return Gk(this.persistence,new qk,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new jQ(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new IK(n,this.persistence);return new SK(e.asyncQueue,r)}createPersistence(e){const n=x3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new I3(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,tR(),Jf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new eR}}class rX extends mR{constructor(e,n){super(e,n,!1),this.ka=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.ka.syncEngine;this.sharedClientState instanceof m1&&(this.sharedClientState.syncEngine={Zs:XY.bind(null,n),Xs:eX.bind(null,n),eo:tX.bind(null,n),Bi:ZY.bind(null,n),Ys:YY.bind(null,n)},await this.sharedClientState.start()),await this.persistence.fi(async r=>{await JY(this.ka.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=tR();if(!m1.D(n))throw new F(P.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=x3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new m1(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class z3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m7(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GY.bind(null,this.syncEngine),await Ty(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AY}()}createDatastore(e){const n=Td(e.databaseInfo.databaseId),r=function(s){return new fY(s)}(e.databaseInfo);return function(s,o,a,l){return new mY(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new _Y(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>m7(this.syncEngine,n,0),function(){return h7.D()?new h7:new uY}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const h=new MY(i,s,o,a,l,c);return u&&(h.Oa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Y(r);$("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Zl(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Tt("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(e,n){this.Ka=e,this.serializer=n,this.metadata=new Ut,this.buffer=new Uint8Array,this.$a=function(){return new TextDecoder("utf-8")}(),this.Ua().then(r=>{r&&r.ra()?this.metadata.resolve(r.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.na)}`))},r=>this.metadata.reject(r))}close(){return this.Ka.cancel()}async getMetadata(){return this.metadata.promise}async Ba(){return await this.getMetadata(),this.Ua()}async Ua(){const e=await this.Wa();if(e===null)return null;const n=this.$a.decode(e),r=Number(n);isNaN(r)&&this.Ga(`length string (${n}) is not valid number`);const i=await this.za(r);return new NY(JSON.parse(i),e.length+r)}ja(){return this.buffer.findIndex(e=>e===123)}async Wa(){for(;this.ja()<0&&!await this.Ha(););if(this.buffer.length===0)return null;const e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async za(e){for(;this.buffer.length<e;)await this.Ha()&&this.Ga("Reached the end of bundle when more is expected.");const n=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ha(){const e=await this.Ka.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new F(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=Y(i),a={documents:s.map(h=>Ih(o.serializer,h))},l=await o.vo("BatchGetDocuments",o.serializer.databaseId,xe.emptyPath(),a,s.length),c=new Map;l.forEach(h=>{const d=TQ(o.serializer,h);c.set(d.key.toString(),d)});const u=[];return s.forEach(h=>{const d=c.get(h.toString());oe(!!d),u.push(d)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Jl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=G.fromPath(r);this.mutations.push(new g3(i,this.precondition(i)))}),await async function(r,i){const s=Y(r),o={writes:i.map(a=>xh(s.serializer,a))};await s.So("Commit",s.serializer.databaseId,xe.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw te();n=ae.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new F(P.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ae.min())?st.exists(!1):st.updateTime(n):st.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ae.min()))throw new F(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return st.updateTime(n)}return st.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Ja=r.maxAttempts,this.jo=new A3(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo(async()=>{const e=new sX(this.datastore),n=this.Xa(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.eu(i)}))}).catch(r=>{this.eu(r)})})}Xa(e){try{const n=this.updateFunction(e);return!md(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!_k(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=Ox.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{$("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>($("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zf(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Kk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ky(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W3(t);$("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>d7(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>d7(e.remoteStore,i)),t._onlineComponents=e}function yR(t){return t.name==="FirebaseError"?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function W3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!yR(n))throw n;xr("Error using user provided cache. Falling back to memory cache: "+n),await Zf(t,new xy)}}else $("FirestoreClient","Using default OfflineComponentProvider"),await Zf(t,new xy);return t._offlineComponents}async function qg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),await ky(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),await ky(t,new z3))),t._onlineComponents}function _R(t){return W3(t).then(e=>e.persistence)}function H3(t){return W3(t).then(e=>e.localStore)}function vR(t){return qg(t).then(e=>e.remoteStore)}function q3(t){return qg(t).then(e=>e.syncEngine)}function lX(t){return qg(t).then(e=>e.datastore)}async function Al(t){const e=await qg(t),n=e.eventManager;return n.onListen=VY.bind(null,e.syncEngine),n.onUnlisten=BY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$Y.bind(null,e.syncEngine),n}function cX(t){return t.asyncQueue.enqueue(async()=>{const e=await _R(t),n=await vR(t);return e.setNetworkEnabled(!0),function(i){const s=Y(i);return s.v_.delete(0),Sd(s)}(n)})}function uX(t){return t.asyncQueue.enqueue(async()=>{const e=await _R(t),n=await vR(t);return e.setNetworkEnabled(!1),async function(i){const s=Y(i);s.v_.add(0),await Zl(s),s.x_.set("Offline")}(n)})}function hX(t,e){const n=new Ut;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(c,u){const h=Y(c);return h.persistence.runTransaction("read document","readonly",d=>h.localDocuments.getDocument(d,u))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new F(P.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=nc(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await H3(t),e,n)),n.promise}function wR(t,e,n={}){const r=new Ut;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Hg({next:d=>{o.enqueueAndForget(()=>L3(s,h));const f=d.docs.has(a);!f&&d.fromCache?c.reject(new F(P.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?c.reject(new F(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new V3(Yl(a.path),u,{includeMetadataChanges:!0,ta:!0});return O3(s,h)}(await Al(t),t.asyncQueue,e,n,r)),r.promise}function dX(t,e){const n=new Ut;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await l0(i,s,!0),l=new hR(s,a.hs),c=l.Ta(a.documents),u=l.applyChanges(c,!1);o.resolve(u.snapshot)}catch(a){const l=nc(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await H3(t),e,n)),n.promise}function bR(t,e,n={}){const r=new Ut;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Hg({next:d=>{o.enqueueAndForget(()=>L3(s,h)),d.fromCache&&l.source==="server"?c.reject(new F(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new V3(a,u,{includeMetadataChanges:!0,ta:!0});return O3(s,h)}(await Al(t),t.asyncQueue,e,n,r)),r.promise}function fX(t,e){const n=new Hg(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){Y(i).W_.add(s),s.next()}(await Al(t),n)),()=>{n.Qa(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){Y(i).W_.delete(s)}(await Al(t),n))}}function pX(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?wk().encode(o):o,function(u,h){return new iX(u,h)}(function(u,h){if(u instanceof Uint8Array)return _7(u,h);if(u instanceof ArrayBuffer)return _7(new Uint8Array(u),h);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Td(e));t.asyncQueue.enqueueAndForget(async()=>{nX(await q3(t),i,r)})}function gX(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=Y(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,i))}(await H3(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t,e,n){if(!n)throw new F(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TR(t,e,n,r){if(e===!0&&r===!0)throw new F(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function w7(t){if(!G.isDocumentKey(t))throw new F(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function b7(t){if(G.isDocumentKey(t))throw new F(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function De(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gg(t);throw new F(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function SR(t,e){if(e<=0)throw new F(P.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ER((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E7({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new F(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E7(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fK;switch(r.type){case"firstParty":return new yK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=v7.get(n);r&&($("ComponentProvider","Removing Datastore"),v7.delete(n),r.terminate())}(this),Promise.resolve()}}function mX(t,e,n,r={}){var i;const s=(t=De(t,Id))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ft.MOCK_USER;else{a=IU(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new F(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ft(c)}t._authCredentials=new pK(new Dx(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wn=class IR{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new IR(this.firestore,e,this._query)}},ht=class xR{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xR(this.firestore,e,this._key)}},hs=class kR extends wn{constructor(e,n,r){super(e,n,Yl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new G(e))}withConverter(e){return new kR(this.firestore,e,this._path)}};function RR(t,e,...n){if(t=le(t),G3("collection","path",e),t instanceof Id){const r=xe.fromString(e,...n);return b7(r),new hs(t,null,r)}{if(!(t instanceof ht||t instanceof hs))throw new F(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return b7(r),new hs(t.firestore,null,r)}}function yX(t,e){if(t=De(t,Id),G3("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new F(P.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new wn(t,null,function(r){return new Ni(xe.emptyPath(),r)}(e))}function d0(t,e,...n){if(t=le(t),arguments.length===1&&(e=Ox.newId()),G3("doc","path",e),t instanceof Id){const r=xe.fromString(e,...n);return w7(r),new ht(t,null,new G(r))}{if(!(t instanceof ht||t instanceof hs))throw new F(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return w7(r),new ht(t.firestore,t instanceof hs?t.converter:null,new G(r))}}function AR(t,e){return t=le(t),e=le(e),(t instanceof ht||t instanceof hs)&&(e instanceof ht||e instanceof hs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function CR(t,e){return t=le(t),e=le(e),t instanceof wn&&e instanceof wn&&t.firestore===e.firestore&&_d(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new A3(this,"async_queue_retry"),this.cu=()=>{const n=Jf();n&&$("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Jf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Jf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Ut;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Us(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Tt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=D3.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&te()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function Ry(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class vX{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ut,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wX=-1;let vt=class extends Id{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new _X}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||PR(this),this._firestoreClient.terminate()}};function Ht(t){return t._firestoreClient||PR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function PR(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new qK(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,ER(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new aX(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function bX(t,e){DR(t=De(t,vt));const n=Ht(t);if(n._uninitializedComponentsProvider)throw new F(P.FAILED_PRECONDITION,"SDK cache is already specified.");xr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new z3;return NR(n,i,new mR(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function EX(t){DR(t=De(t,vt));const e=Ht(t);if(e._uninitializedComponentsProvider)throw new F(P.FAILED_PRECONDITION,"SDK cache is already specified.");xr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new z3;return NR(e,r,new rX(r,n.cacheSizeBytes))}function NR(t,e,n){const r=new Ut;return t.asyncQueue.enqueue(async()=>{try{await Zf(t,n),await ky(t,e),r.resolve()}catch(i){const s=i;if(!yR(s))throw s;xr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function TX(t){if(t._initialized&&!t._terminated)throw new F(P.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ut;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!or.D())return Promise.resolve();const i=r+"main";await or.delete(i)}(x3(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function SX(t){return function(n){const r=new Ut;return n.asyncQueue.enqueueAndForget(async()=>HY(await q3(n),r)),r.promise}(Ht(t=De(t,vt)))}function IX(t){return cX(Ht(t=De(t,vt)))}function xX(t){return uX(Ht(t=De(t,vt)))}function kX(t,e){const n=Ht(t=De(t,vt)),r=new vX;return pX(n,t._databaseId,e,r),r}function RX(t,e){return gX(Ht(t=De(t,vt)),e).then(n=>n?new wn(t,null,n.query):null)}function DR(t){if(t._initialized||t._terminated)throw new F(P.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zr(Ot.fromBase64String(e))}catch(n){throw new F(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zr(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AX=/^__.*__$/;class CX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xl(e,this.data,n,this.fieldTransforms)}}class OR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class Qg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Qg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return f0(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(LR(this.Vu)&&AX.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class PX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Td(e)}Cu(e,n,r,i=!1){return new Qg({Vu:e,methodName:n,Du:r,path:it.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oa(t){const e=t._freezeSettings(),n=Td(t._databaseId);return new PX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Yg(t,e,n,r,i,s={}){const o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);e9("Data must be an object, but it was:",o,r);const a=FR(r,o);let l,c;if(s.merge)l=new Nn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=Ay(e,h,n);if(!o.contains(d))throw new F(P.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);$R(u,d)||u.push(d)}l=new Nn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new CX(new Qt(a),l,c)}class xd extends sa{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xd}}function MR(t,e,n){return new Qg({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class K3 extends sa{_toFieldTransform(e){return new wd(e.path,new bl)}isEqual(e){return e instanceof K3}}class Q3 extends sa{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=MR(this,e,!0),r=this.vu.map(s=>aa(s,n)),i=new jo(r);return new wd(e.path,i)}isEqual(e){return e instanceof Q3&&th(this.vu,e.vu)}}class Y3 extends sa{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=MR(this,e,!0),r=this.vu.map(s=>aa(s,n)),i=new zo(r);return new wd(e.path,i)}isEqual(e){return e instanceof Y3&&th(this.vu,e.vu)}}class X3 extends sa{constructor(e,n){super(e),this.Fu=n}_toFieldTransform(e){const n=new El(e.serializer,hk(e.serializer,this.Fu));return new wd(e.path,n)}isEqual(e){return e instanceof X3&&this.Fu===e.Fu}}function J3(t,e,n,r){const i=t.Cu(1,e,n);e9("Data must be an object, but it was:",i,r);const s=[],o=Qt.empty();ia(r,(l,c)=>{const u=t9(e,l,n);c=le(c);const h=i.yu(u);if(c instanceof xd)s.push(u);else{const d=aa(c,h);d!=null&&(s.push(u),o.set(u,d))}});const a=new Nn(s);return new OR(o,a,i.fieldTransforms)}function Z3(t,e,n,r,i,s){const o=t.Cu(1,e,n),a=[Ay(e,r,n)],l=[i];if(s.length%2!=0)throw new F(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Ay(e,s[d])),l.push(s[d+1]);const c=[],u=Qt.empty();for(let d=a.length-1;d>=0;--d)if(!$R(c,a[d])){const f=a[d];let p=l[d];p=le(p);const g=o.yu(f);if(p instanceof xd)c.push(f);else{const _=aa(p,g);_!=null&&(c.push(f),u.set(f,_))}}const h=new Nn(c);return new OR(u,h,o.fieldTransforms)}function VR(t,e,n,r=!1){return aa(n,t.Cu(r?4:3,e))}function aa(t,e){if(BR(t=le(t)))return e9("Unsupported field value:",e,t),FR(t,e);if(t instanceof sa)return function(r,i){if(!LR(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=aa(a,i.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ot.fromDate(r);return{timestampValue:Tl(i.serializer,s)}}if(r instanceof ot){const s=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tl(i.serializer,s)}}if(r instanceof Kg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zr)return{bytesValue:Tk(i.serializer,r._byteString)};if(r instanceof ht){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:w3(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Gg(r)}`)}(t,e)}function FR(t,e){const n={};return Hx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(t,(r,i)=>{const s=aa(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function BR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof Kg||t instanceof Zr||t instanceof ht||t instanceof sa)}function e9(t,e,n){if(!BR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Gg(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function Ay(t,e,n){if((e=le(e))instanceof xs)return e._internalPath;if(typeof e=="string")return t9(t,e);throw f0("Field path arguments must be of type string or ",t,!1,void 0,n)}const NX=new RegExp("[~\\*/\\[\\]]");function t9(t,e,n){if(e.search(NX)>=0)throw f0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xs(...e.split("."))._internalPath}catch{throw f0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function f0(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new F(P.INVALID_ARGUMENT,a+t+l)}function $R(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DX extends kh{data(){return super.data()}}function Xg(t,e){return typeof e=="string"?t9(t,e):e instanceof xs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n9{}class kd extends n9{}function Bi(t,e,...n){let r=[];e instanceof n9&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof r9).length,a=s.filter(l=>l instanceof Jg).length;if(o>1||o>0&&a>0)throw new F(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Jg extends kd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jg(e,n,r)}_apply(e){const n=this._parse(e);return zR(e._query,n),new wn(e.firestore,e.converter,py(e._query,n))}_parse(e){const n=oa(e.firestore);return function(s,o,a,l,c,u,h){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new F(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){S7(h,u);const f=[];for(const p of h)f.push(T7(l,s,p));d={arrayValue:{values:f}}}else d=T7(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||S7(h,u),d=VR(a,o,h,u==="in"||u==="not-in");return ke.create(c,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function OX(t,e,n){const r=e,i=Xg("where",t);return Jg._create(i,r,n)}class r9 extends n9{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new r9(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Le.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)zR(o,l),o=py(o,l)}(e._query,n),new wn(e.firestore,e.converter,py(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i9 extends kd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new i9(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new F(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new F(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sh(s,o)}(e._query,this._field,this._direction);return new wn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ni(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function LX(t,e="asc"){const n=e,r=Xg("orderBy",t);return i9._create(r,n)}class Zg extends kd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Zg(e,n,r)}_apply(e){return new wn(e.firestore,e.converter,i0(e._query,this._limit,this._limitType))}}function MX(t){return SR("limit",t),Zg._create("limit",t,"F")}function VX(t){return SR("limitToLast",t),Zg._create("limitToLast",t,"L")}class em extends kd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new em(e,n,r)}_apply(e){const n=jR(e,this.type,this._docOrFields,this._inclusive);return new wn(e.firestore,e.converter,function(i,s){return new Ni(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function FX(...t){return em._create("startAt",t,!0)}function BX(...t){return em._create("startAfter",t,!1)}class tm extends kd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new tm(e,n,r)}_apply(e){const n=jR(e,this.type,this._docOrFields,this._inclusive);return new wn(e.firestore,e.converter,function(i,s){return new Ni(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function $X(...t){return tm._create("endBefore",t,!1)}function UX(...t){return tm._create("endAt",t,!0)}function jR(t,e,n,r){if(n[0]=le(n[0]),n[0]instanceof kh)return function(s,o,a,l,c){if(!l)throw new F(P.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const h of el(s))if(h.field.isKeyField())u.push($o(o,l.key));else{const d=l.data.field(h.field);if(Vg(d))throw new F(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const f=h.field.canonicalString();throw new F(P.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}u.push(d)}return new Ss(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=oa(t.firestore);return function(o,a,l,c,u,h){const d=o.explicitOrderBy;if(u.length>d.length)throw new F(P.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let p=0;p<u.length;p++){const g=u[p];if(d[p].field.isKeyField()){if(typeof g!="string")throw new F(P.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof g}`);if(!f3(o)&&g.indexOf("/")!==-1)throw new F(P.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${g}' contains a slash.`);const _=o.path.child(xe.fromString(g));if(!G.isDocumentKey(_))throw new F(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const y=new G(_);f.push($o(a,y))}else{const _=VR(l,c,g);f.push(_)}}return new Ss(f,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function T7(t,e,n){if(typeof(n=le(n))=="string"){if(n==="")throw new F(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f3(e)&&n.indexOf("/")!==-1)throw new F(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xe.fromString(n));if(!G.isDocumentKey(r))throw new F(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $o(t,new G(r))}if(n instanceof ht)return $o(t,n._key);throw new F(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gg(n)}.`)}function S7(t,e){if(!Array.isArray(t)||t.length===0)throw new F(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zR(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class s9{convertValue(e,n="none"){switch(Bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ia(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Kg(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=h3(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bh(e));default:return null}}convertTimestamp(e){const n=ws(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xe.fromString(e);oe(Ok(r));const i=new Es(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||Tt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class jX extends s9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let ki=class extends kh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ru(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ru=class extends ki{data(e={}){return super.data(e)}},ks=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ru(this._firestore,this._userDataWriter,r.key,r,new mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Ru(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ru(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:zX(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function zX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}function WR(t,e){return t instanceof ki&&e instanceof ki?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ks&&e instanceof ks&&t._firestore===e._firestore&&CR(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WX(t){t=De(t,ht);const e=De(t.firestore,vt);return wR(Ht(e),t._key).then(n=>o9(e,t,n))}class la extends s9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function HX(t){t=De(t,ht);const e=De(t.firestore,vt),n=Ht(e),r=new la(e);return hX(n,t._key).then(i=>new ki(e,r,t._key,i,new mo(i!==null&&i.hasLocalMutations,!0),t.converter))}function qX(t){t=De(t,ht);const e=De(t.firestore,vt);return wR(Ht(e),t._key,{source:"server"}).then(n=>o9(e,t,n))}function GX(t){t=De(t,wn);const e=De(t.firestore,vt),n=Ht(e),r=new la(e);return UR(t._query),bR(n,t._query).then(i=>new ks(e,r,t,i))}function KX(t){t=De(t,wn);const e=De(t.firestore,vt),n=Ht(e),r=new la(e);return dX(n,t._query).then(i=>new ks(e,r,t,i))}function QX(t){t=De(t,wn);const e=De(t.firestore,vt),n=Ht(e),r=new la(e);return bR(n,t._query,{source:"server"}).then(i=>new ks(e,r,t,i))}function I7(t,e,n){t=De(t,ht);const r=De(t.firestore,vt),i=nm(t.converter,e,n);return Rd(r,[Yg(oa(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,st.none())])}function x7(t,e,n,...r){t=De(t,ht);const i=De(t.firestore,vt),s=oa(i);let o;return o=typeof(e=le(e))=="string"||e instanceof xs?Z3(s,"updateDoc",t._key,e,n,r):J3(s,"updateDoc",t._key,e),Rd(i,[o.toMutation(t._key,st.exists(!0))])}function YX(t){return Rd(De(t.firestore,vt),[new Jl(t._key,st.none())])}function XX(t,e){const n=De(t.firestore,vt),r=d0(t),i=nm(t.converter,e);return Rd(n,[Yg(oa(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,st.exists(!1))]).then(()=>r)}function HR(t,...e){var n,r,i;t=le(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Ry(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Ry(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,u;if(t instanceof ht)c=De(t.firestore,vt),u=Yl(t._key.path),l={next:h=>{e[o]&&e[o](o9(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=De(t,wn);c=De(h.firestore,vt),u=h._query;const d=new la(c);l={next:f=>{e[o]&&e[o](new ks(c,d,h,f))},error:e[o+1],complete:e[o+2]},UR(t._query)}return function(d,f,p,g){const _=new Hg(g),y=new V3(f,_,p);return d.asyncQueue.enqueueAndForget(async()=>O3(await Al(d),y)),()=>{_.Qa(),d.asyncQueue.enqueueAndForget(async()=>L3(await Al(d),y))}}(Ht(c),u,a,l)}function JX(t,e){return fX(Ht(t=De(t,vt)),Ry(e)?e:{next:e})}function Rd(t,e){return function(r,i){const s=new Ut;return r.asyncQueue.enqueueAndForget(async()=>UY(await q3(r),i,s)),s.promise}(Ht(t),e)}function o9(t,e,n){const r=n.docs.get(e._key),i=new la(t);return new ki(t,i,e._key,r,new mo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZX={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eJ=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=oa(e)}set(e,n,r){this._verifyNotCommitted();const i=qi(e,this._firestore),s=nm(i.converter,n,r),o=Yg(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,st.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=qi(e,this._firestore);let o;return o=typeof(n=le(n))=="string"||n instanceof xs?Z3(this._dataReader,"WriteBatch.update",s._key,n,r,i):J3(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,st.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=qi(e,this._firestore);return this._mutations=this._mutations.concat(new Jl(n._key,st.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new F(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function qi(t,e){if((t=le(t)).firestore!==e)throw new F(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tJ=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=oa(n)}get(n){const r=qi(n,this._firestore),i=new jX(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return te();const o=s[0];if(o.isFoundDocument())return new kh(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new kh(this._firestore,i,r._key,null,r.converter);throw te()})}set(n,r,i){const s=qi(n,this._firestore),o=nm(s.converter,r,i),a=Yg(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=qi(n,this._firestore);let a;return a=typeof(r=le(r))=="string"||r instanceof xs?Z3(this._dataReader,"Transaction.update",o._key,r,i,s):J3(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=qi(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=qi(e,this._firestore),r=new la(this._firestore);return super.get(e).then(i=>new ki(this._firestore,r,n._key,i._document,new mo(!1,!1),n.converter))}};function nJ(t,e,n){t=De(t,vt);const r=Object.assign(Object.assign({},ZX),n);return function(s){if(s.maxAttempts<1)throw new F(P.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Ut;return s.asyncQueue.enqueueAndForget(async()=>{const c=await lX(s);new oX(s.asyncQueue,c,a,o,l).Ya()}),l.promise}(Ht(t),i=>e(new tJ(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rJ(){return new xd("deleteField")}function iJ(){return new K3("serverTimestamp")}function sJ(...t){return new Q3("arrayUnion",t)}function oJ(...t){return new Y3("arrayRemove",t)}function aJ(t){return new X3("increment",t)}(function(e,n=!0){(function(i){Ql=i})(Ms),_s(new Yr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new vt(new gK(r.getProvider("auth-internal")),new vK(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new F(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Es(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Gr(vv,"4.5.0",e),Gr(vv,"4.5.0","esm2017")})();const lJ="@firebase/firestore-compat",cJ="0.3.27";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new F("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(){if(typeof Uint8Array>"u")throw new F("unimplemented","Uint8Arrays are not available in this environment.")}function R7(){if(!WK())throw new F("unimplemented","Blobs are unavailable in Firestore in this environment.")}let qR=class Cy{constructor(e){this._delegate=e}static fromBase64String(e){return R7(),new Cy(Zr.fromBase64String(e))}static fromUint8Array(e){return k7(),new Cy(Zr.fromUint8Array(e))}toBase64(){return R7(),this._delegate.toBase64()}toUint8Array(){return k7(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t){return uJ(t,["next","error","complete"])}function uJ(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hJ{enableIndexedDbPersistence(e,n){return bX(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return EX(e._delegate)}clearIndexedDbPersistence(e){return TX(e._delegate)}}class GR{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Es||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&xr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){mX(this._delegate,e,n,r)}enableNetwork(){return IX(this._delegate)}disableNetwork(){return xX(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,TR("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return SX(this._delegate)}onSnapshotsInSync(e){return JX(this._delegate,e)}get app(){if(!this._appCompat)throw new F("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Cl(this,RR(this._delegate,e))}catch(n){throw pn(n,"collection()","Firestore.collection()")}}doc(e){try{return new ar(this,d0(this._delegate,e))}catch(n){throw pn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fn(this,yX(this._delegate,e))}catch(n){throw pn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return nJ(this._delegate,n=>e(new KR(this,n)))}batch(){return Ht(this._delegate),new QR(new eJ(this._delegate,e=>Rd(this._delegate,e)))}loadBundle(e){return kX(this._delegate,e)}namedQuery(e){return RX(this._delegate,e).then(n=>n?new fn(this,n):null)}}class rm extends s9{constructor(e){super(),this.firestore=e}convertBytes(e){return new qR(new Zr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ar.forKey(n,this.firestore,null)}}function dJ(t){hK(t)}class KR{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new rm(e)}get(e){const n=yo(e);return this._delegate.get(n).then(r=>new Rh(this._firestore,new ki(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=yo(e);return r?(a9("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=yo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=yo(e);return this._delegate.delete(n),this}}class QR{constructor(e){this._delegate=e}set(e,n,r){const i=yo(e);return r?(a9("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=yo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=yo(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Go{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Ru(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ah(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Go.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Go(e,new rm(e),n),i.set(n,s)),s}}Go.INSTANCES=new WeakMap;class ar{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new rm(e)}static forPath(e,n,r){if(e.length%2!==0)throw new F("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ar(n,new ht(n._delegate,r,new G(e)))}static forKey(e,n,r){return new ar(n,new ht(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Cl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Cl(this.firestore,RR(this._delegate,e))}catch(n){throw pn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=le(e),e instanceof ht?AR(this._delegate,e):!1}set(e,n){n=a9("DocumentReference.set",n);try{return n?I7(this._delegate,e,n):I7(this._delegate,e)}catch(r){throw pn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?x7(this._delegate,e):x7(this._delegate,e,n,...r)}catch(i){throw pn(i,"updateDoc()","DocumentReference.update()")}}delete(){return YX(this._delegate)}onSnapshot(...e){const n=YR(e),r=XR(e,i=>new Rh(this.firestore,new ki(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return HR(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=HX(this._delegate):(e==null?void 0:e.source)==="server"?n=qX(this._delegate):n=WX(this._delegate),n.then(r=>new Rh(this.firestore,new ki(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ar(this.firestore,e?this._delegate.withConverter(Go.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function pn(t,e,n){return t.message=t.message.replace(e,n),t}function YR(t){for(const e of t)if(typeof e=="object"&&!Py(e))return e;return{}}function XR(t,e){var n,r;let i;return Py(t[0])?i=t[0]:Py(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Rh{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ar(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return WR(this._delegate,e._delegate)}}class Ah extends Rh{data(e){const n=this._delegate.data(e);return this._delegate._converter||dK(n!==void 0),n}}class fn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new rm(e)}where(e,n,r){try{return new fn(this.firestore,Bi(this._delegate,OX(e,n,r)))}catch(i){throw pn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new fn(this.firestore,Bi(this._delegate,LX(e,n)))}catch(r){throw pn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fn(this.firestore,Bi(this._delegate,MX(e)))}catch(n){throw pn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new fn(this.firestore,Bi(this._delegate,VX(e)))}catch(n){throw pn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fn(this.firestore,Bi(this._delegate,FX(...e)))}catch(n){throw pn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fn(this.firestore,Bi(this._delegate,BX(...e)))}catch(n){throw pn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fn(this.firestore,Bi(this._delegate,$X(...e)))}catch(n){throw pn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fn(this.firestore,Bi(this._delegate,UX(...e)))}catch(n){throw pn(n,"endAt()","Query.endAt()")}}isEqual(e){return CR(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=KX(this._delegate):(e==null?void 0:e.source)==="server"?n=QX(this._delegate):n=GX(this._delegate),n.then(r=>new Ny(this.firestore,new ks(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=YR(e),r=XR(e,i=>new Ny(this.firestore,new ks(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return HR(this._delegate,n,r)}withConverter(e){return new fn(this.firestore,e?this._delegate.withConverter(Go.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class fJ{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Ah(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ny{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new fn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ah(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new fJ(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Ah(this._firestore,r))})}isEqual(e){return WR(this._delegate,e._delegate)}}class Cl extends fn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ar(this.firestore,e):null}doc(e){try{return e===void 0?new ar(this.firestore,d0(this._delegate)):new ar(this.firestore,d0(this._delegate,e))}catch(n){throw pn(n,"doc()","CollectionReference.doc()")}}add(e){return XX(this._delegate,e).then(n=>new ar(this.firestore,n))}isEqual(e){return AR(this._delegate,e._delegate)}withConverter(e){return new Cl(this.firestore,e?this._delegate.withConverter(Go.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function yo(t){return De(t,ht)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(...e){this._delegate=new xs(...e)}static documentId(){return new l9(it.keyField().canonicalString())}isEqual(e){return e=le(e),e instanceof xs?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this._delegate=e}static serverTimestamp(){const e=iJ();return e._methodName="FieldValue.serverTimestamp",new lo(e)}static delete(){const e=rJ();return e._methodName="FieldValue.delete",new lo(e)}static arrayUnion(...e){const n=sJ(...e);return n._methodName="FieldValue.arrayUnion",new lo(n)}static arrayRemove(...e){const n=oJ(...e);return n._methodName="FieldValue.arrayRemove",new lo(n)}static increment(e){const n=aJ(e);return n._methodName="FieldValue.increment",new lo(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pJ={Firestore:GR,GeoPoint:Kg,Timestamp:ot,Blob:qR,Transaction:KR,WriteBatch:QR,DocumentReference:ar,DocumentSnapshot:Rh,Query:fn,QueryDocumentSnapshot:Ah,QuerySnapshot:Ny,CollectionReference:Cl,FieldPath:l9,FieldValue:lo,setLogLevel:dJ,CACHE_SIZE_UNLIMITED:wX};function gJ(t,e){t.INTERNAL.registerComponent(new Yr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},pJ)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mJ(t){gJ(t,(e,n)=>new GR(e,n,new hJ)),t.registerVersion(lJ,cJ)}mJ(jl);const yJ={apiKey:"AIzaSyCDj5lHl9qwaIhVVxKFyK-m-ENvw8bKvlk",authDomain:"cryptopulse-e45b9.firebaseapp.com",projectId:"cryptopulse-e45b9",storageBucket:"cryptopulse-e45b9.appspot.com",messagingSenderId:"308291913891",appId:"1:308291913891:web:fa95a3feb4999f921c5716",measurementId:"G-FGVTZMFMSL"},_J=jl.initializeApp(yJ),Pl=_J.auth(),vJ=()=>{const{t}=Tn();return b.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center",children:[b.jsxs("div",{className:" flex flex-col justify-center items-center bg-white",children:[b.jsx("img",{className:"flex justify-center items-center max-w-48",loading:"lazy",src:td,alt:t("cryptoPulse")+" logo"}),b.jsx("div",{className:"absolute loader"})]}),b.jsx("h1",{className:"m-10 text-5xl font-bold text-gray-800 dark:text-gray-100",children:t("loading")})]})},JR=L.createContext();function im(){return L.useContext(JR)}function wJ({children:t}){const[e,n]=L.useState(),[r,i]=L.useState(!0);L.useEffect(()=>OW(Pl,a=>{n(a),i(!1),console.log("===================================="),console.log("User:",a),console.log("====================================")}),[]);const s={currentUser:e,loading:r};return r?b.jsx(vJ,{}):b.jsx(JR.Provider,{value:s,children:t})}const bJ=({isUserMenuOpen:t})=>{const[e,n]=L.useState(t),[r,i]=L.useState(!1),{currentUser:s}=im(),{t:o}=Tn();L.useEffect(()=>{!t&&e?(i(!0),setTimeout(()=>n(!1),500)):t&&!e&&(n(!0),i(!1))},[t,e]);const a=async()=>{try{await aI(Pl)}catch(l){alert(l.message)}};return e?b.jsxs("div",{className:`flex flex-col justify-start right-0 items-center m-2 pt-5 pb-28 rounded-2xl absolute bg-gray-200 dark:bg-gray-700 min-w-96 h-screen opacity-95 font-bold text-black dark:text-white ${r?"slide-out-right":"slide-in-right"}`,children:[b.jsx("button",{className:"flex justify-end items-end w-full pr-5 gap-3 material-icons",children:"settings"}),b.jsxs("div",{className:"w-[75%] h-full flex flex-col justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex flex-col justify-center items-center gap-3",children:[b.jsx("i",{className:"material-icons",style:{fontSize:"100px"},children:"account_circle"}),b.jsx("p",{children:s.displayName})]}),b.jsxs("div",{className:"flex flex-col justify-start items-start w-full h-full py-10 gap-3",children:[b.jsxs("div",{className:"flex justify-start items-start w-full h-10 gap-3 border-b border-gray-400",children:[b.jsx("i",{className:"material-icons",children:"mail"}),b.jsx("p",{children:s.email})]}),b.jsxs("div",{className:"flex justify-start items-start w-full h-10 gap-3 border-b border-gray-400",children:[b.jsx("i",{className:"material-icons",children:"schedule"}),b.jsx("p",{children:s.metadata.creationTime})]})]}),b.jsxs("button",{className:"w-full p-5 h-12 flex justify-start items-center bg-gray-300 dark:bg-gray-800 rounded-lg gap-2 hover:bg-gray-400 dark:hover:bg-gray-900",onClick:a,children:[b.jsx("i",{className:"material-icons",children:"logout"}),o("signOut")]})]})]}):null},c9=h5({key:"cryptoData",default:{data:[],filterdData:[]}}),ZR=h5({key:"cryptoNews",default:{data:[],filterdData:[]}}),EJ=({isSearchOpen:t,searchData:e})=>{const[n,r]=L.useState(t),[i,s]=L.useState(!1),[o,a]=gs(c9),[l,c]=gs(ZR),{t:u}=Tn(),h=p=>{const g=p.target.value.toLowerCase();e==="coins"?f(g):e==="news"&&d(g)},d=p=>{const _=[...l.data].filter(y=>y.title.toLowerCase().includes(p)||y.body.toLowerCase().includes(p)||y.tags.toLowerCase().includes(p)||y.categories.toLowerCase().includes(p));c({...l,filterdData:_})},f=p=>{const _=[...o.data].filter(y=>y.name.toLowerCase().includes(p)||y.symbol.toLowerCase().includes(p));a({...o,filterdData:_})};return L.useEffect(()=>{!t&&n?(s(!0),setTimeout(()=>r(!1),500)):t&&!n&&(r(!0),s(!1))},[t,n]),n?b.jsx("div",{className:`flex flex-col justify-center p-5 items-center w-full rounded-b-2xl -z-10 absolute bg-gray-200 dark:bg-gray-900 opacity-95 font-bold text-black dark:text-white ${i?"slide-out-top":"slide-in-top"}`,children:b.jsxs("div",{className:"relative w-full",children:[b.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center pl-2 pointer-events-none material-icons text-gray-500 dark:text-gray-400",children:"search"}),b.jsx("input",{type:"text",onChange:h,className:"pl-9 w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:u("search")+"..."})]})}):null};function TJ(){const{t}=Tn(),[e,n]=L.useState(!1),[r,i]=L.useState(!1),[s,o]=L.useState(!1),[a,l]=L.useState(!1),[c,u]=L.useState(!1),[h,d]=gs(d5),{currentUser:f}=im(),[p,g]=L.useState(Dr),[_,y]=L.useState(""),m=$0(),v=[{title:"coins",icon:"monetization_on"},{title:"news",icon:"feed"},{title:"compare",icon:"compare_arrows"}],w="text-blue-700 dark:text-blue-500",E="text-gray-900 dark:text-white hover:text-blue-500 dark:hover:text-blue-300 dark:border-gray-700",T=async()=>{try{await aI(Pl)}catch(N){alert(N.message)}};L.useEffect(()=>{const N=m.pathname.split("/");switch(y(N[N.length-1]),localStorage.language){case"en":d({...h,language:"en"}),g(Dr),Be.changeLanguage("en");break;case"de":d({...h,language:"de"}),g(gu),Be.changeLanguage("de");break;case"it":d({...h,language:"it"}),g(mu),Be.changeLanguage("it");break;case"zh":d({...h,language:"zh"}),g(yu),Be.changeLanguage("zh");break;default:d({...h,language:"en"}),g(Dr),Be.changeLanguage("en")}},[h.language]);function S(N){n(!1),N==="light"?(document.documentElement.classList.remove("dark"),localStorage.theme="light",d({...h,theme:"light"})):(document.documentElement.classList.add("dark"),localStorage.theme="dark",d({...h,theme:"dark"}))}function R(N,K){i(!1),localStorage.language=N,Be.changeLanguage(N),g(K),d({...h,language:N})}const V=(N,K)=>{let ne="English (US)";switch(N){case"de":ne="Deutsch";break;case"it":ne="Italiano";break;case"zh":ne=" ()";break;default:ne="English (US)"}return b.jsxs("button",{type:"button",onClick:()=>R(N,K),className:"h-10 px-5 flex items-center text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600",style:{width:"-webkit-fill-available"},children:[b.jsx("img",{src:K,loading:"lazy",width:20,height:20,className:"mr-2"}),ne]})};return b.jsxs("div",{className:"sticky top-0 z-[1000]",children:[b.jsx("nav",{className:"bg-gray-100 border-gray-200 dark:bg-gray-900",children:b.jsxs("div",{className:"flex flex-wrap items-center justify-between mx-auto p-4",children:[b.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse cursor-pointer",onClick:()=>window.location.replace("/home"),children:[b.jsx("img",{src:td,loading:"lazy",alt:"CryptoPulse logo",className:"h-8"}),b.jsx("span",{className:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white",children:t("cryptoPulse")})]}),b.jsxs("div",{className:"flex md:order-2",children:[!a&&_!=="home"&&b.jsxs("button",{type:"button",onClick:()=>o(!s),className:"inline-flex items-center p-2 mr-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600",children:[b.jsx("span",{className:"sr-only",children:"Search"}),b.jsx("i",{className:"material-icons",children:"search"})]}),b.jsx("div",{className:"dropdown",children:b.jsxs("button",{type:"button",onClick:()=>{o(!1),l(!a)},className:"inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600","aria-controls":"navbar-search","aria-expanded":"false",children:[b.jsx("span",{className:"sr-only",children:"Open main menu"}),b.jsx("i",{className:"material-icons",children:a?"close":"menu"})]})})]}),b.jsx("div",{className:"items-center justify-between hidden w-full md:flex md:w-auto md:order-1",id:"navbar-search",children:b.jsx("ul",{className:"flex flex-col items-center p-4 md:p-0 mt-4 font-medium border border-gray-100 rounded-lg bg-gray-100 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700",children:v.map(N=>b.jsx("li",{children:b.jsx("a",{href:`/home/${N.title}`,className:_===N.title?w:E,children:t(N.title)})},N.title))})}),b.jsxs("div",{className:"hidden items-center md:order-2 space-x-2 md:space-x-0 rtl:space-x-reverse md:flex",children:[b.jsxs("div",{className:"dropdown",children:[b.jsx("button",{onClick:()=>{i(!1),u(!1),n(!e)},type:"button",className:"material-icons text-black dark:text-white hover:bg-gray-100 p-2 mx-4 hover:rounded-full dark:hover:bg-gray-700",children:h.theme==="dark"?"dark_mode":"light_mode"}),e&&b.jsxs("div",{className:"z-50 my-4 text-base py-2 font-medium list-none bg-white divide-gray-100 rounded-lg shadow dark:bg-gray-700 absolute origin-top left-0 mt-2",style:{width:"max-content"},children:[b.jsxs("button",{onClick:()=>S("light"),type:"button",className:"h-10 px-5 flex items-center text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600",style:{width:"-webkit-fill-available"},children:[b.jsx("i",{className:"material-icons mr-2",children:"light_mode"}),t("lightMode")]}),b.jsxs("button",{onClick:()=>S("dark"),type:"button",className:"h-10 px-5 flex items-center text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600",style:{width:"-webkit-fill-available"},children:[b.jsx("i",{className:"material-icons mr-2",children:"dark_mode"}),t("darkMode")]})]})]}),b.jsxs("div",{className:"dropdown",children:[b.jsxs("button",{onClick:()=>{n(!1),u(!1),i(!r)},type:"button",className:"inline-flex items-center font-medium justify-center p-2 text-sm text-gray-900 dark:text-white rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white mr-2",children:[b.jsx("img",{src:p,loading:"lazy",width:20,height:20,className:"mr-2"}),t("languageName"),b.jsx("i",{className:"material-icons",children:"arrow_drop_down"})]}),r&&b.jsxs("div",{className:"z-50 my-4 py-2 font-medium text-base list-none bg-white divide-gray-100 rounded-lg shadow dark:bg-gray-700 absolute origin-top left-0 mt-2 w-max",children:[V("en",Dr),V("de",gu),V("it",mu),V("zh",yu)]})]}),b.jsxs("button",{type:"button",onClick:()=>{n(!1),i(!1),u(!c)},className:"inline-flex items-center font-medium justify-center p-2 text-sm text-gray-900 dark:text-white rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white",children:[b.jsx("i",{className:"material-icons mr-2",children:"account_circle"}),b.jsxs("span",{children:[" ",f.displayName," "]})]})]})]})}),b.jsx(EJ,{isSearchOpen:s,searchData:_}),b.jsx(bJ,{isUserMenuOpen:c}),a&&b.jsx("div",{className:"flex justify-center items-start py-10 absolute bg-gray-200 dark:bg-gray-700 md:hidden w-full h-screen opacity-95 font-bold text-black dark:text-white",children:b.jsxs("div",{className:"w-[75%] flex flex-col justify-center items-center gap-4",children:[b.jsxs("div",{className:"flex flex-col justify-center items-center gap-3",children:[b.jsx("i",{className:"material-icons",style:{fontSize:"100px"},children:"account_circle"}),b.jsx("p",{children:f.displayName})]}),v.map(N=>b.jsxs("a",{href:`/home/${N.title}`,className:"flex h-10 gap-5 w-full px-5 border-b border-gray-400",onClick:()=>y(N.title),children:[b.jsx("i",{className:"material-icons",children:N.icon}),t(N.title)]},N.title)),b.jsxs("div",{className:"w-full py-2",children:[b.jsxs("button",{onClick:()=>i(!r),className:"flex justify-between items-center gap-1",children:[b.jsx("i",{className:"material-icons",children:"translate"}),t("languageName"),b.jsx("i",{className:"material-icons",children:"expand_more"})]}),r&&b.jsxs("div",{className:"flex flex-col justify-center items-start gap-3 py-2 px-7",children:[b.jsx("button",{onClick:()=>R("en",Dr),className:"flex justify-between items-center gap-1",children:"English (US)"}),b.jsx("button",{onClick:()=>R("de",gu),className:"flex justify-between items-center gap-1",children:"Deutsch"}),b.jsx("button",{onClick:()=>R("it",mu),className:"flex justify-between items-center gap-1",children:"Italiano"}),b.jsx("button",{onClick:()=>R("zh",yu),className:"flex justify-between items-center gap-1",children:" ()"})]})]}),b.jsxs("div",{className:"w-full p-5 h-12 flex justify-between items-center bg-gray-300 dark:bg-gray-800 rounded-lg",children:[t("darkMode"),b.jsxs("label",{className:"toggle-switch",children:[b.jsx("input",{type:"checkbox",checked:h.theme==="dark",onChange:N=>S(N.target.checked?"dark":"light")}),b.jsx("span",{className:"switch"})]})]}),b.jsxs("button",{className:"w-full p-5 h-12 flex justify-start items-center bg-gray-300 dark:bg-gray-800 rounded-lg gap-2 hover:bg-gray-400 dark:hover:bg-gray-900",onClick:T,children:[b.jsx("i",{className:"material-icons",children:"logout"}),t("signOut")]})]})})]})}const SJ=({isAuthenticated:t})=>t?b.jsxs("div",{children:[b.jsx(TJ,{}),b.jsx(BE,{})]}):b.jsx(hu,{to:"/welcome",replace:!0}),eA=()=>{const t=L.useRef(null),e=L.useRef({x:null,y:null});return L.useEffect(()=>{const n=()=>{const r=t.current;r.width=window.innerWidth,r.height=window.innerHeight};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[window.innerWidth,window.innerHeight]),L.useEffect(()=>{const n=t.current,r=n.getContext("2d");n.width=window.innerWidth,n.height=window.innerHeight;const i=c=>{e.current={x:c.clientX,y:c.clientY}};window.addEventListener("mousemove",i);let s;const o=[];for(let c=0;c<50;c++)o.push({x:Math.random()*n.width,y:Math.random()*n.height+50,radius:Math.random()*20+5,dx:(Math.random()-.5)*2,dy:(Math.random()-.5)*2});const a=()=>{r.clearRect(0,0,n.width,n.height),o.forEach(c=>{r.beginPath(),r.arc(c.x,c.y,c.radius,0,Math.PI*2),r.fill(),localStorage.getItem("theme")==="dark"?r.fillStyle="rgba(255, 255, 255, 0.3)":r.fillStyle="rgba(0, 0, 0, 0.3)";const u=e.current;if(u.x!=null&&u.y!=null){const h=c.x-u.x,d=c.y-u.y,f=Math.sqrt(h*h+d*d);f<100&&(c.dx+=h/f*.07,c.dy+=d/f*.07)}c.x+=c.dx,c.y+=c.dy,(c.x<c.radius||c.x>n.width-c.radius)&&(c.dx=-c.dx),(c.y<c.radius||c.y>n.height-c.radius)&&(c.dy=-c.dy),c.dx*=.9999,c.dy*=.9999})},l=()=>{a(),s=requestAnimationFrame(l)};return l(),()=>{cancelAnimationFrame(s),window.removeEventListener("mousemove",i)}},[]),b.jsx("canvas",{className:"canvas-background",ref:t})},IJ="/assets/logoB-BNS7NqN4.png";function xJ(){const{t}=Tn(),{currentUser:e}=im();return b.jsxs("div",{className:"text-slate-950 dark:text-white h-[calc(100vh-72px)]",children:[b.jsx(eA,{}),b.jsxs("div",{className:"h-full flex flex-col md:flex-row justify-start md:justify-center items-center mt-24 md:m-0 md:left-1/2 md:-translate-x-[20%] gap-10",children:[b.jsx("img",{src:IJ,loading:"lazy",alt:"CryptoPulse logo",className:"flex h-auto w-auto max-h-80 md:max-h-[1500px]"}),b.jsxs("div",{className:"flex flex-col w-full text-center md:text-start gap-1 md:gap-5",children:[b.jsx("h1",{className:"text-4xl md:text-6xl font-thin",children:t("welcomeBack")}),b.jsx("h1",{className:" text-6xl md:text-8xl font-bold",children:e.displayName})]})]})]})}function kJ(){const{t}=Tn(),[e,n]=L.useState(!1),[r,i]=L.useState(!1),[s,o]=gs(d5),[a,l]=L.useState(Dr);L.useEffect(()=>{switch(localStorage.language){case"en":o({...s,language:"en"}),l(Dr),Be.changeLanguage("en");break;case"de":o({...s,language:"de"}),l(gu),Be.changeLanguage("de");break;case"it":o({...s,language:"it"}),l(mu),Be.changeLanguage("it");break;case"zh":o({...s,language:"zh"}),l(yu),Be.changeLanguage("zh");break;default:o({...s,language:"en"}),l(Dr),Be.changeLanguage("en")}},[s.language]);function c(d){n(!1),d==="light"?(document.documentElement.classList.remove("dark"),localStorage.theme="light",o({...s,theme:"light"})):(document.documentElement.classList.add("dark"),localStorage.theme="dark",o({...s,theme:"dark"}))}function u(d,f){i(!1),localStorage.language=d,Be.changeLanguage(d),l(f),o({...s,language:d})}const h=(d,f)=>{let p="English (US)";switch(d){case"de":p="Deutsch";break;case"it":p="Italiano";break;case"zh":p=" ()";break;default:p="English (US)"}return b.jsxs("button",{type:"button",onClick:()=>u(d,f),className:"h-10 px-5 flex items-center text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600",style:{width:"-webkit-fill-available"},children:[b.jsx("img",{src:f,loading:"lazy",width:20,height:20,className:"mr-2"}),p]})};return b.jsx("nav",{className:"bg-white border-gray-200 dark:bg-gray-900",style:{position:"sticky",top:0,zIndex:1e3},children:b.jsxs("div",{className:"flex flex-wrap items-center justify-between mx-auto p-4",children:[b.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse cursor-pointer",onClick:()=>window.location.replace("/welcome"),children:[b.jsx("img",{src:td,loading:"lazy",alt:"CryptoPulse logo",className:"h-8"}),b.jsx("span",{className:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white",children:t("cryptoPulse")})]}),b.jsxs("div",{className:"flex md:hidden flex-row items-center",children:[b.jsx("button",{onClick:()=>window.location.replace("/welcome/signup"),type:"button",className:"material-icons text-black dark:text-white hover:bg-gray-100 p-2 mx-2 hover:rounded-full dark:hover:bg-gray-700",children:"edit"}),b.jsx("button",{onClick:()=>window.location.replace("/welcome/login"),type:"button",className:"material-icons text-black dark:text-white hover:bg-gray-100 p-2 mx-2 hover:rounded-full dark:hover:bg-gray-700",children:"login"})]}),b.jsxs("div",{className:"hidden md:flex flex-col md:flex-row items-center md:order-2 space-x-2 md:space-x-0 rtl:space-x-reverse",children:[b.jsxs("div",{className:"dropdown",children:[b.jsx("button",{onClick:()=>{i(!1),n(!e)},type:"button",className:"material-icons text-black dark:text-white hover:bg-gray-100 p-2 mx-4 hover:rounded-full dark:hover:bg-gray-700",children:b.jsx("i",{className:"material-icons",children:s.theme==="dark"?"dark_mode":"light_mode"})}),e&&b.jsxs("div",{className:"z-50 my-4 text-base py-2 font-medium list-none bg-white divide-gray-100 rounded-lg shadow dark:bg-gray-700 absolute origin-top left-0 mt-2",style:{width:"max-content"},children:[b.jsxs("button",{onClick:()=>c("light"),type:"button",className:"h-10 px-5 flex items-center text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600",style:{width:"-webkit-fill-available"},children:[b.jsx("i",{className:"material-icons mr-2",children:"light_mode"}),t("lightMode")]}),b.jsxs("button",{onClick:()=>c("dark"),type:"button",className:"h-10 px-5 flex items-center text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600",style:{width:"-webkit-fill-available"},children:[b.jsx("i",{className:"material-icons mr-2",children:"dark_mode"}),t("darkMode")]})]})]}),b.jsxs("div",{className:"dropdown",children:[b.jsxs("button",{onClick:()=>{n(!1),i(!r)},type:"button",className:"inline-flex items-center font-medium justify-center p-2 text-sm text-gray-900 dark:text-white rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white mr-2",children:[b.jsx("img",{src:a,loading:"lazy",width:20,height:20,className:"mr-2"}),t("languageName"),b.jsx("i",{className:"material-icons",children:"arrow_drop_down"})]}),r&&b.jsxs("div",{className:"z-50 my-4 py-2 font-medium text-base list-none bg-white divide-gray-100 rounded-lg shadow dark:bg-gray-700 absolute origin-top left-0 mt-2 w-max",children:[h("en",Dr),h("de",gu),h("it",mu),h("zh",yu)]})]}),b.jsxs("div",{className:"space-x-4",children:[b.jsx("button",{onClick:()=>window.location.replace("/welcome/signup"),className:"text-gray-800 px-2 py-2 rounded-xl dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white",children:t("signUp")}),b.jsx("button",{onClick:()=>window.location.replace("/welcome/login"),className:"text-gray-800 px-2 py-2 rounded-xl dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white",children:t("logIn")})]})]})]})})}function tA({title:t,message:e,isVisible:n,onClose:r}){const{t:i}=Tn();return n?b.jsxs("div",{className:"alert border border-gray-600 dark:border-white flex flex-col justify-center items-center bg-gray-100 dark:bg-gray-700 min-h-fit",children:[b.jsx("div",{className:"text-2xl w-full font-bold text-black dark:text-white",children:i(t)}),b.jsx("div",{className:"text-lg my-5 h-full w-full font-semibold text-black dark:text-white",children:i(e)}),b.jsx("button",{className:"w-1/4 text-black dark:text-white bg-gray-300 dark:bg-gray-500 p-1 hover:bg-gray-200 dark:hover:bg-gray-400 rounded-lg",onClick:r,children:i("ok")})]}):null}function RJ(){const[t,e]=L.useState(!1),[n,r]=L.useState(!1),i=()=>r(!0),s=()=>r(!1),{t:o}=Tn(),[a,l]=L.useState(!1),[c,u]=L.useState({title:"",message:"",type:""}),[h,d]=L.useState({email:"",password:""}),f=async y=>{if(p()){l(!0),y.preventDefault();try{await rI(Pl,h.email,h.password)}catch(m){m.code==="auth/invalid-credential"?u({...c,title:"error",message:"errorInvalidCredentials",type:"error"}):u({...c,title:"error",message:"somethingWentWrong",type:"error"}),i()}finally{l(!1)}}};function p(){const{email:y,password:m}=h;return y===""||m===""?(u({...c,title:"error",message:"errorFillAllFields",type:"error"}),i(),!1):!0}function g(y){return/\S+@\S+\.\S+/.test(y)}const _=()=>{const{email:y}=h;if(!g(y)){u({...c,title:"error",message:"errorInvalidEmail",type:"error"}),i();return}eI(Pl,h.email).then(()=>{u({...c,title:"success",message:"resetPasswordEmailSent",type:"success"}),i()}).catch(m=>{console.log(m)})};return b.jsxs("div",{className:"flex w-full justify-center items-center h-full pb-28",children:[b.jsxs("div",{className:"grid md:grid-cols-2 w-full",children:[b.jsxs("div",{className:"flex justify-end",children:[b.jsx("img",{src:td,loading:"lazy",alt:"CryptoPulse logo",className:"flex h-auto w-auto md:max-h-[550px] p-10 m-auto"}),b.jsx("div",{className:"h-full bg-gray-300 dark:bg-gray-600 hidden md:block w-px mx-[10px]"})]}),b.jsxs("div",{onSubmit:f,className:"flex flex-col justify-center",children:[b.jsx("h1",{className:"mx-10 text-5xl font-bold text-slate-950 dark:text-white",children:o("logIn")}),b.jsx("input",{type:"text",onChange:y=>d({...h,email:y.target.value}),className:"mx-10 mt-10 h-10 pl-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:o("mail")}),b.jsx("input",{type:t?"text":"password",onChange:y=>d({...h,password:y.target.value}),className:"mx-10 mt-5 h-10 pl-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:o("password")}),b.jsxs("div",{className:"flex ml-10 mt-5 gap-2",children:[b.jsx("input",{type:"checkbox",onClick:()=>e(!t)}),b.jsx("label",{className:"text-gray-800 dark:text-white",children:o("showPassword")})]}),b.jsxs("button",{type:"button",onClick:f,className:"mx-10 mt-10 text-gray-800 font-bold py-2 px-5 rounded-lg dark:text-white bg-gray-200 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white flex justify-start",children:[o("logIn"),a&&b.jsx("div",{className:"buttonLoader flex justify-center items-center my-auto ml-2"})]}),b.jsx("a",{className:"mx-10 mt-5 text-gray-500 dark:text-gray-300 cursor-pointer font-semibold underline",onClick:_,children:o("forgotPassword")})]})]}),b.jsx(tA,{title:c.title,message:c.message,isVisible:n,onClose:s})]})}function AJ(){const[t,e]=L.useState(!1),[n,r]=L.useState({title:"",message:"",type:""}),[i,s]=L.useState(!1),o=()=>e(!0),a=()=>e(!1),{t:l}=Tn(),[c,u]=L.useState({email:"",firstName:"",lastName:"",password:"",confirmPassword:""}),[h,d]=L.useState(!1),f=async _=>{if(p()){d(!0),_.preventDefault();try{const m=(await nI(Pl,c.email,c.password)).user;await iI(m,{displayName:c.firstName+" "+c.lastName}),r({...n,title:"success",message:"accountCreated",type:"success"}),o()}catch(y){console.log(y)}finally{d(!1)}}};function p(){const _=c.email,y=c.firstName,m=c.lastName,v=c.password,w=c.confirmPassword;return console.log(c),_===""||y===""||m===""||v===""||w===""?(r({...n,title:"error",message:"errorFillAllFields",type:"error"}),o(),!1):g(_)?v!==w?(r({...n,title:"error",message:"errorPasswordsDoNotMatch",type:"error"}),o(),!1):v.length<6?(r({...n,title:"error",message:"passwordTooShort",type:"error"}),o(),!1):!0:(r({...n,title:"error",message:"errorInvalidEmail",type:"error"}),o(),!1)}function g(_){return/\S+@\S+\.\S+/.test(_)}return b.jsxs("div",{className:"flex w-full justify-center items-center h-full pb-28",children:[b.jsxs("div",{className:"grid md:grid-cols-2 w-full",children:[b.jsxs("div",{className:"flex justify-end",children:[b.jsx("img",{src:td,loading:"lazy",alt:"CryptoPulse logo",className:"flex h-auto w-auto md:max-h-[550px] p-10 m-auto"}),b.jsx("div",{className:"h-full bg-gray-300 dark:bg-gray-600 hidden md:block w-px mx-[10px]"})]}),b.jsxs("div",{className:"flex flex-col justify-center",children:[b.jsx("h1",{className:"mx-10 text-5xl font-bold text-slate-950 dark:text-white",children:l("signUp")}),b.jsx("input",{type:"text",onChange:_=>u({...c,email:_.target.value}),className:"mx-10 mt-10 h-10 pl-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:l("email")}),b.jsxs("div",{className:"flex flex-row w-full",children:[b.jsx("input",{type:"text",onChange:_=>u({...c,firstName:_.target.value}),className:"w-full ml-10 mt-5 mr-2 pl-3 h-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:l("firstName")}),b.jsx("input",{type:"text",onChange:_=>u({...c,lastName:_.target.value}),className:"w-full mr-10 ml-2 mt-5 pl-3 h-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:l("lastName")})]}),b.jsxs("div",{className:"flex flex-row w-full",children:[b.jsx("input",{type:i?"text":"password",onChange:_=>u({...c,password:_.target.value}),className:"w-full ml-10 mr-2 mt-5 h-10 pl-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:l("password")}),b.jsx("input",{type:i?"text":"password",onChange:_=>u({...c,confirmPassword:_.target.value}),className:"w-full mr-10 ml-2 mt-5 h-10 pl-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:l("confirmPassword")})]}),b.jsxs("div",{className:"flex ml-10 mt-5 gap-2",children:[b.jsx("input",{type:"checkbox",onClick:()=>s(!i)}),b.jsx("label",{className:"text-gray-800 dark:text-white",children:l("showPassword")})]}),b.jsxs("button",{type:"button",onClick:f,className:"m-10 text-gray-800 font-bold py-2 px-5 rounded-lg dark:text-white bg-gray-200 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white flex justify-start",children:[l("signUp"),h&&b.jsx("div",{className:"buttonLoader flex justify-center items-center my-auto ml-2"})]})]})]}),b.jsx(tA,{title:n.title,message:n.message,isVisible:t,onClose:a})]})}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Ad(t){return t+.5|0}const Ji=(t,e,n)=>Math.max(Math.min(t,n),e);function Qc(t){return Ji(Ad(t*2.55),0,255)}function ds(t){return Ji(Ad(t*255),0,255)}function ai(t){return Ji(Ad(t/2.55)/100,0,1)}function A7(t){return Ji(Ad(t*100),0,100)}const tr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Dy=[..."0123456789ABCDEF"],CJ=t=>Dy[t&15],PJ=t=>Dy[(t&240)>>4]+Dy[t&15],pf=t=>(t&240)>>4===(t&15),NJ=t=>pf(t.r)&&pf(t.g)&&pf(t.b)&&pf(t.a);function DJ(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&tr[t[1]]*17,g:255&tr[t[2]]*17,b:255&tr[t[3]]*17,a:e===5?tr[t[4]]*17:255}:(e===7||e===9)&&(n={r:tr[t[1]]<<4|tr[t[2]],g:tr[t[3]]<<4|tr[t[4]],b:tr[t[5]]<<4|tr[t[6]],a:e===9?tr[t[7]]<<4|tr[t[8]]:255})),n}const OJ=(t,e)=>t<255?e(t):"";function LJ(t){var e=NJ(t)?CJ:PJ;return t?"#"+e(t.r)+e(t.g)+e(t.b)+OJ(t.a,e):void 0}const MJ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function nA(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function VJ(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function FJ(t,e,n){const r=nA(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function BJ(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function u9(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=BJ(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function h9(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(ds)}function d9(t,e,n){return h9(nA,t,e,n)}function $J(t,e,n){return h9(FJ,t,e,n)}function UJ(t,e,n){return h9(VJ,t,e,n)}function rA(t){return(t%360+360)%360}function jJ(t){const e=MJ.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Qc(+e[5]):ds(+e[5]));const i=rA(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=$J(i,s,o):e[1]==="hsv"?r=UJ(i,s,o):r=d9(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function zJ(t,e){var n=u9(t);n[0]=rA(n[0]+e),n=d9(n),t.r=n[0],t.g=n[1],t.b=n[2]}function WJ(t){if(!t)return;const e=u9(t),n=e[0],r=A7(e[1]),i=A7(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${ai(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const C7={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},P7={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function HJ(){const t={},e=Object.keys(P7),n=Object.keys(C7);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,C7[s]);s=parseInt(P7[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let gf;function qJ(t){gf||(gf=HJ(),gf.transparent=[0,0,0,0]);const e=gf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const GJ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function KJ(t){const e=GJ.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Qc(o):Ji(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Qc(r):Ji(r,0,255)),i=255&(e[4]?Qc(i):Ji(i,0,255)),s=255&(e[6]?Qc(s):Ji(s,0,255)),{r,g:i,b:s,a:n}}}function QJ(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ai(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const _1=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ba=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function YJ(t,e,n){const r=ba(ai(t.r)),i=ba(ai(t.g)),s=ba(ai(t.b));return{r:ds(_1(r+n*(ba(ai(e.r))-r))),g:ds(_1(i+n*(ba(ai(e.g))-i))),b:ds(_1(s+n*(ba(ai(e.b))-s))),a:t.a+n*(e.a-t.a)}}function mf(t,e,n){if(t){let r=u9(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=d9(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function iA(t,e){return t&&Object.assign(e||{},t)}function N7(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ds(t[3]))):(e=iA(t,{r:0,g:0,b:0,a:1}),e.a=ds(e.a)),e}function XJ(t){return t.charAt(0)==="r"?KJ(t):jJ(t)}class Ch{constructor(e){if(e instanceof Ch)return e;const n=typeof e;let r;n==="object"?r=N7(e):n==="string"&&(r=DJ(e)||qJ(e)||XJ(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=iA(this._rgb);return e&&(e.a=ai(e.a)),e}set rgb(e){this._rgb=N7(e)}rgbString(){return this._valid?QJ(this._rgb):void 0}hexString(){return this._valid?LJ(this._rgb):void 0}hslString(){return this._valid?WJ(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=YJ(this._rgb,e._rgb,n)),this}clone(){return new Ch(this.rgb)}alpha(e){return this._rgb.a=ds(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ad(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return mf(this._rgb,2,e),this}darken(e){return mf(this._rgb,2,-e),this}saturate(e){return mf(this._rgb,1,e),this}desaturate(e){return mf(this._rgb,1,-e),this}rotate(e){return zJ(this._rgb,e),this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function ni(){}const JJ=(()=>{let t=0;return()=>t++})();function Ne(t){return t===null||typeof t>"u"}function Ye(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Re(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function gt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Un(t,e){return gt(t)?t:e}function _e(t,e){return typeof t>"u"?e:t}const ZJ=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,sA=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function je(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Oe(t,e,n,r){let i,s,o;if(Ye(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(Re(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function p0(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function g0(t){if(Ye(t))return t.map(g0);if(Re(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=g0(t[n[i]]);return e}return t}function oA(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function eZ(t,e,n,r){if(!oA(t))return;const i=e[t],s=n[t];Re(i)&&Re(s)?Ph(i,s,r):e[t]=g0(s)}function Ph(t,e,n){const r=Ye(e)?e:[e],i=r.length;if(!Re(t))return t;n=n||{};const s=n.merger||eZ;let o;for(let a=0;a<i;++a){if(o=r[a],!Re(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function Au(t,e){return Ph(t,e,{merger:tZ})}function tZ(t,e,n){if(!oA(t))return;const r=e[t],i=n[t];Re(r)&&Re(i)?Au(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=g0(i))}const D7={"":t=>t,x:t=>t.x,y:t=>t.y};function nZ(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function rZ(t){const e=nZ(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Rs(t,e){return(D7[e]||(D7[e]=rZ(e)))(t)}function f9(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Nh=t=>typeof t<"u",As=t=>typeof t=="function",O7=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function iZ(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ze=Math.PI,Je=2*Ze,sZ=Je+Ze,m0=Number.POSITIVE_INFINITY,oZ=Ze/180,St=Ze/2,Gs=Ze/4,L7=Ze*2/3,Zi=Math.log10,Qr=Math.sign;function Cu(t,e,n){return Math.abs(t-e)<n}function M7(t){const e=Math.round(t);t=Cu(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Zi(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function aZ(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function Nl(t){return!isNaN(parseFloat(t))&&isFinite(t)}function lZ(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function aA(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function vr(t){return t*(Ze/180)}function p9(t){return t*(180/Ze)}function V7(t){if(!gt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function lA(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Ze&&(s+=Je),{angle:s,distance:i}}function Oy(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function cZ(t,e){return(t-e+sZ)%Je-Ze}function zn(t){return(t%Je+Je)%Je}function Dh(t,e,n,r){const i=zn(t),s=zn(e),o=zn(n),a=zn(s-i),l=zn(o-i),c=zn(i-s),u=zn(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function Bt(t,e,n){return Math.max(e,Math.min(n,t))}function uZ(t){return Bt(t,-32768,32767)}function pi(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function g9(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const gi=(t,e,n,r)=>g9(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),hZ=(t,e,n)=>g9(t,n,r=>t[r][e]>=n);function dZ(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const cA=["push","pop","shift","splice","unshift"];function fZ(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),cA.forEach(n=>{const r="_onData"+f9(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function F7(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(cA.forEach(s=>{delete t[s]}),delete t._chartjs)}function uA(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const hA=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function dA(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,hA.call(window,()=>{r=!1,t.apply(e,n)}))}}function pZ(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const m9=t=>t==="start"?"left":t==="end"?"right":"center",sn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,gZ=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function fA(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(i=Bt(Math.min(gi(a,l,c).lo,n?r:gi(e,l,o.getPixelForValue(c)).lo),0,r-1)),d?s=Bt(Math.max(gi(a,o.axis,u,!0).hi+1,n?0:gi(e,l,o.getPixelForValue(u),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function pA(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const yf=t=>t===0||t===1,B7=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Je/n)),$7=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Je/n)+1,Pu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*St)+1,easeOutSine:t=>Math.sin(t*St),easeInOutSine:t=>-.5*(Math.cos(Ze*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>yf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>yf(t)?t:B7(t,.075,.3),easeOutElastic:t=>yf(t)?t:$7(t,.075,.3),easeInOutElastic(t){return yf(t)?t:t<.5?.5*B7(t*2,.1125,.45):.5+.5*$7(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Pu.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Pu.easeInBounce(t*2)*.5:Pu.easeOutBounce(t*2-1)*.5+.5};function y9(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function U7(t){return y9(t)?t:new Ch(t)}function v1(t){return y9(t)?t:new Ch(t).saturate(.5).darken(.1).hexString()}const mZ=["x","y","borderWidth","radius","tension"],yZ=["color","borderColor","backgroundColor"];function _Z(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:yZ},numbers:{type:"number",properties:mZ}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function vZ(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const j7=new Map;function wZ(t,e){e=e||{};const n=t+JSON.stringify(e);let r=j7.get(n);return r||(r=new Intl.NumberFormat(t,e),j7.set(n,r)),r}function Cd(t,e,n){return wZ(e,n).format(t)}const gA={values(t){return Ye(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=bZ(t,n)}const o=Zi(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Cd(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Zi(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?gA.numeric.call(this,t,e,n):""}};function bZ(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var sm={formatters:gA};function EZ(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:sm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ko=Object.create(null),Ly=Object.create(null);function Nu(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function w1(t,e,n){return typeof e=="string"?Ph(Nu(t,e),n):Ph(Nu(t,""),e)}class TZ{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>v1(i.backgroundColor),this.hoverBorderColor=(r,i)=>v1(i.borderColor),this.hoverColor=(r,i)=>v1(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return w1(this,e,n)}get(e){return Nu(this,e)}describe(e,n){return w1(Ly,e,n)}override(e,n){return w1(Ko,e,n)}route(e,n,r,i){const s=Nu(this,e),o=Nu(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Re(l)?Object.assign({},c,l):_e(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var mt=new TZ({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_Z,vZ,EZ]);function SZ(t){return!t||Ne(t.size)||Ne(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function y0(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function IZ(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&!Ye(h))o=y0(t,i,s,o,h);else if(Ye(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!Ye(d)&&(o=y0(t,i,s,o,d));t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return o}function Ks(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function z7(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function My(t,e,n,r){mA(t,e,n,r,null)}function mA(t,e,n,r,i){let s,o,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let _=(p||0)*oZ;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(_),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,g,0,0,Je):t.arc(n,r,g,0,Je),t.closePath();break;case"triangle":u=i?i/2:g,t.moveTo(n+Math.sin(_)*u,r-Math.cos(_)*g),_+=L7,t.lineTo(n+Math.sin(_)*u,r-Math.cos(_)*g),_+=L7,t.lineTo(n+Math.sin(_)*u,r-Math.cos(_)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(_+Gs)*l,h=Math.cos(_+Gs)*(i?i/2-c:l),a=Math.sin(_+Gs)*l,d=Math.sin(_+Gs)*(i?i/2-c:l),t.arc(n-h,r-a,c,_-Ze,_-St),t.arc(n+d,r-o,c,_-St,_),t.arc(n+h,r+a,c,_,_+St),t.arc(n-d,r+o,c,_+St,_+Ze),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}_+=Gs;case"rectRot":h=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,d=Math.sin(_)*(i?i/2:g),t.moveTo(n-h,r-a),t.lineTo(n+d,r-o),t.lineTo(n+h,r+a),t.lineTo(n-d,r+o),t.closePath();break;case"crossRot":_+=Gs;case"cross":h=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,d=Math.sin(_)*(i?i/2:g),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o);break;case"star":h=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,d=Math.sin(_)*(i?i/2:g),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o),_+=Gs,h=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,d=Math.sin(_)*(i?i/2:g),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o);break;case"line":o=i?i/2:Math.cos(_)*g,a=Math.sin(_)*g,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(_)*(i?i/2:g),r+Math.sin(_)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function mi(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function om(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function am(t){t.restore()}function xZ(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function kZ(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function RZ(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ne(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function AZ(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function CZ(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Qo(t,e,n,r,i,s={}){const o=Ye(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,RZ(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&CZ(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Ne(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),AZ(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function Oh(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Ze,Ze,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Ze,St,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,St,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-St,!0),t.lineTo(n+o.topLeft,r)}const PZ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,NZ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function DZ(t,e){const n=(""+t).match(PZ);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const OZ=t=>+t||0;function _9(t,e){const n={},r=Re(e),i=r?Object.keys(e):e,s=Re(t)?r?o=>_e(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=OZ(s(o));return n}function yA(t){return _9(t,{top:"y",right:"x",bottom:"y",left:"x"})}function xo(t){return _9(t,["topLeft","topRight","bottomLeft","bottomRight"])}function hn(t){const e=yA(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Dt(t,e){t=t||{},e=e||mt.font;let n=_e(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=_e(t.style,e.style);r&&!(""+r).match(NZ)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:_e(t.family,e.family),lineHeight:DZ(_e(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:_e(t.weight,e.weight),string:""};return i.string=SZ(i),i}function Yc(t,e,n,r){let i=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&Ye(a)&&(a=a[n%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function LZ(t,e,n){const{min:r,max:i}=t,s=sA(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Ws(t,e){return Object.assign(Object.create(t),e)}function v9(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=bA("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>v9([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return vA(a,l,()=>zZ(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return H7(a).includes(l)},ownKeys(a){return H7(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Dl(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:_A(t,r),setContext:s=>Dl(t,s,n,r),override:s=>Dl(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return vA(s,o,()=>VZ(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function _A(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:As(n)?n:()=>n,isIndexable:As(r)?r:()=>r}}const MZ=(t,e)=>t?t+f9(e):e,w9=(t,e)=>Re(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function vA(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function VZ(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return As(a)&&o.isScriptable(e)&&(a=FZ(e,a,t,n)),Ye(a)&&a.length&&(a=BZ(e,a,t,o.isIndexable)),w9(e,a)&&(a=Dl(a,i,s&&s[e],o)),a}function FZ(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),w9(t,l)&&(l=b9(i._scopes,i,t,l)),l}function BZ(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Re(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=b9(c,i,t,u);e.push(Dl(h,s,o&&o[t],a))}}return e}function wA(t,e,n){return As(t)?t(e,n):t}const $Z=(t,e)=>t===!0?e:typeof t=="string"?Rs(e,t):void 0;function UZ(t,e,n,r,i){for(const s of e){const o=$Z(n,s);if(o){t.add(o);const a=wA(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function b9(t,e,n,r){const i=e._rootScopes,s=wA(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=W7(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=W7(a,o,s,l,r),l===null)?!1:v9(Array.from(a),[""],i,s,()=>jZ(e,n,r))}function W7(t,e,n,r,i){for(;n;)n=UZ(t,e,n,r,i);return n}function jZ(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Ye(i)&&Re(n)?n:i||{}}function zZ(t,e,n,r){let i;for(const s of e)if(i=bA(MZ(s,t),n),typeof i<"u")return w9(t,i)?b9(n,r,t,i):i}function bA(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function H7(t){let e=t._keys;return e||(e=t._keys=WZ(t._scopes)),e}function WZ(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function EA(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=e[c],o[a]={r:i.parse(Rs(u,s),c)};return o}const HZ=Number.EPSILON||1e-14,Ol=(t,e)=>e<t.length&&!t[e].skip&&t[e],TA=t=>t==="x"?"y":"x";function qZ(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=Oy(s,i),l=Oy(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+d*(o.x-i.x),y:s.y+d*(o.y-i.y)}}}function GZ(t,e,n){const r=t.length;let i,s,o,a,l,c=Ol(t,0);for(let u=0;u<r-1;++u)if(l=c,c=Ol(t,u+1),!(!l||!c)){if(Cu(e[u],0,HZ)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}}function KZ(t,e,n="x"){const r=TA(n),i=t.length;let s,o,a,l=Ol(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Ol(t,c+1),!a)continue;const u=a[n],h=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=h-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=h+s*e[c])}}function QZ(t,e="x"){const n=TA(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=Ol(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=Ol(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Qr(i[o-1])!==Qr(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}GZ(t,i,s),KZ(t,s,e)}function _f(t,e,n){return Math.max(Math.min(t,n),e)}function YZ(t,e){let n,r,i,s,o,a=mi(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&mi(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=_f(i.cp1x,e.left,e.right),i.cp1y=_f(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=_f(i.cp2x,e.left,e.right),i.cp2y=_f(i.cp2y,e.top,e.bottom)))}function XZ(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")QZ(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=qZ(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&YZ(t,n)}function E9(){return typeof window<"u"&&typeof document<"u"}function T9(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function _0(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const lm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function JZ(t,e){return lm(t).getPropertyValue(e)}const ZZ=["top","right","bottom","left"];function ko(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=ZZ[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const eee=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function tee(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(eee(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function to(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=lm(n),s=i.boxSizing==="border-box",o=ko(i,"padding"),a=ko(i,"border","width"),{x:l,y:c,box:u}=tee(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((c-d)/p*n.height/r)}}function nee(t,e,n){let r,i;if(e===void 0||n===void 0){const s=T9(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=lm(s),l=ko(a,"border","width"),c=ko(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=_0(a.maxWidth,s,"clientWidth"),i=_0(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||m0,maxHeight:i||m0}}const vf=t=>Math.round(t*10)/10;function ree(t,e,n,r){const i=lm(t),s=ko(i,"margin"),o=_0(i.maxWidth,t,"clientWidth")||m0,a=_0(i.maxHeight,t,"clientHeight")||m0,l=nee(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=ko(i,"border","width"),f=ko(i,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=vf(Math.min(c,o,l.maxWidth)),u=vf(Math.min(u,a,l.maxHeight)),c&&!u&&(u=vf(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=vf(Math.floor(u*r))),{width:c,height:u}}function q7(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const iee=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};E9()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function G7(t,e){const n=JZ(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function no(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function see(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function oee(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=no(t,i,n),a=no(i,s,n),l=no(s,e,n),c=no(o,a,n),u=no(a,l,n);return no(c,u,n)}const aee=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},lee=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function nl(t,e,n){return t?aee(e,n):lee()}function SA(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function IA(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function xA(t){return t==="angle"?{between:Dh,compare:cZ,normalize:zn}:{between:pi,compare:(e,n)=>e-n,normalize:e=>e}}function K7({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function cee(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=xA(r),l=e.length;let{start:c,end:u,loop:h}=t,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][r]),i,s);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function kA(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=xA(r),{start:u,end:h,loop:d,style:f}=cee(t,e,n),p=[];let g=!1,_=null,y,m,v;const w=()=>l(i,v,y)&&a(i,v)!==0,E=()=>a(s,y)===0||l(s,v,y),T=()=>g||w(),S=()=>!g||E();for(let R=u,V=u;R<=h;++R)m=e[R%o],!m.skip&&(y=c(m[r]),y!==v&&(g=l(y,i,s),_===null&&T()&&(_=a(y,i)===0?R:V),_!==null&&S()&&(p.push(K7({start:_,end:R,loop:d,count:o,style:f})),_=null),V=R,v=y));return _!==null&&p.push(K7({start:_,end:h,loop:d,count:o,style:f})),p}function RA(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=kA(r[i],t.points,e);s.length&&n.push(...s)}return n}function uee(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function hee(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function dee(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=uee(n,i,s,r);if(r===!0)return Q7(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return Q7(t,hee(n,o,l,c),n,e)}function Q7(t,e,n,r){return!r||!r.setContext||!n?e:fee(t,e,n,r)}function fee(t,e,n,r){const i=t._chart.getContext(),s=Y7(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,d=h;function f(p,g,_,y){const m=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=m;for(;n[g%l].skip;)g+=m;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:_,style:y}),u=y,h=g%l)}}for(const p of e){h=a?h:p.start;let g=n[h%l],_;for(d=h+1;d<=p.end;d++){const y=n[d%l];_=Y7(r.setContext(Ws(i,{type:"segment",p0:g,p1:y,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),pee(_,u)&&f(h,d-1,p.loop,u),g=y,u=_}h<d-1&&f(h,d-1,p.loop,u)}return c}function Y7(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function pee(t,e){if(!e)return!1;const n=[],r=function(i,s){return y9(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class gee{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=hA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ri=new gee;const X7="transparent",mee={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=U7(t||X7),i=r.valid&&U7(e||X7);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class yee{constructor(e,n,r,i){const s=n[r];i=Yc([e.to,i,s,e.from]);const o=Yc([e.from,s,i]);this._active=!0,this._fn=e.fn||mee[e.type||typeof o],this._easing=Pu[e.easing]||Pu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Yc([e.to,n,i,e.from]),this._from=Yc([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class AA{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Re(e))return;const n=Object.keys(mt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Re(s))return;const o={};for(const a of n)o[a]=s[a];(Ye(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=vee(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&_ee(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let h=s[c];const d=r.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}s[c]=h=new yee(d,e,c,u),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return ri.add(this._chart,r),!0}}function _ee(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function vee(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function J7(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function wee(t,e,n){if(n===!1)return!1;const r=J7(t,n),i=J7(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function bee(t){let e,n,r,i;return Re(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function CA(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Z7(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(r.all)continue;break}c=t.values[l],gt(c)&&(s||e===0||Qr(e)===Qr(c))&&(e+=c)}return e}}function Eee(t){const e=Object.keys(t),n=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],n[r]={x:s,y:t[s]};return n}function e8(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Tee(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function See(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Iee(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function t8(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function n8(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=Tee(s,o,r),h=e.length;let d;for(let f=0;f<h;++f){const p=e[f],{[l]:g,[c]:_}=p,y=p._stacks||(p._stacks={});d=y[c]=Iee(i,u,g),d[a]=_,d._top=t8(d,o,!0,r.type),d._bottom=t8(d,o,!1,r.type);const m=d._visualValues||(d._visualValues={});m[a]=_}}function b1(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function xee(t,e){return Ws(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function kee(t,e,n){return Ws(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ac(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const E1=t=>t==="reset"||t==="none",r8=(t,e)=>e?t:Object.assign({},t),Ree=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:CA(n,!0),values:null};class Er{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=e8(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ac(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,s=n.xAxisID=_e(r.xAxisID,b1(e,"x")),o=n.yAxisID=_e(r.yAxisID,b1(e,"y")),a=n.rAxisID=_e(r.rAxisID,b1(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&F7(this._data,this),e._stacked&&Ac(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Re(n))this._data=Eee(n);else if(r!==n){if(r){F7(r,this);const i=this._cachedMeta;Ac(i),i._parsed=[]}n&&Object.isExtensible(n)&&fZ(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=e8(n.vScale,n),n.stack!==r.stack&&(i=!0,Ac(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&n8(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,h,d;if(this._parsing===!1)r._parsed=i,r._sorted=!0,d=i;else{Ye(i[e])?d=this.parseArrayData(r,i,e,n):Re(i[e])?d=this.parseObjectData(r,i,e,n):d=this.parsePrimitiveData(r,i,e,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);r._sorted=l}o&&n8(this,d)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(i);let d,f,p;for(d=0,f=i;d<f;++d)p=d+r,h[d]={[a]:u||s.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+r,h=n[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,d,f;for(u=0,h=i;u<h;++u)d=u+r,f=n[d],c[u]={x:s.parse(Rs(f,a),d),y:o.parse(Rs(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:CA(i,!0),values:n._stacks[e.axis]._visualValues};return Z7(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=Z7(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=Ree(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=See(a);let d,f;function p(){f=i[d];const g=f[a.axis];return!gt(f[e.axis])||u>g||h<g}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],gt(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=bee(_e(this.options.clip,wee(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=kee(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=xee(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Nh(r);if(a)return r8(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(mt.elements[e]),p=()=>this.getContext(r,i,n),g=c.resolveNamedOptions(d,f,p,h);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(r8(g,l))),g}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,r,n))}const c=new AA(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||E1(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){E1(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!E1(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Ac(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}q(Er,"defaults",{}),q(Er,"datasetElementType",null),q(Er,"dataElementType",null);function Aee(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=uA(r.sort((i,s)=>i-s))}return t._cache.$bar}function Cee(t){const e=t.iScale,n=Aee(e,t.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(Nh(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function Pee(t,e,n,r){const i=n.barThickness;let s,o;return Ne(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function Nee(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function Dee(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function PA(t,e,n,r){return Ye(t)?Dee(t,e,n,r):e[n.axis]=n.parse(t,r),e}function i8(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,h,d;for(c=n,u=n+r;c<u;++c)d=e[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(PA(d,h,s,c));return l}function T1(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Oee(t,e,n){return t!==0?Qr(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Lee(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function Mee(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=Lee(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[s8(u,o,a,l)]=!0,i=c)),s[s8(i,o,a,l)]=!0,t.borderSkipped=s}function s8(t,e,n,r){return r?(t=Vee(t,e,n),t=o8(t,n,e)):t=o8(t,e,n),t}function Vee(t,e,n){return t===e?n:t===n?e:t}function o8(t,e,n){return t==="start"?e:t==="end"?n:t}function Fee(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class ep extends Er{parsePrimitiveData(e,n,r,i){return i8(e,n,r,i)}parseArrayData(e,n,r,i){return i8(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,p,g;for(d=r,f=r+i;d<f;++d)g=n[d],p={},p[s.axis]=s.parse(Rs(g,c),d),h.push(PA(Rs(g,u),p,o,d));return h}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=T1(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,i);for(let f=n;f<n+r;f++){const p=this.getParsed(f),g=s||Ne(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),_=this._calculateBarIndexPixels(f,u),y=(p._stacks||{})[a.axis],m={horizontal:c,base:g.base,enableBorderRadius:!y||T1(p._custom)||o===y._top||o===y._bottom,x:c?g.head:_.center,y:c?_.center:g.head,height:c?_.size:Math.abs(g.size),width:c?Math.abs(g.size):_.size};d&&(m.options=h||this.resolveDataElementOptions(f,e[f].active?"active":i));const v=m.options||e[f].options;Mee(m,v,y,o),Fee(m,v,u.ratio),this.updateElement(e[f],f,m,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=r.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(Ne(u)||isNaN(u))return!0};for(const l of i)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||Cee(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=T1(c);let h=l[n.axis],d=0,f=r?this.applyStack(n,l,r):h,p,g;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&Qr(h)!==Qr(c.barEnd)&&(d=0),d+=h);const _=!Ne(s)&&!u?s:d;let y=n.getPixelForValue(_);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(d+f):p=y,g=p-y,Math.abs(g)<o){g=Oee(g,n,a)*o,h===a&&(y-=g/2);const m=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),w=Math.min(m,v),E=Math.max(m,v);y=Math.max(Math.min(y,E),w),p=y+g,r&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(p)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const m=Qr(g)*n.getLineWidthForValue(a)/2;y+=m,g-=m}return{size:g,base:y,head:p,center:p+g/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=_e(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?Nee(e,n,i,c):Pee(e,n,i,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&r[s].draw(this._ctx)}}q(ep,"id","bar"),q(ep,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),q(ep,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class tp extends Er{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,i){const s=super.parsePrimitiveData(e,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(e,n,r,i){const s=super.parseArrayData(e,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=_e(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(e,n,r,i){const s=super.parseObjectData(e,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=_e(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:r[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=o.axis,h=a.axis;for(let d=n;d<n+r;d++){const f=e[d],p=!s&&this.getParsed(d),g={},_=g[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),y=g[h]=s?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(_)||isNaN(y),c&&(g.options=l||this.resolveDataElementOptions(d,f.active?"active":i),s&&(g.options.radius=0)),this.updateElement(f,d,g,i)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=_e(r&&r._custom,s),i}}q(tp,"id","bubble"),q(tp,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),q(tp,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Bee(t,e,n){let r=1,i=1,s=0,o=0;if(e<Je){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(v,w,E)=>Dh(v,a,l,!0)?1:Math.max(w,w*n,E,E*n),p=(v,w,E)=>Dh(v,a,l,!0)?-1:Math.min(w,w*n,E,E*n),g=f(0,c,h),_=f(St,u,d),y=p(Ze,c,h),m=p(Ze+St,u,d);r=(g-y)/2,i=(_-m)/2,s=-(g+y)/2,o=-(_+m)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class _o extends Er{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(Re(r[e])){const{key:l="value"}=this._parsing;s=c=>+Rs(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return vr(this.options.rotation-90)}_getCircumference(){return vr(this.options.circumference)}_getRotationExtents(){let e=Je,n=-Je;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(ZJ(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:g}=Bee(h,u,l),_=(r.width-o)/d,y=(r.height-o)/f,m=Math.max(Math.min(_,y)/2,0),v=sA(this.options.radius,m),w=Math.max(v*l,0),E=(v-w)/this._getVisibleDatasetWeightTotal();this.offsetX=p*v,this.offsetY=g*v,i.total=this.calculateTotal(),this.outerRadius=v-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Je)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=s&&c.animateScale,f=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:g,includeOptions:_}=this._getSharedOptions(n,i);let y=this._getRotation(),m;for(m=0;m<n;++m)y+=this._circumference(m,s);for(m=n;m<n+r;++m){const v=this._circumference(m,s),w=e[m],E={x:u+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+v,circumference:v,outerRadius:p,innerRadius:f};_&&(E.options=g||this.resolveDataElementOptions(m,w.active?"active":i)),y+=v,this.updateElement(w,m,E,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Je*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Cd(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(_e(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}q(_o,"id","doughnut"),q(_o,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),q(_o,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),q(_o,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class np extends Er{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=fA(n,i,o);this._drawStart=a,this._drawCount=l,pA(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,i),d=o.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,_=Nl(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||i==="none",m=n+r,v=e.length;let w=n>0&&this.getParsed(n-1);for(let E=0;E<v;++E){const T=e[E],S=y?T:{};if(E<n||E>=m){S.skip=!0;continue}const R=this.getParsed(E),V=Ne(R[f]),N=S[d]=o.getPixelForValue(R[d],E),K=S[f]=s||V?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,R,l):R[f],E);S.skip=isNaN(N)||isNaN(K)||V,S.stop=E>0&&Math.abs(R[d]-w[d])>_,g&&(S.parsed=R,S.raw=c.data[E]),h&&(S.options=u||this.resolveDataElementOptions(E,T.active?"active":i)),y||this.updateElement(T,E,S,i),w=R}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}q(np,"id","line"),q(np,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),q(np,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Du extends Er{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Cd(n._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,n,r,i){return EA.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*Ze;let f=d,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,i,g);for(p=n;p<n+r;p++){const _=e[p];let y=f,m=f+this._computeAngle(p,i,g),v=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=m,s&&(l.animateScale&&(v=0),l.animateRotate&&(y=m=d));const w={x:u,y:h,innerRadius:0,outerRadius:v,startAngle:y,endAngle:m,options:this.resolveDataElementOptions(p,_.active?"active":i)};this.updateElement(_,p,w,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?vr(this.resolveDataElementOptions(e,n).angle||r):0}}q(Du,"id","polarArea"),q(Du,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),q(Du,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Vy extends _o{}q(Vy,"id","pie"),q(Vy,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class rp extends Er{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,i){return EA.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=s.getPointPositionForValue(a,this.getParsed(a).r),h=o?s.xCenter:u.x,d=o?s.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,i)}}}q(rp,"id","radar"),q(rp,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),q(rp,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ip extends Er{getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:r[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=fA(n,r,i);if(this._drawStart=s,this._drawCount=o,pA(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),h=this.getSharedOptions(u),d=this.includeOptions(i,h),f=o.axis,p=a.axis,{spanGaps:g,segment:_}=this.options,y=Nl(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||i==="none";let v=n>0&&this.getParsed(n-1);for(let w=n;w<n+r;++w){const E=e[w],T=this.getParsed(w),S=m?E:{},R=Ne(T[p]),V=S[f]=o.getPixelForValue(T[f],w),N=S[p]=s||R?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[p],w);S.skip=isNaN(V)||isNaN(N)||R,S.stop=w>0&&Math.abs(T[f]-v[f])>y,_&&(S.parsed=T,S.raw=c.data[w]),d&&(S.options=h||this.resolveDataElementOptions(w,E.active?"active":i)),m||this.updateElement(E,w,S,i),v=T}this.updateSharedOptions(h,i,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}q(ip,"id","scatter"),q(ip,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),q(ip,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var $ee=Object.freeze({__proto__:null,BarController:ep,BubbleController:tp,DoughnutController:_o,LineController:np,PieController:Vy,PolarAreaController:Du,RadarController:rp,ScatterController:ip});function Qs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class S9{constructor(e){q(this,"options");this.options=e||{}}static override(e){Object.assign(S9.prototype,e)}init(){}formats(){return Qs()}parse(){return Qs()}format(){return Qs()}add(){return Qs()}diff(){return Qs()}startOf(){return Qs()}endOf(){return Qs()}}var Uee={_date:S9};function jee(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?hZ:gi;if(r){if(i._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(s,e,n-u),d=l(s,e,n+u);return{lo:h.lo,hi:d.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Pd(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:d}=jee(s[a],e,o,i);for(let f=h;f<=d;++f){const p=u[f];p.skip||r(p,c,f)}}}function zee(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function S1(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Pd(t,n,e,function(a,l,c){!i&&!mi(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function Wee(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:h}=lA(o,{x:e.x,y:e.y});Dh(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Pd(t,n,e,s),i}function Hee(t,e,n,r,i,s){let o=[];const a=zee(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,i);if(r&&!f)return;const p=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(p))&&!f)return;const _=a(e,p);_<l?(o=[{element:u,datasetIndex:h,index:d}],l=_):_===l&&o.push({element:u,datasetIndex:h,index:d})}return Pd(t,n,e,c),o}function I1(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?Wee(t,e,n,i):Hee(t,e,n,r,i,s)}function a8(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Pd(t,n,e,(l,c,u)=>{l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var qee={evaluateInteractionItems:Pd,modes:{index(t,e,n,r){const i=to(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?S1(t,i,s,r,o):I1(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=to(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?S1(t,i,s,r,o):I1(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=to(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return S1(t,i,s,r,o)},nearest(t,e,n,r){const i=to(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return I1(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=to(e,t);return a8(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=to(e,t);return a8(t,i,"y",n.intersect,r)}}};const NA=["left","top","right","bottom"];function Cc(t,e){return t.filter(n=>n.pos===e)}function l8(t,e){return t.filter(n=>NA.indexOf(n.pos)===-1&&n.box.axis===e)}function Pc(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function Gee(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function Kee(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!NA.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function Qee(t,e){const n=Kee(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function Yee(t){const e=Gee(t),n=Pc(e.filter(c=>c.box.fullSize),!0),r=Pc(Cc(e,"left"),!0),i=Pc(Cc(e,"right")),s=Pc(Cc(e,"top"),!0),o=Pc(Cc(e,"bottom")),a=l8(e,"x"),l=l8(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Cc(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function c8(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function DA(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Xee(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!Re(i)){n.size&&(t[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[i]+=n.size}s.getPadding&&DA(o,s.getPadding());const a=Math.max(0,e.outerWidth-c8(o,t,"left","right")),l=Math.max(0,e.outerHeight-c8(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Jee(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Zee(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Xc(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Zee(a.horizontal,e));const{same:h,other:d}=Xee(e,n,a,r);c|=h&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&Xc(i,e,n,r)||u}function wf(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function u8(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;Nh(c.start)&&(o=c.start),l.fullSize?wf(l,i.left,o,n.outerWidth-i.right-i.left,d):wf(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;Nh(c.start)&&(s=c.start),l.fullSize?wf(l,s,i.top,d,n.outerHeight-i.bottom-i.top):wf(l,s,e.top+c.placed,d,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var an={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=hn(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=Yee(t.boxes),l=a.vertical,c=a.horizontal;Oe(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,_)=>_.box.options&&_.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);DA(d,hn(r));const f=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),p=Qee(l.concat(c),h);Xc(a.fullSize,f,h,p),Xc(l,f,h,p),Xc(c,f,h,p)&&Xc(l,f,h,p),Jee(f),u8(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,u8(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Oe(a.chartArea,g=>{const _=g.box;Object.assign(_,t.chartArea),_.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class OA{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class ete extends OA{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const sp="$chartjs",tte={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},h8=t=>t===null||t==="";function nte(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[sp]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",h8(i)){const s=G7(t,"width");s!==void 0&&(t.width=s)}if(h8(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=G7(t,"height");s!==void 0&&(t.height=s)}return t}const LA=iee?{passive:!0}:!1;function rte(t,e,n){t&&t.addEventListener(e,n,LA)}function ite(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,LA)}function ste(t,e){const n=tte[t.type]||t.type,{x:r,y:i}=to(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function v0(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function ote(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||v0(a.addedNodes,r),o=o&&!v0(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function ate(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||v0(a.removedNodes,r),o=o&&!v0(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Lh=new Map;let d8=0;function MA(){const t=window.devicePixelRatio;t!==d8&&(d8=t,Lh.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function lte(t,e){Lh.size||window.addEventListener("resize",MA),Lh.set(t,e)}function cte(t){Lh.delete(t),Lh.size||window.removeEventListener("resize",MA)}function ute(t,e,n){const r=t.canvas,i=r&&T9(r);if(!i)return;const s=dA((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),lte(t,s),o}function x1(t,e,n){n&&n.disconnect(),e==="resize"&&cte(t)}function hte(t,e,n){const r=t.canvas,i=dA(s=>{t.ctx!==null&&n(ste(s,t))},t);return rte(r,e,i),i}class dte extends OA{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(nte(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[sp])return!1;const r=n[sp].initial;["height","width"].forEach(s=>{const o=r[s];Ne(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[sp],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:ote,detach:ate,resize:ute}[n]||hte;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:x1,detach:x1,resize:x1}[n]||ite)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return ree(e,n,r,i)}isAttached(e){const n=T9(e);return!!(n&&n.isConnected)}}function fte(t){return!E9()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?ete:dte}class kr{constructor(){q(this,"x");q(this,"y");q(this,"active",!1);q(this,"options");q(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Nl(this.x)&&Nl(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}q(kr,"defaults",{}),q(kr,"defaultRoutes");function pte(t,e){const n=t.options.ticks,r=gte(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?yte(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return _te(e,c,s,o/i),c;const u=mte(s,e,i);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(bf(e,c,u,Ne(f)?0:a-f,a),h=0,d=o-1;h<d;h++)bf(e,c,u,s[h],s[h+1]);return bf(e,c,u,l,Ne(f)?e.length:l+f),c}return bf(e,c,u),c}function gte(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function mte(t,e,n){const r=vte(t),i=e.length/n;if(!r)return Math.max(i,1);const s=aZ(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function yte(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function _te(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function bf(t,e,n,r,i){const s=_e(r,0),o=Math.min(_e(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function vte(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const wte=t=>t==="left"?"right":t==="right"?"left":t,f8=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,p8=(t,e)=>Math.min(e||t,t);function g8(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function bte(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function Ete(t,e){Oe(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Nc(t){return t.drawTicks?t.tickLength:0}function m8(t,e){if(!t.display)return 0;const n=Dt(t.font,e),r=hn(t.padding);return(Ye(t.text)?t.text.length:1)*n.lineHeight+r.height}function Tte(t,e){return Ws(t,{scale:e,type:"scale"})}function Ste(t,e,n){return Ws(t,{tick:n,index:e,type:"tick"})}function Ite(t,e,n){let r=m9(t);return(n&&e!=="right"||!n&&e==="right")&&(r=wte(r)),r}function xte(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,d,f,p;const g=o-i,_=a-s;if(t.isHorizontal()){if(f=sn(r,s,a),Re(n)){const y=Object.keys(n)[0],m=n[y];p=u[y].getPixelForValue(m)+g-e}else n==="center"?p=(c.bottom+c.top)/2+g-e:p=f8(t,n,e);d=a-s}else{if(Re(n)){const y=Object.keys(n)[0],m=n[y];f=u[y].getPixelForValue(m)-_+e}else n==="center"?f=(c.left+c.right)/2-_+e:f=f8(t,n,e);p=sn(r,o,i),h=n==="left"?-St:St}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class ca extends kr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Un(e,Number.POSITIVE_INFINITY),n=Un(n,Number.NEGATIVE_INFINITY),r=Un(r,Number.POSITIVE_INFINITY),i=Un(i,Number.NEGATIVE_INFINITY),{min:Un(e,r),max:Un(n,i),minDefined:gt(e),maxDefined:gt(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Un(n,Un(r,n)),max:Un(r,Un(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){je(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=LZ(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?g8(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=pte(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){je(this.options.afterUpdate,[this])}beforeSetDimensions(){je(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){je(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),je(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){je(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=je(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){je(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){je(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=p8(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=Bt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),h+6>a&&(a=f/(r-(e.offset?.5:1)),l=this.maxHeight-Nc(e.grid)-n.padding-m8(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=p9(Math.min(Math.asin(Bt((u.highest.height+6)/a,-1,1)),Math.asin(Bt(l/c,-1,1))-Math.asin(Bt(d/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){je(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){je(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=m8(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Nc(s)+l):(e.height=this.maxHeight,e.width=Nc(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=r.padding*2,p=vr(this.labelRotation),g=Math.cos(p),_=Math.sin(p);if(a){const y=r.mirror?0:_*h.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=r.mirror?0:g*h.width+_*d.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,_,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=i*e.width,f=r*n.height):(d=r*e.height,f=i*n.width):s==="start"?f=n.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){je(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Ne(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=g8(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/p8(n,r));let c=0,u=0,h,d,f,p,g,_,y,m,v,w,E;for(h=0;h<n;h+=l){if(p=e[h].label,g=this._resolveTickFontOptions(h),i.font=_=g.string,y=s[_]=s[_]||{data:{},gc:[]},m=g.lineHeight,v=w=0,!Ne(p)&&!Ye(p))v=y0(i,y.data,y.gc,v,p),w=m;else if(Ye(p))for(d=0,f=p.length;d<f;++d)E=p[d],!Ne(E)&&!Ye(E)&&(v=y0(i,y.data,y.gc,v,E),w+=m);o.push(v),a.push(w),c=Math.max(v,c),u=Math.max(w,u)}Ete(s,n);const T=o.indexOf(c),S=a.indexOf(u),R=V=>({width:o[V]||0,height:a[V]||0});return{first:R(0),last:R(n-1),widest:R(T),highest:R(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return uZ(this._alignToPixels?Ks(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Ste(this.getContext(),e,r))}return this.$context||(this.$context=Tte(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=vr(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=Nc(s),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,_=g/2,y=function(D){return Ks(r,D,g)};let m,v,w,E,T,S,R,V,N,K,ne,he;if(o==="top")m=y(this.bottom),S=this.bottom-d,V=m-_,K=y(e.top)+_,he=e.bottom;else if(o==="bottom")m=y(this.top),K=e.top,he=y(e.bottom)-_,S=m+_,V=this.top+d;else if(o==="left")m=y(this.right),T=this.right-d,R=m-_,N=y(e.left)+_,ne=e.right;else if(o==="right")m=y(this.left),N=e.left,ne=y(e.right)-_,T=m+_,R=this.left+d;else if(n==="x"){if(o==="center")m=y((e.top+e.bottom)/2+.5);else if(Re(o)){const D=Object.keys(o)[0],Q=o[D];m=y(this.chart.scales[D].getPixelForValue(Q))}K=e.top,he=e.bottom,S=m+_,V=S+d}else if(n==="y"){if(o==="center")m=y((e.left+e.right)/2);else if(Re(o)){const D=Object.keys(o)[0],Q=o[D];m=y(this.chart.scales[D].getPixelForValue(Q))}T=m-_,R=T-d,N=e.left,ne=e.right}const be=_e(i.ticks.maxTicksLimit,h),I=Math.max(1,Math.ceil(h/be));for(v=0;v<h;v+=I){const D=this.getContext(v),Q=s.setContext(D),O=a.setContext(D),U=Q.lineWidth,M=Q.color,ie=O.dash||[],k=O.dashOffset,B=Q.tickWidth,j=Q.tickColor,ce=Q.tickBorderDash||[],X=Q.tickBorderDashOffset;w=bte(this,v,l),w!==void 0&&(E=Ks(r,w,U),c?T=R=N=ne=E:S=V=K=he=E,f.push({tx1:T,ty1:S,tx2:R,ty2:V,x1:N,y1:K,x2:ne,y2:he,width:U,color:M,borderDash:ie,borderDashOffset:k,tickWidth:B,tickColor:j,tickBorderDash:ce,tickBorderDashOffset:X}))}return this._ticksLength=h,this._borderValue=m,f}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,d=Nc(r.grid),f=d+u,p=h?-u:f,g=-vr(this.labelRotation),_=[];let y,m,v,w,E,T,S,R,V,N,K,ne,he="middle";if(i==="top")T=this.bottom-p,S=this._getXAxisLabelAlignment();else if(i==="bottom")T=this.top+p,S=this._getXAxisLabelAlignment();else if(i==="left"){const I=this._getYAxisLabelAlignment(d);S=I.textAlign,E=I.x}else if(i==="right"){const I=this._getYAxisLabelAlignment(d);S=I.textAlign,E=I.x}else if(n==="x"){if(i==="center")T=(e.top+e.bottom)/2+f;else if(Re(i)){const I=Object.keys(i)[0],D=i[I];T=this.chart.scales[I].getPixelForValue(D)+f}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")E=(e.left+e.right)/2-f;else if(Re(i)){const I=Object.keys(i)[0],D=i[I];E=this.chart.scales[I].getPixelForValue(D)}S=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?he="top":l==="end"&&(he="bottom"));const be=this._getLabelSizes();for(y=0,m=a.length;y<m;++y){v=a[y],w=v.label;const I=s.setContext(this.getContext(y));R=this.getPixelForTick(y)+s.labelOffset,V=this._resolveTickFontOptions(y),N=V.lineHeight,K=Ye(w)?w.length:1;const D=K/2,Q=I.color,O=I.textStrokeColor,U=I.textStrokeWidth;let M=S;o?(E=R,S==="inner"&&(y===m-1?M=this.options.reverse?"left":"right":y===0?M=this.options.reverse?"right":"left":M="center"),i==="top"?c==="near"||g!==0?ne=-K*N+N/2:c==="center"?ne=-be.highest.height/2-D*N+N:ne=-be.highest.height+N/2:c==="near"||g!==0?ne=N/2:c==="center"?ne=be.highest.height/2-D*N:ne=be.highest.height-K*N,h&&(ne*=-1),g!==0&&!I.showLabelBackdrop&&(E+=N/2*Math.sin(g))):(T=R,ne=(1-K)*N/2);let ie;if(I.showLabelBackdrop){const k=hn(I.backdropPadding),B=be.heights[y],j=be.widths[y];let ce=ne-k.top,X=0-k.left;switch(he){case"middle":ce-=B/2;break;case"bottom":ce-=B;break}switch(S){case"center":X-=j/2;break;case"right":X-=j;break;case"inner":y===m-1?X-=j:y>0&&(X-=j/2);break}ie={left:X,top:ce,width:j+k.width,height:B+k.height,color:I.backdropColor}}_.push({label:w,font:V,textOffset:ne,options:{rotation:g,color:Q,strokeColor:O,strokeWidth:U,textAlign:M,textBaseline:he,translation:[E,T],backdrop:ie}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-vr(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=Ks(e,this.left,o)-o/2,u=Ks(e,this.right,a)+a/2,h=d=l):(h=Ks(e,this.top,o)-o/2,d=Ks(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&om(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Qo(r,c,0,u,l,a)}i&&am(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Dt(r.font),o=hn(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Re(n)?(l+=o.bottom,Ye(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=xte(this,l,n,a);Qo(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:d,textAlign:Ite(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=_e(e.grid&&e.grid.z,-1),i=_e(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ca.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Dt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ef{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Ate(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,kte(e,o,r),this.override&&mt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in mt[i]&&(delete mt[i][r],this.override&&delete Ko[r])}}function kte(t,e,n){const r=Ph(Object.create(null),[n?mt.get(n):{},mt.get(e),t.defaults]);mt.set(e,r),t.defaultRoutes&&Rte(e,t.defaultRoutes),t.descriptors&&mt.describe(e,t.descriptors)}function Rte(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");mt.route(s,i,l,a)})}function Ate(t){return"id"in t&&"defaults"in t}class Cte{constructor(){this.controllers=new Ef(Er,"datasets",!0),this.elements=new Ef(kr,"elements"),this.plugins=new Ef(Object,"plugins"),this.scales=new Ef(ca,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Oe(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=f9(e);je(r["before"+i],[],r),n[e](r),je(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Pr=new Cte;class Pte{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(je(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Ne(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=_e(r.options&&r.options.plugins,{}),s=Nte(r);return i===!1&&!n?[]:Ote(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function Nte(t){const e={},n=[],r=Object.keys(Pr.plugins.items);for(let s=0;s<r.length;s++)n.push(Pr.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function Dte(t,e){return!e&&t===!1?null:t===!0?{}:t}function Ote(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=Dte(r[l],i);c!==null&&s.push({plugin:a,options:Lte(t.config,{plugin:a,local:n[l]},c,o)})}return s}function Lte(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Fy(t,e){const n=mt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Mte(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Vte(t,e){return t===e?"_index_":"_value_"}function y8(t){if(t==="x"||t==="y"||t==="r")return t}function Fte(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function By(t,...e){if(y8(t))return t;for(const n of e){const r=n.axis||Fte(n.position)||t.length>1&&y8(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function _8(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Bte(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return _8(t,"x",n[0])||_8(t,"y",n[0])}return{}}function $te(t,e){const n=Ko[t.type]||{scales:{}},r=e.scales||{},i=Fy(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Re(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=By(o,a,Bte(o,t),mt.scales[a.type]),c=Vte(l,i),u=n.scales||{};s[o]=Au(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Fy(a,e),u=(Ko[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=Mte(h,l),f=o[d+"AxisID"]||d;s[f]=s[f]||Object.create(null),Au(s[f],[{axis:d},r[f],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Au(a,[mt.scales[a.type],mt.scale])}),s}function VA(t){const e=t.options||(t.options={});e.plugins=_e(e.plugins,{}),e.scales=$te(t,e)}function FA(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Ute(t){return t=t||{},t.data=FA(t.data),VA(t),t}const v8=new Map,BA=new Set;function Tf(t,e){let n=v8.get(t);return n||(n=e(),v8.set(t,n),BA.add(n)),n}const Dc=(t,e,n)=>{const r=Rs(e,n);r!==void 0&&t.add(r)};class jte{constructor(e){this._config=Ute(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=FA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),VA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Tf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Tf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Tf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Tf(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>Dc(l,e,h))),u.forEach(h=>Dc(l,i,h)),u.forEach(h=>Dc(l,Ko[s]||{},h)),u.forEach(h=>Dc(l,mt,h)),u.forEach(h=>Dc(l,Ly,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),BA.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ko[n]||{},mt.datasets[n]||{},{type:n},mt,Ly]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=w8(this._resolverCache,e,i);let l=o;if(Wte(o,n)){s.$shared=!1,r=As(r)?r():r;const c=this.createResolver(e,r,a);l=Dl(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=w8(this._resolverCache,e,r);return Re(n)?Dl(s,n,void 0,i):s}}function w8(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:v9(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const zte=t=>Re(t)&&Object.getOwnPropertyNames(t).some(e=>As(t[e]));function Wte(t,e){const{isScriptable:n,isIndexable:r}=_A(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(As(a)||zte(a))||o&&Ye(a))return!0}return!1}var Hte="4.4.2";const qte=["top","bottom","left","right","chartArea"];function b8(t,e){return t==="top"||t==="bottom"||qte.indexOf(t)===-1&&e==="x"}function E8(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function T8(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),je(n&&n.onComplete,[t],e)}function Gte(t){const e=t.chart,n=e.options.animation;je(n&&n.onProgress,[t],e)}function $A(t){return E9()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const op={},S8=t=>{const e=$A(t);return Object.values(op).filter(n=>n.canvas===e).pop()};function Kte(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function Qte(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function Sf(t,e,n){return t.options.clip?t[n]:e[n]}function Yte(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Sf(n,e,"left"),right:Sf(n,e,"right"),top:Sf(r,e,"top"),bottom:Sf(r,e,"bottom")}:e}class li{static register(...e){Pr.add(...e),I8()}static unregister(...e){Pr.remove(...e),I8()}constructor(e,n){const r=this.config=new jte(n),i=$A(e),s=S8(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||fte(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=JJ(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Pte,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pZ(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],op[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ri.listen(this,"complete",T8),ri.listen(this,"progress",Gte),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Ne(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Pr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():q7(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return z7(this.canvas,this.ctx),this}stop(){return ri.stop(this),this}resize(e,n){ri.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,q7(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),je(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Oe(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=By(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Oe(s,o=>{const a=o.options,l=a.id,c=By(l,a),u=_e(a.type,o.dtype);(a.position===void 0||b8(a.position,c)!==b8(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{const d=Pr.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),Oe(i,(o,a)=>{o||delete r[a]}),Oe(r,o=>{an.configure(this,o,o.options),an.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(E8("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Fy(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Pr.getController(a),{datasetElementType:c,dataElementType:u}=mt.datasets[a];Object.assign(l,{dataElementType:Pr.getElement(u),datasetElementType:c&&Pr.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Oe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Oe(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(E8("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Oe(this.scales,e=>{an.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!O7(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;Kte(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!O7(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;an.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Oe(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,As(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ri.has(this)?this.attached&&!ri.running(this)&&ri.start(this):(this.draw(),T8({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=Yte(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&om(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&am(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return mi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=qee.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Ws(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);Nh(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ri.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),z7(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete op[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Oe(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Oe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Oe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!p0(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=iZ(e),c=Qte(e,this._lastEvent,r,l);r&&(this._lastEvent=null,je(s.onHover,[e,a,this],this),l&&je(s.onClick,[e,a,this],this));const u=!p0(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}q(li,"defaults",mt),q(li,"instances",op),q(li,"overrides",Ko),q(li,"registry",Pr),q(li,"version",Hte),q(li,"getChart",S8);function I8(){return Oe(li.instances,t=>t._plugins.invalidate())}function Xte(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+St,r-St),t.closePath(),t.clip()}function Jte(t){return _9(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Zte(t,e,n,r){const i=Jte(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return Bt(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Bt(i.innerStart,0,o),innerEnd:Bt(i.innerEnd,0,o)}}function Ea(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function w0(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+r+n-c,0),d=u>0?u+r+n+c:0;let f=0;const p=i-l;if(r){const I=u>0?u-r:0,D=h>0?h-r:0,Q=(I+D)/2,O=Q!==0?p*Q/(Q+r):p;f=(p-O)/2}const g=Math.max(.001,p*h-n/Ze)/h,_=(p-g)/2,y=l+_+f,m=i-_-f,{outerStart:v,outerEnd:w,innerStart:E,innerEnd:T}=Zte(e,d,h,m-y),S=h-v,R=h-w,V=y+v/S,N=m-w/R,K=d+E,ne=d+T,he=y+E/K,be=m-T/ne;if(t.beginPath(),s){const I=(V+N)/2;if(t.arc(o,a,h,V,I),t.arc(o,a,h,I,N),w>0){const U=Ea(R,N,o,a);t.arc(U.x,U.y,w,N,m+St)}const D=Ea(ne,m,o,a);if(t.lineTo(D.x,D.y),T>0){const U=Ea(ne,be,o,a);t.arc(U.x,U.y,T,m+St,be+Math.PI)}const Q=(m-T/d+(y+E/d))/2;if(t.arc(o,a,d,m-T/d,Q,!0),t.arc(o,a,d,Q,y+E/d,!0),E>0){const U=Ea(K,he,o,a);t.arc(U.x,U.y,E,he+Math.PI,y-St)}const O=Ea(S,y,o,a);if(t.lineTo(O.x,O.y),v>0){const U=Ea(S,V,o,a);t.arc(U.x,U.y,v,y-St,V)}}else{t.moveTo(o,a);const I=Math.cos(V)*h+o,D=Math.sin(V)*h+a;t.lineTo(I,D);const Q=Math.cos(N)*h+o,O=Math.sin(N)*h+a;t.lineTo(Q,O)}t.closePath()}function ene(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){w0(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%Je||Je))}return w0(t,e,n,r,l,i),t.fill(),l}function tne(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=d,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(s){w0(t,e,n,r,p,i);for(let g=0;g<s;++g)t.stroke();isNaN(a)||(p=o+(a%Je||Je))}f&&Xte(t,e,p),s||(w0(t,e,n,r,p,i),t.stroke())}class Jc extends kr{constructor(n){super();q(this,"circumference");q(this,"endAngle");q(this,"fullCircles");q(this,"innerRadius");q(this,"outerRadius");q(this,"pixelMargin");q(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=lA(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,g=_e(d,c-l)>=Je||Dh(o,l,c),_=pi(a,u+f,h+f);return g&&_}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,h=(s+o)/2,d=(a+l+u+c)/2;return{x:r+Math.cos(h)*d,y:i+Math.sin(h)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Je?Math.floor(i/Je):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Ze,i||0)),u=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,ene(n,this,u,o,a),tne(n,this,u,o,a),n.restore()}}q(Jc,"id","arc"),q(Jc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),q(Jc,"defaultRoutes",{backgroundColor:"backgroundColor"}),q(Jc,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function UA(t,e,n=e){t.lineCap=_e(n.borderCapStyle,e.borderCapStyle),t.setLineDash(_e(n.borderDash,e.borderDash)),t.lineDashOffset=_e(n.borderDashOffset,e.borderDashOffset),t.lineJoin=_e(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=_e(n.borderWidth,e.borderWidth),t.strokeStyle=_e(n.borderColor,e.borderColor)}function nne(t,e,n){t.lineTo(n.x,n.y)}function rne(t){return t.stepped?xZ:t.tension||t.cubicInterpolationMode==="monotone"?kZ:nne}function jA(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function ine(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=jA(i,n,r),u=rne(s);let{move:h=!0,reverse:d}=r||{},f,p,g;for(f=0;f<=c;++f)p=i[(a+(d?c-f:f))%o],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):u(t,g,p,d,s.stepped),g=p);return l&&(p=i[(a+(d?c:0))%o],u(t,g,p,d,s.stepped)),!!l}function sne(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=jA(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,h=0,d,f,p,g,_,y;const m=w=>(o+(c?a-w:w))%s,v=()=>{g!==_&&(t.lineTo(u,_),t.lineTo(u,g),t.lineTo(u,y))};for(l&&(f=i[m(0)],t.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[m(d)],f.skip)continue;const w=f.x,E=f.y,T=w|0;T===p?(E<g?g=E:E>_&&(_=E),u=(h*u+w)/++h):(v(),t.lineTo(w,E),p=T,h=0,g=_=E),y=E}v()}function $y(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?sne:ine}function one(t){return t.stepped?see:t.tension||t.cubicInterpolationMode==="monotone"?oee:no}function ane(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),UA(t,e.options),t.stroke(i)}function lne(t,e,n,r){const{segments:i,options:s}=e,o=$y(e);for(const a of i)UA(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const cne=typeof Path2D=="function";function une(t,e,n,r){cne&&!e.options.segment?ane(t,e,n,r):lne(t,e,n,r)}class es extends kr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;XZ(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=dee(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=RA(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=one(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=s[h],p=s[d];if(f===p){a.push(f);continue}const g=Math.abs((i-f[n])/(p[n]-f[n])),_=l(f,p,g,r.stepped);_[n]=e[n],a.push(_)}return a.length===1?a[0]:a}pathSegment(e,n,r){return $y(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=$y(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),une(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}q(es,"id","line"),q(es,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),q(es,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),q(es,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function x8(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class ap extends kr{constructor(n){super();q(this,"parsed");q(this,"skip");q(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return x8(this,n,"x",r)}inYRange(n,r){return x8(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!mi(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,My(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}q(ap,"id","point"),q(ap,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),q(ap,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function zA(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=s/2,a=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function ts(t,e,n,r){return t?0:Bt(e,n,r)}function hne(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=yA(r);return{t:ts(i.top,s.top,0,n),r:ts(i.right,s.right,0,e),b:ts(i.bottom,s.bottom,0,n),l:ts(i.left,s.left,0,e)}}function dne(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=xo(i),o=Math.min(e,n),a=t.borderSkipped,l=r||Re(i);return{topLeft:ts(!l||a.top||a.left,s.topLeft,0,o),topRight:ts(!l||a.top||a.right,s.topRight,0,o),bottomLeft:ts(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:ts(!l||a.bottom||a.right,s.bottomRight,0,o)}}function fne(t){const e=zA(t),n=e.right-e.left,r=e.bottom-e.top,i=hne(t,n/2,r/2),s=dne(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function k1(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&zA(t,r);return a&&(i||pi(e,a.left,a.right))&&(s||pi(n,a.top,a.bottom))}function pne(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function gne(t,e){t.rect(e.x,e.y,e.w,e.h)}function R1(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class lp extends kr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=fne(this),a=pne(o.radius)?Oh:gne;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,R1(o,n,s)),e.clip(),a(e,R1(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,R1(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return k1(this,e,n,r)}inXRange(e,n){return k1(this,e,null,n)}inYRange(e,n){return k1(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}q(lp,"id","bar"),q(lp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),q(lp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var mne=Object.freeze({__proto__:null,ArcElement:Jc,BarElement:lp,LineElement:es,PointElement:ap});const Uy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],k8=Uy.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function WA(t){return Uy[t%Uy.length]}function HA(t){return k8[t%k8.length]}function yne(t,e){return t.borderColor=WA(e),t.backgroundColor=HA(e),++e}function _ne(t,e){return t.backgroundColor=t.data.map(()=>WA(e++)),e}function vne(t,e){return t.backgroundColor=t.data.map(()=>HA(e++)),e}function wne(t){let e=0;return(n,r)=>{const i=t.getDatasetMeta(r).controller;i instanceof _o?e=_ne(n,e):i instanceof Du?e=vne(n,e):i&&(e=yne(n,e))}}function R8(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function bne(t){return t&&(t.borderColor||t.backgroundColor)}var Ene={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=t.config,{elements:s}=i;if(!n.forceOverride&&(R8(r)||bne(i)||s&&R8(s)))return;const o=wne(t);r.forEach(o)}};function Tne(t,e,n,r,i){const s=i.samples||r;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const c=e+n-1;let u=e,h,d,f,p,g;for(o[l++]=t[u],h=0;h<s-2;h++){let _=0,y=0,m;const v=Math.floor((h+1)*a)+1+e,w=Math.min(Math.floor((h+2)*a)+1,n)+e,E=w-v;for(m=v;m<w;m++)_+=t[m].x,y+=t[m].y;_/=E,y/=E;const T=Math.floor(h*a)+1+e,S=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:R,y:V}=t[u];for(f=p=-1,m=T;m<S;m++)p=.5*Math.abs((R-_)*(t[m].y-V)-(R-t[m].x)*(y-V)),p>f&&(f=p,d=t[m],g=m);o[l++]=d,u=g}return o[l++]=t[c],o}function Sne(t,e,n,r){let i=0,s=0,o,a,l,c,u,h,d,f,p,g;const _=[],y=e+n-1,m=t[e].x,w=t[y].x-m;for(o=e;o<e+n;++o){a=t[o],l=(a.x-m)/w*r,c=a.y;const E=l|0;if(E===u)c<p?(p=c,h=o):c>g&&(g=c,d=o),i=(s*i+a.x)/++s;else{const T=o-1;if(!Ne(h)&&!Ne(d)){const S=Math.min(h,d),R=Math.max(h,d);S!==f&&S!==T&&_.push({...t[S],x:i}),R!==f&&R!==T&&_.push({...t[R],x:i})}o>0&&T!==f&&_.push(t[T]),_.push(a),u=E,s=0,p=g=c,h=d=f=o}}return _}function qA(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function A8(t){t.data.datasets.forEach(e=>{qA(e)})}function Ine(t,e){const n=e.length;let r=0,i;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=Bt(gi(e,s.axis,o).lo,0,n-1)),c?i=Bt(gi(e,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var xne={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){A8(t);return}const r=t.width;t.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,l=t.getDatasetMeta(s),c=o||i.data;if(Yc([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:h,count:d}=Ine(l,c);const f=n.threshold||4*r;if(d<=f){qA(i);return}Ne(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=Tne(c,h,d,r,n);break;case"min-max":p=Sne(c,h,d,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=p})},destroy(t){A8(t)}};function kne(t,e,n){const r=t.segments,i=t.points,s=e.points,o=[];for(const a of r){let{start:l,end:c}=a;c=I9(l,c,i);const u=jy(n,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const h=RA(e,u);for(const d of h){const f=jy(n,s[d.start],s[d.end],d.loop),p=kA(a,i,f);for(const g of p)o.push({source:g,target:d,start:{[n]:C8(u,f,"start",Math.max)},end:{[n]:C8(u,f,"end",Math.min)}})}}return o}function jy(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=zn(i),s=zn(s)),{property:t,start:i,end:s}}function Rne(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=I9(o,a,i);const l=i[o],c=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function I9(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function C8(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function GA(t,e){let n=[],r=!1;return Ye(t)?(r=!0,n=t):n=Rne(t,e),n.length?new es({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function P8(t){return t&&t.fill!==!1}function Ane(t,e,n){let i=t[e].fill;const s=[e];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!gt(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function Cne(t,e,n){const r=One(t);if(Re(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return gt(i)&&Math.floor(i)===i?Pne(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Pne(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function Nne(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Re(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Dne(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Re(t)?r=t.value:r=e.getBaseValue(),r}function One(t){const e=t.options,n=e.fill;let r=_e(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Lne(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=Mne(e,n);a.push(GA({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)Vne(i,o[u],a)}return new es({points:i,options:{}})}function Mne(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function Vne(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=Fne(s,e,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(t.push(l),!a)break}}t.push(...r)}function Fne(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],h=o[u.start][n],d=o[u.end][n];if(pi(i,h,d)){a=i===h,l=i===d;break}}return{first:a,last:l,point:r}}class KA{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:Je},e.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function Bne(t){const{chart:e,fill:n,line:r}=t;if(gt(n))return $ne(e,n);if(n==="stack")return Lne(t);if(n==="shape")return!0;const i=Une(t);return i instanceof KA?i:GA(i,r)}function $ne(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function Une(t){return(t.scale||{}).getPointPositionForValue?zne(t):jne(t)}function jne(t){const{scale:e={},fill:n}=t,r=Nne(n,e);if(gt(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function zne(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=Dne(n,e,s),a=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,s);return new KA({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function A1(t,e,n){const r=Bne(e),{line:i,scale:s,axis:o}=e,a=i.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};r&&i.points.length&&(om(t,n),Wne(t,{line:i,target:r,above:u,below:h,area:n,scale:s,axis:o}),am(t))}function Wne(t,e){const{line:n,target:r,above:i,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==i&&(N8(t,r,o.top),D8(t,{line:n,target:r,color:i,scale:a,property:l}),t.restore(),t.save(),N8(t,r,o.bottom)),D8(t,{line:n,target:r,color:s,scale:a,property:l}),t.restore()}function N8(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:c}=a,u=i[l],h=i[I9(l,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function D8(t,e){const{line:n,target:r,property:i,color:s,scale:o}=e,a=kne(n,r,i);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:d=s}={}}=l,f=r!==!0;t.save(),t.fillStyle=d,Hne(t,o,f&&jy(i,u,h)),t.beginPath();const p=!!n.pathSegment(t,l);let g;if(f){p?t.closePath():O8(t,r,h,i);const _=!!r.pathSegment(t,c,{move:p,reverse:!0});g=p&&_,g||O8(t,r,u,i)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function Hne(t,e,n){const{top:r,bottom:i}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,r,a-o,i-r),t.clip())}function O8(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var qne={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof es&&(l={visible:t.isDatasetVisible(o),index:o,fill:Cne(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=Ane(i,o,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&A1(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;P8(s)&&A1(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!P8(r)||n.drawTime!=="beforeDatasetDraw"||A1(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const L8=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Gne=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class M8 extends kr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=je(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Dt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=L8(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((p,g)=>{const _=r+n/2+s.measureText(p.text).width;(g===0||c[c.length-1]+_+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,f+=u,d++),l[g]={left:0,top:f,row:d,width:_,height:i},c[c.length-1]+=_+a}),h}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,p=0,g=0;return this.legendItems.forEach((_,y)=>{const{itemWidth:m,itemHeight:v}=Kne(r,n,s,_,i);y>0&&f+v+2*a>u&&(h+=d+a,c.push({width:d,height:f}),p+=d+a,g++,d=f=0),l[y]={left:p,top:f,col:g,width:m,height:v},d=Math.max(d,m),f+=v+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=nl(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=sn(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=sn(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=sn(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=sn(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;om(e,this),this._draw(),am(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=mt.color,l=nl(e.rtl,this.left,this.width),c=Dt(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:_}=L8(o,h),y=function(T,S,R){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();const V=_e(R.lineWidth,1);if(i.fillStyle=_e(R.fillStyle,a),i.lineCap=_e(R.lineCap,"butt"),i.lineDashOffset=_e(R.lineDashOffset,0),i.lineJoin=_e(R.lineJoin,"miter"),i.lineWidth=V,i.strokeStyle=_e(R.strokeStyle,a),i.setLineDash(_e(R.lineDash,[])),o.usePointStyle){const N={radius:g*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:V},K=l.xPlus(T,p/2),ne=S+d;mA(i,N,K,ne,o.pointStyleWidth&&p)}else{const N=S+Math.max((h-g)/2,0),K=l.leftForLtr(T,p),ne=xo(R.borderRadius);i.beginPath(),Object.values(ne).some(he=>he!==0)?Oh(i,{x:K,y:N,w:p,h:g,radius:ne}):i.rect(K,N,p,g),i.fill(),V!==0&&i.stroke()}i.restore()},m=function(T,S,R){Qo(i,R.text,T,S+_/2,c,{strikethrough:R.hidden,textAlign:l.textAlign(R.textAlign)})},v=this.isHorizontal(),w=this._computeTitleHeight();v?f={x:sn(s,this.left+u,this.right-r[0]),y:this.top+u+w,line:0}:f={x:this.left+u,y:sn(s,this.top+w+u,this.bottom-n[0].height),line:0},SA(this.ctx,e.textDirection);const E=_+u;this.legendItems.forEach((T,S)=>{i.strokeStyle=T.fontColor,i.fillStyle=T.fontColor;const R=i.measureText(T.text).width,V=l.textAlign(T.textAlign||(T.textAlign=o.textAlign)),N=p+d+R;let K=f.x,ne=f.y;l.setWidth(this.width),v?S>0&&K+N+u>this.right&&(ne=f.y+=E,f.line++,K=f.x=sn(s,this.left+u,this.right-r[f.line])):S>0&&ne+E>this.bottom&&(K=f.x=K+n[f.line].width+u,f.line++,ne=f.y=sn(s,this.top+w+u,this.bottom-n[f.line].height));const he=l.x(K);if(y(he,ne,T),K=gZ(V,K+p+d,v?K+N:this.right,e.rtl),m(l.x(K),ne,T),v)f.x+=N+u;else if(typeof T.text!="string"){const be=c.lineHeight;f.y+=QA(T,be)+u}else f.y+=E}),IA(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Dt(n.font),i=hn(n.padding);if(!n.display)return;const s=nl(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=sn(e.align,h,this.right-d);else{const p=this.columnSizes.reduce((g,_)=>Math.max(g,_.height),0);u=c+sn(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=sn(a,h,h+d);o.textAlign=s.textAlign(m9(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Qo(o,n.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,n=Dt(e.font),r=hn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(pi(e,this.left,this.right)&&pi(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],pi(e,i.left,i.left+i.width)&&pi(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Xne(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=Gne(i,r);i&&!s&&je(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&je(n.onHover,[e,r,this],this)}else r&&je(n.onClick,[e,r,this],this)}}function Kne(t,e,n,r,i){const s=Qne(r,t,e,n),o=Yne(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function Qne(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function Yne(t,e,n){let r=t;return typeof e.text!="string"&&(r=QA(e,n)),r}function QA(t,e){const n=t.text?t.text.length:0;return e*n}function Xne(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Jne={id:"legend",_element:M8,start(t,e,n){const r=t.legend=new M8({ctx:t.ctx,options:n,chart:t});an.configure(t,r,n),an.addBox(t,r)},stop(t){an.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;an.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=hn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class x9 extends kr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Ye(r.text)?r.text.length:1;this._padding=hn(r.padding);const s=i*Dt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=sn(a,r,s),h=n+e,c=s-r):(o.position==="left"?(u=r+e,h=sn(a,i,n),l=Ze*-.5):(u=s-e,h=sn(a,n,i),l=Ze*.5),c=i-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Dt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Qo(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:m9(n.align),textBaseline:"middle",translation:[o,a]})}}function Zne(t,e){const n=new x9({ctx:t.ctx,options:e,chart:t});an.configure(t,n,e),an.addBox(t,n),t.titleBlock=n}var ere={id:"title",_element:x9,start(t,e,n){Zne(t,n)},stop(t){const e=t.titleBlock;an.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;an.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const If=new WeakMap;var tre={id:"subtitle",start(t,e,n){const r=new x9({ctx:t.ctx,options:n,chart:t});an.configure(t,r,n),an.addBox(t,r),If.set(t,r)},stop(t){an.removeBox(t,If.get(t)),If.delete(t)},beforeUpdate(t,e,n){const r=If.get(t);an.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Zc={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Oy(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Ar(t,e){return e&&(Ye(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ii(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function nre(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function V8(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Dt(e.bodyFont),c=Dt(e.titleFont),u=Dt(e.footerFont),h=s.length,d=i.length,f=r.length,p=hn(e.padding);let g=p.height,_=0,y=r.reduce((w,E)=>w+E.before.length+E.lines.length+E.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*w+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let m=0;const v=function(w){_=Math.max(_,n.measureText(w).width+m)};return n.save(),n.font=c.string,Oe(t.title,v),n.font=l.string,Oe(t.beforeBody.concat(t.afterBody),v),m=e.displayColors?o+2+e.boxPadding:0,Oe(r,w=>{Oe(w.before,v),Oe(w.lines,v),Oe(w.after,v)}),m=0,n.font=u.string,Oe(t.footer,v),n.restore(),_+=p.width,{width:_,height:g}}function rre(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function ire(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function sre(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),ire(c,t,e,n)&&(c="center"),c}function F8(t,e,n){const r=n.yAlign||e.yAlign||rre(t,n);return{xAlign:n.xAlign||e.xAlign||sre(t,e,n,r),yAlign:r}}function ore(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function are(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function B8(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=xo(o);let p=ore(e,a);const g=are(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,d)+i:a==="right"&&(p+=Math.max(h,f)+i),{x:Bt(p,0,r.width-e.width),y:Bt(g,0,r.height-e.height)}}function xf(t,e,n){const r=hn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function $8(t){return Ar([],ii(t))}function lre(t,e,n){return Ws(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function U8(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const YA={beforeTitle:ni,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:ni,beforeBody:ni,beforeLabel:ni,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ne(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ni,afterBody:ni,beforeFooter:ni,footer:ni,afterFooter:ni};function In(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?YA[e].call(n,r):i}class zy extends kr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new AA(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=lre(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=In(r,"beforeTitle",this,e),s=In(r,"title",this,e),o=In(r,"afterTitle",this,e);let a=[];return a=Ar(a,ii(i)),a=Ar(a,ii(s)),a=Ar(a,ii(o)),a}getBeforeBody(e,n){return $8(In(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return Oe(e,s=>{const o={before:[],lines:[],after:[]},a=U8(r,s);Ar(o.before,ii(In(a,"beforeLabel",this,s))),Ar(o.lines,In(a,"label",this,s)),Ar(o.after,ii(In(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return $8(In(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=In(r,"beforeFooter",this,e),s=In(r,"footer",this,e),o=In(r,"afterFooter",this,e);let a=[];return a=Ar(a,ii(i)),a=Ar(a,ii(s)),a=Ar(a,ii(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(nre(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,r))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,r))),Oe(a,u=>{const h=U8(e.callbacks,u);i.push(In(h,"labelColor",this,u)),s.push(In(h,"labelPointStyle",this,u)),o.push(In(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Zc[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=V8(this,r),c=Object.assign({},a,l),u=F8(this.chart,r,c),h=B8(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=xo(a),{x:d,y:f}=e,{width:p,height:g}=n;let _,y,m,v,w,E;return s==="center"?(w=f+g/2,i==="left"?(_=d,y=_-o,v=w+o,E=w-o):(_=d+p,y=_+o,v=w-o,E=w+o),m=_):(i==="left"?y=d+Math.max(l,u)+o:i==="right"?y=d+p-Math.max(c,h)-o:y=this.caretX,s==="top"?(v=f,w=v-o,_=y-o,m=y+o):(v=f+g,w=v+o,_=y+o,m=y-o),E=v),{x1:_,x2:y,x3:m,y1:v,y2:w,y3:E}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=nl(r.rtl,this.x,this.width);for(e.x=xf(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Dt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=Dt(s.bodyFont),h=xf(this,"left",s),d=i.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+f;if(s.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=i.leftForLtr(d,c)+c/2,y=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,My(e,g,_,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,My(e,g,_,y)}else{e.lineWidth=Re(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(d,c),_=i.leftForLtr(i.xPlus(d,1),c-2),y=xo(o.borderRadius);Object.values(y).some(m=>m!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Oh(e,{x:g,y:p,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Oh(e,{x:_,y:p+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,p,c,l),e.strokeRect(g,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(_,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,h=Dt(r.bodyFont);let d=h.lineHeight,f=0;const p=nl(r.rtl,this.x,this.width),g=function(R){n.fillText(R,p.x(e.x+f),e.y+d/2),e.y+=d+s},_=p.textAlign(o);let y,m,v,w,E,T,S;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=xf(this,_,r),n.fillStyle=r.bodyColor,Oe(this.beforeBody,g),f=a&&_!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,T=i.length;w<T;++w){for(y=i[w],m=this.labelTextColors[w],n.fillStyle=m,Oe(y.before,g),v=y.lines,a&&v.length&&(this._drawColorBox(n,e,w,p,r),d=Math.max(h.lineHeight,l)),E=0,S=v.length;E<S;++E)g(v[E]),d=h.lineHeight;Oe(y.after,g)}f=0,d=h.lineHeight,Oe(this.afterBody,g),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=nl(r.rtl,this.x,this.width);for(e.x=xf(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Dt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=xo(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Zc[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=V8(this,e),l=Object.assign({},o,this._size),c=F8(n,e,l),u=B8(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=hn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),SA(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),IA(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!p0(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!p0(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Zc[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}q(zy,"positioners",Zc);var cre={id:"tooltip",_element:zy,positioners:Zc,afterInit(t,e,n){n&&(t.tooltip=new zy({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:YA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ure=Object.freeze({__proto__:null,Colors:Ene,Decimation:xne,Filler:qne,Legend:Jne,SubTitle:tre,Title:ere,Tooltip:cre});const hre=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function dre(t,e,n,r){const i=t.indexOf(e);if(i===-1)return hre(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const fre=(t,e)=>t===null?null:Bt(Math.round(t),0,e);function j8(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Wy extends ca{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ne(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:dre(r,e,_e(n,e),this._addedLabels),fre(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return j8.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}q(Wy,"id","category"),q(Wy,"defaults",{ticks:{callback:j8}});function pre(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,f=s||1,p=u-1,{min:g,max:_}=e,y=!Ne(o),m=!Ne(a),v=!Ne(c),w=(_-g)/(h+1);let E=M7((_-g)/p/f)*f,T,S,R,V;if(E<1e-14&&!y&&!m)return[{value:g},{value:_}];V=Math.ceil(_/E)-Math.floor(g/E),V>p&&(E=M7(V*E/p/f)*f),Ne(l)||(T=Math.pow(10,l),E=Math.ceil(E*T)/T),i==="ticks"?(S=Math.floor(g/E)*E,R=Math.ceil(_/E)*E):(S=g,R=_),y&&m&&s&&lZ((a-o)/s,E/1e3)?(V=Math.round(Math.min((a-o)/E,u)),E=(a-o)/V,S=o,R=a):v?(S=y?o:S,R=m?a:R,V=c-1,E=(R-S)/V):(V=(R-S)/E,Cu(V,Math.round(V),E/1e3)?V=Math.round(V):V=Math.ceil(V));const N=Math.max(V7(E),V7(S));T=Math.pow(10,Ne(l)?N:l),S=Math.round(S*T)/T,R=Math.round(R*T)/T;let K=0;for(y&&(d&&S!==o?(n.push({value:o}),S<o&&K++,Cu(Math.round((S+K*E)*T)/T,o,z8(o,w,t))&&K++):S<o&&K++);K<V;++K){const ne=Math.round((S+K*E)*T)/T;if(m&&ne>a)break;n.push({value:ne})}return m&&d&&R!==a?n.length&&Cu(n[n.length-1].value,a,z8(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!m||R===a)&&n.push({value:R}),n}function z8(t,e,{horizontal:n,minRotation:r}){const i=vr(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class b0 extends ca{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ne(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=Qr(i),c=Qr(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=pre(i,s);return e.bounds==="ticks"&&aA(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Cd(e,this.chart.options.locale,this.options.ticks.format)}}class Hy extends b0{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=gt(e)?e:0,this.max=gt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=vr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}q(Hy,"id","linear"),q(Hy,"defaults",{ticks:{callback:sm.formatters.numeric}});const Mh=t=>Math.floor(Zi(t)),Ys=(t,e)=>Math.pow(10,Mh(t)+e);function W8(t){return t/Math.pow(10,Mh(t))===1}function H8(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function gre(t,e){const n=e-t;let r=Mh(n);for(;H8(t,e,r)>10;)r++;for(;H8(t,e,r)<10;)r--;return Math.min(r,Mh(t))}function mre(t,{min:e,max:n}){e=Un(t.min,e);const r=[],i=Mh(e);let s=gre(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,s)),d=Un(t.min,Math.round((l+u+h*Math.pow(10,s))*o)/o);for(;d<n;)r.push({value:d,major:W8(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),d=Math.round((l+u+h*Math.pow(10,s))*o)/o;const f=Un(t.max,d);return r.push({value:f,major:W8(f),significand:h}),r}class qy extends ca{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=b0.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return gt(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=gt(e)?Math.max(0,e):null,this.max=gt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!gt(this._userMin)&&(this.min=e===Ys(this.min,0)?Ys(this.min,-1):Ys(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Ys(r,-1)),o(Ys(i,1)))),r<=0&&s(Ys(i,-1)),i<=0&&o(Ys(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=mre(n,this);return e.bounds==="ticks"&&aA(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Cd(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Zi(e),this._valueRange=Zi(this.max)-Zi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Zi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}q(qy,"id","logarithmic"),q(qy,"defaults",{ticks:{callback:sm.formatters.logarithmic,major:{enabled:!0}}});function Gy(t){const e=t.ticks;if(e.display&&t.display){const n=hn(e.backdropPadding);return _e(e.font&&e.font.size,mt.font.size)+n.height}return 0}function yre(t,e,n){return n=Ye(n)?n:[n],{w:IZ(t,e.string,n),h:n.length*e.lineHeight}}function q8(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function _re(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Ze/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),h=Dt(c.font),d=yre(t.ctx,h,t._pointLabels[l]);r[l]=d;const f=zn(t.getIndexAngle(l)+a),p=Math.round(p9(f)),g=q8(p,u.x,d.w,0,180),_=q8(p,u.y,d.h,90,270);vre(n,e,f,g,_)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=Ere(t,r,i)}function vre(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function wre(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,r+i+o,s),c=Math.round(p9(zn(l.angle+St))),u=Ire(l.y,a.h,c),h=Tre(c),d=Sre(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function bre(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(mi({x:n,y:r},e)||mi({x:n,y:s},e)||mi({x:i,y:r},e)||mi({x:i,y:s},e))}function Ere(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Gy(s)/2,additionalAngle:o?Ze/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const h=wre(t,u,l);r.push(h),a==="auto"&&(h.visible=bre(h,c),h.visible&&(c=h))}return r}function Tre(t){return t===0||t===180?"center":t<180?"left":"right"}function Sre(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function Ire(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function xre(t,e,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!Ne(a)){const l=xo(e.borderRadius),c=hn(e.backdropPadding);t.fillStyle=a;const u=r-c.left,h=i-c.top,d=s-r+c.width,f=o-i+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),Oh(t,{x:u,y:h,w:d,h:f,radius:l}),t.fill()):t.fillRect(u,h,d,f)}}function kre(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(t.getPointLabelContext(i));xre(n,o,s);const a=Dt(o.font),{x:l,y:c,textAlign:u}=s;Qo(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function XA(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Je);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function Rre(t,e,n,r,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash),s.lineDashOffset=i.dashOffset,s.beginPath(),XA(t,n,o,r),s.closePath(),s.stroke(),s.restore())}function Are(t,e,n){return Ws(t,{label:n,index:e,type:"pointLabel"})}class eu extends b0{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=hn(Gy(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=gt(e)&&!isNaN(e)?e:0,this.max=gt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Gy(this.options))}generateTickLabels(e){b0.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=je(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?_re(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=Je/(this._pointLabels.length||1),r=this.options.startAngle||0;return zn(e*n+vr(r))}getDistanceFromCenterForValue(e){if(Ne(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Ne(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return Are(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-St+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),XA(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&kre(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=i.setContext(d),p=s.setContext(d);Rre(this,f,l,o,p)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const u=r.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(e.lineWidth=d,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),u=Dt(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=hn(c.backdropPadding);e.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}Qo(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}q(eu,"id","radialLinear"),q(eu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:sm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),q(eu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),q(eu,"descriptors",{angleLines:{_fallback:"grid"}});const cm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},An=Object.keys(cm);function G8(t,e){return t-e}function K8(t,e){if(Ne(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),gt(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Nl(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function Q8(t,e,n,r){const i=An.length;for(let s=An.indexOf(t);s<i-1;++s){const o=cm[An[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return An[s]}return An[i-1]}function Cre(t,e,n,r,i){for(let s=An.length-1;s>=An.indexOf(n);s--){const o=An[s];if(cm[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return An[n?An.indexOf(n):0]}function Pre(t){for(let e=An.indexOf(t)+1,n=An.length;e<n;++e)if(cm[An[e]].common)return An[e]}function Y8(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=g9(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function Nre(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function X8(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:Nre(t,r,i,n)}class Vh extends ca{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new Uee._date(e.adapters.date);i.init(n),Au(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:K8(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=gt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=gt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=dZ(i,s,o);return this._unit=n.unit||(r.autoSkip?Q8(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Cre(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Pre(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),X8(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Bt(n,0,o),r=Bt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||Q8(s.minUnit,n,r,this._getLabelCapacity(n)),a=_e(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Nl(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<r;d=+e.add(d,a,o),f++)Y8(u,d,p);return(d===r||i.bounds==="ticks"||f===1)&&Y8(u,d,p),Object.keys(u).sort(G8).map(g=>+g)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return je(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=r[n],f=c&&h&&d&&d.major;return this._adapter.format(e,i||(f?h:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=vr(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,X8(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(K8(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return uA(e.sort(G8))}}q(Vh,"id","time"),q(Vh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function kf(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=gi(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=gi(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class Ky extends Vh{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=kf(n,this.min),this._tableRange=kf(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(kf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return kf(this._table,r*this._tableRange+this._minPos,!0)}}q(Ky,"id","timeseries"),q(Ky,"defaults",Vh.defaults);var Dre=Object.freeze({__proto__:null,CategoryScale:Wy,LinearScale:Hy,LogarithmicScale:qy,RadialLinearScale:eu,TimeScale:Vh,TimeSeriesScale:Ky});const Ore=[$ee,mne,ure,Dre];li.register(...Ore);const Lre=({crypto:t})=>{const e=L.useRef(null),n=L.useRef(null);return L.useEffect(()=>{const r=e.current;if(r&&t){n.current&&n.current.destroy();const i=r.getContext("2d"),s=Object.values(t.sparkline_in_7d.price).map(o=>parseFloat(o));n.current=new li(i,{type:"line",data:{labels:Array.from({length:168},(o,a)=>a+1),datasets:[{data:s,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,fill:!1,pointRadius:0,tension:.1}]},options:{responsive:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{display:!1,beginAtZero:!1},y:{display:!1,beginAtZero:!0}},elements:{line:{borderWidth:1},point:{radius:0}},hover:{},maintainAspectRatio:!1}})}return()=>{n.current&&n.current.destroy()}},[t]),b.jsx("div",{className:"flex justify-center",children:b.jsx("canvas",{ref:e,width:"100",height:"50"})})},Mre=t=>{const e=t.data;function n(s,o,a){return b.jsxs("div",{children:["$"+i(s),b.jsx("div",{className:"text-slate-400",children:i(s/o)+" "+a.toUpperCase()})]})}function r(s){const o=s<0;s=o?s*-1:s;const a=o?"expand_more":"expand_less",l=o?"text-red-500":"text-green-500";return b.jsxs("div",{className:l+" flex items-center",children:[b.jsx("i",{className:"material-icons w-4 h-4",children:a}),b.jsx("div",{className:"mr-3 ml-3 mt-2 ",children:i(s)})]})}function i(s){let o=s.toFixed(10);return parseFloat(o).toLocaleString()}return b.jsxs("tr",{className:"border-b",children:[b.jsx("td",{className:"py-2 text-center",children:t.index}),b.jsx("td",{className:"py-2",children:b.jsxs("div",{className:"flex justify-start h-[100%] items-center",children:[b.jsx("img",{className:"w-6 h-6 mr-2",loading:"lazy",src:e.image,alt:e.name+" Logo"}),e.name]})}),b.jsx("td",{className:"py-2 text-center",children:"$"+i(e.current_price)}),b.jsx("td",{className:"py-2 md:table-cell hidden text-center",children:r(e.price_change_percentage_1h_in_currency)}),b.jsx("td",{className:"py-2 md:table-cell hidden text-center",children:r(e.price_change_percentage_24h_in_currency)}),b.jsx("td",{className:"py-2 text-center",children:r(e.price_change_percentage_7d_in_currency)}),b.jsx("td",{className:"py-2 md:table-cell hidden text-center",children:"$"+i(e.market_cap)}),b.jsx("td",{className:"py-2 md:table-cell hidden text-end",children:n(e.total_volume,e.current_price,e.symbol)}),b.jsx("td",{className:"py-2 md:table-cell hidden text-center",children:i(e.circulating_supply)+" "+e.symbol.toUpperCase()}),b.jsx("td",{className:"py-2 md:table-cell hidden",children:b.jsx(Lre,{crypto:e})})]})},Vre=t=>{const[e,n]=gs(c9),[r,i]=L.useState([...e.filterdData]),[s,o]=L.useState({field:"",asc:null}),{t:a}=Tn();L.useEffect(()=>{i([...e.filterdData])},[e]);function l(h){if(s.field===h){if(s.asc===!1){i(r.sort((d,f)=>typeof d[h]=="number"?f[h]-d[h]:(""+f[h]).localeCompare(d[h]))),o({field:h,asc:!0});return}i([...e.filterdData]),o({field:"",asc:null});return}i(r.sort((d,f)=>typeof d[h]=="number"?d[h]-f[h]:(""+d[h]).localeCompare(f[h]))),o({field:h,asc:!1})}const c=(h,d)=>b.jsxs("div",{className:"flex justify-center items-center",children:[a(d),u(h)?b.jsx("i",{className:"material-icons mr-2",children:s.asc?"expand_less":"expand_more"}):null]});function u(h){return s.field===h}return b.jsxs("table",{className:"table-hover w-full",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"stickyHeader",children:[b.jsx("th",{className:"m-3 p-3 stickyth bg-white dark:bg-gray-800 ",children:"#"}),b.jsx("th",{onClick:()=>l("name"),className:"m-3 p-3 stickyth bg-white dark:bg-gray-800 ",children:c("name","name")}),b.jsx("th",{onClick:()=>l("current_price"),className:"m-3 p-3 stickyth bg-white dark:bg-gray-800",children:c("current_price","price")}),b.jsx("th",{onClick:()=>l("price_change_percentage_1h_in_currency"),className:"m-3 p-3 stickyth bg-white dark:bg-gray-800  md:table-cell hidden",children:c("price_change_percentage_1h_in_currency","1h%")}),b.jsx("th",{onClick:()=>l("price_change_percentage_24h_in_currency"),className:"m-3 p-3 stickyth bg-white dark:bg-gray-800  md:table-cell hidden",children:c("price_change_percentage_24h_in_currency","24h%")}),b.jsx("th",{onClick:()=>l("price_change_percentage_7d_in_currency"),className:"m-3 p-3 stickyth bg-white dark:bg-gray-800 ",children:c("price_change_percentage_7d_in_currency","7d%")}),b.jsx("th",{onClick:()=>l("market_cap"),className:"m-3 p-3 stickyth bg-white dark:bg-gray-800  md:table-cell hidden",children:c("market_cap","marketCap")}),b.jsx("th",{onClick:()=>l("total_volume"),className:"m-3 p-3 stickyth bg-white dark:bg-gray-800  md:table-cell hidden",children:c("total_volume","volume")}),b.jsx("th",{onClick:()=>l("circulating_supply"),className:"m-3 p-3 stickyth bg-white dark:bg-gray-800  md:table-cell hidden",children:c("circulating_supply","circulatingSupply")}),b.jsx("th",{className:"m-3 p-3 stickyth bg-white dark:bg-gray-800  md:table-cell hidden",children:a("last7Days")})]})}),b.jsx("tbody",{children:r.map((h,d)=>b.jsx(Mre,{data:h,index:d+1,header:!1},h.id))})]})};function Fre(){const{t}=Tn(),[e,n]=gs(c9),r=[{id:"bitcoin",symbol:"btc",name:"Bitcoin",image:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1696501400",current_price:61455,market_cap:1203342442653,market_cap_rank:1,fully_diluted_valuation:1286591859021,total_volume:60541398141,high_24h:63435,low_24h:60562,price_change_24h:423.74,price_change_percentage_24h:.69429,market_cap_change_24h:6494577737,market_cap_change_percentage_24h:.54264,circulating_supply:19641187,total_supply:21e6,max_supply:21e6,ath:69045,ath_change_percentage:-11.02837,ath_date:"2021-11-10T14:24:11.849Z",atl:67.81,atl_change_percentage:90493.0706,atl_date:"2013-07-06T00:00:00.000Z",roi:null,last_updated:"2024-02-29T22:18:49.169Z",sparkline_in_7d:{price:[51711.14580544951,51651.87986630683,51484.038829987636,51965.0332258993,51578.57739458951,51462.3712941115,51319.500125702674,51445.07757429647,51290.46384473216,51095.29306783685,51067.967072300395,51201.271638117025,51124.97620014934,51289.85201499646,50880.92367526176,50908.81488660626,50949.359440781955,51166.195179806724,51210.2940639519,50983.584307534344,51051.37119011336,51102.27794973614,50910.394626552355,51023.57720713857,51135.962066839966,51131.27428819613,51080.37683198738,51091.530003433276,50985.782654840594,50773.475118871436,50841.081094770896,50863.48685286495,50607.52920064971,50788.125508990335,50848.88547504514,50950.327041790515,51054.130061598386,50962.224264356795,51050.048117445396,50982.60912739779,51065.08904770135,51068.9235454728,51127.62804168001,51073.36046728882,51131.48175102287,51094.447775398425,51112.86772237167,51208.34658039908,51697.48554467913,51484.681536061114,51599.12248105399,51513.39102333645,51558.64778532889,51573.73667905135,51553.096712831146,51485.262018375855,51614.216980192345,51545.32115884375,51621.629465192906,51627.64128004587,51699.201967815585,51735.61018071985,51726.82888554329,51619.54399665533,51631.8944123664,51576.56470709675,51654.025665677225,51682.02969592259,51631.39988867448,51731.35612456198,51509.00951660319,51405.50649460264,51556.434366413734,51538.633942542714,51680.84842899583,51730.0957098725,51774.377396554664,51701.55732383541,51725.35393162457,51674.530312562376,51458.999296344286,51449.58877439659,51556.22697206768,51549.89709261979,51572.065623970644,51498.098290461494,51300.41485157674,51278.663078190846,50926.780715974346,51180.839719248645,51104.85484650301,51177.737528338555,51231.644578738815,51690.697700635785,52847.175807956504,53394.43288905663,53443.62062782177,53633.072547559466,54455.91125142581,54685.05166599562,54628.95571513321,54675.40695784579,54478.191083122954,54580.139740714294,55672.854203004914,56318.200914074,55580.07369933234,55801.08659956298,56116.347347991315,56386.72475545337,56104.12682333932,56275.61320474057,56643.12554071901,56581.53705935442,56541.39108692869,56996.51844918365,57106.04893315183,56900.31296833004,56765.128743317684,57051.62669658581,56841.94128068301,57128.702536398945,57442.86321085786,56737.94085264713,56650.03245400538,56918.454940304226,57003.52673730811,56994.916552693576,56857.608882839384,56951.85869803529,56958.15831123478,57227.46105933989,57116.64046654168,57135.482349711136,58123.24153531823,59508.88968993828,59325.37345452618,59266.18106118569,58983.94738732378,59397.89259241082,60465.38088698786,61142.98509518815,60925.10725370209,62496.70796054818,61236.56819459582,61203.7868191401,61006.464690927794,60426.396959183345,60504.09754571494,61348.393440923515,62518.58004146406,61353.4196653466,61354.959518742406,61753.20998644972,61594.439045000516,62494.350476384025,62327.58781450792,62938.70597072361,62713.90519421873,62791.57565972651,62794.27161842451,62701.975438427515,62935.77379531405,62656.37152404855,62946.002884387686,62864.06830866907,62894.738255044256,62202.76775685036]},price_change_percentage_1h_in_currency:.07287366709251061,price_change_percentage_24h_in_currency:.6942933139179345,price_change_percentage_7d_in_currency:19.148896251153303},{id:"ethereum",symbol:"eth",name:"Ethereum",image:"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1696501628",current_price:3354.28,market_cap:402014862613,market_cap_rank:2,fully_diluted_valuation:402014862613,total_volume:31454586634,high_24h:3514.33,low_24h:3329.17,price_change_24h:11.76,price_change_percentage_24h:.35191,market_cap_change_24h:558853689,market_cap_change_percentage_24h:.13921,circulating_supply:120147088495808e-6,total_supply:120147088495808e-6,max_supply:null,ath:4878.26,ath_change_percentage:-31.3923,ath_date:"2021-11-10T14:24:19.604Z",atl:.432979,atl_change_percentage:772885.11793,atl_date:"2015-10-20T00:00:00.000Z",roi:{times:71.98171772853169,currency:"btc",percentage:7198.1717728531685},last_updated:"2024-02-29T22:18:46.710Z",sparkline_in_7d:{price:[2987.2567711223833,2993.5874791812953,2986.617109001116,3009.2904450595342,2981.0263786762644,2985.7836123814745,2974.1315861319913,2989.3907042081114,2977.5506351080885,2951.6346643623815,2952.9224944741304,2951.039486418079,2953.2593315722484,2963.883832304354,2926.2390046821693,2919.6492429594227,2936.0364711269167,2942.0105058292456,2943.2413930023363,2931.5116034043463,2940.371307562495,2949.1565878913107,2918.58707234317,2933.06377166996,2945.3958474577794,2944.7218247861065,2944.6636034856256,2951.946267705884,2944.053374101856,2922.9160361048557,2926.2859129063513,2933.351434230059,2907.502585499638,2919.916902409757,2932.2604740309876,2947.407621610537,2949.992964611262,2946.3742803280447,2960.575739343611,2949.3454175792244,2958.9438752433816,2957.941021825779,2963.2169461303247,2957.560358526013,2964.1935826747867,2956.3405908449495,2956.0478960515247,2963.817875806456,2999.9447763862277,2985.395218459312,2989.518819349732,2987.2102632058954,2987.1875710828117,2987.7820492512283,2988.317384063568,2989.0746477039074,3008.681123048421,3027.605009462698,3026.59034243644,3019.9768664221906,3030.339888987385,3037.011148682033,3029.911699882223,3022.373742907652,3019.5083384362633,3024.0907546137023,3038.179170046782,3042.4043294840058,3041.8569269281375,3066.1829330307874,3045.162591385378,3040.9172998771933,3060.2209814886414,3062.207739435209,3080.3543739405804,3099.5469170959445,3107.5577825157093,3097.5679876292597,3111.6352776845724,3117.711060032415,3103.0137185731164,3098.4384981952294,3102.9216993088903,3105.0903568443227,3107.186923524151,3107.0900114947863,3087.42143153937,3093.264915523327,3042.360427086367,3060.4817987326705,3056.8166542512067,3062.2443760186916,3059.3391279053494,3103.7450467857516,3131.9135063045273,3154.110287573756,3153.6776610718166,3146.1762110454406,3179.7757799798824,3193.848102466788,3187.1278041982446,3189.21553334359,3173.62994683714,3171.2892649955224,3228.110235622291,3250.177648061775,3204.516411936048,3215.073252568955,3220.9208201206316,3235.8922601867876,3219.557156038663,3221.858035347145,3253.9833764331956,3261.656238394269,3256.3541792842443,3267.1770916016703,3274.2494839397727,3260.889513460632,3232.495691291153,3235.86125362494,3217.957707444016,3238.2147999682275,3250.460962142206,3241.245280948198,3244.467005812518,3252.5289915348,3243.7315393053245,3250.22050603074,3238.358778382691,3245.8088424556254,3248.5453403652564,3268.8874991737866,3254.5044147608814,3257.285202720691,3303.4884892351415,3342.1712570172053,3357.7513274452517,3348.4847389561833,3296.3905343389806,3314.7681331509834,3355.2531634482016,3373.8532428432654,3348.1538465616018,3445.7151905757187,3344.8212409972057,3325.367448352566,3297.4732824960383,3301.400428854306,3325.542391110457,3343.429841368254,3380.3803968147085,3440.7836557287515,3418.570775335536,3409.0972157536394,3412.1946005704685,3463.792288073158,3464.5469680915435,3467.687237587866,3470.0627859634615,3474.9857152617246,3469.4116689076986,3474.5031617987015,3512.2494504445967,3473.3122609558036,3483.2794718429363,3461.5799002568347,3468.107713629715,3441.0764922090507]},price_change_percentage_1h_in_currency:-.30562377710934147,price_change_percentage_24h_in_currency:.35191432901803416,price_change_percentage_7d_in_currency:12.521024959716309},{id:"tether",symbol:"usdt",name:"Tether",image:"https://assets.coingecko.com/coins/images/325/large/Tether.png?1696501661",current_price:1.002,market_cap:98685661605,market_cap_rank:3,fully_diluted_valuation:98685661605,total_volume:76660016618,high_24h:1.01,low_24h:.986186,price_change_24h:-.000959911157367488,price_change_percentage_24h:-.09575,market_cap_change_24h:-20933105158615112e-9,market_cap_change_percentage_24h:-.02121,circulating_supply:98708410047106e-3,total_supply:98708410047106e-3,max_supply:null,ath:1.32,ath_change_percentage:-24.2432,ath_date:"2018-07-24T00:00:00.000Z",atl:.572521,atl_change_percentage:75.07388,atl_date:"2015-03-02T00:00:00.000Z",roi:null,last_updated:"2024-02-29T22:15:20.449Z",sparkline_in_7d:{price:[1.0002014366745406,1.0010525680202174,.9990117589514754,1.0012026211472622,.9999124004996779,1.0001076091227512,.9997263111779143,1.0001221026702884,.9987692880036024,.9972532319745182,.9998292276416035,.9994412162582641,.9989636738984536,.9998317238566063,.9982275504712405,.9995456593116046,.9991267712457681,1.000067086157037,.9998002883767535,.9995755011041828,1.0000170238993127,1.0008389326577687,.9988842184625782,1.0006352286527767,.9995534183305758,1.0003041217711048,.9999070374864666,1.0004589942450628,.9994374830404081,.9996965875720604,.9997398041822495,.9996361841057195,.9995072034895863,1.0004400723195623,.9999241692365708,.9999204298156832,1.0000922721755654,.9997678562196612,.9995275501583047,.9995814770211146,.9996899856096219,.9996186360213557,1.0002400708718568,.9998577618175719,.9998445104981856,.9998387293346369,.9999925155395202,1.0003878372385848,.9994898596912986,.9990657706919838,1.0000791163036578,.9998630306626197,1.0002125692935235,.9995037924926874,.9994367735443331,1.0002556705950683,1.0012183012383662,.9976329005834229,1.0005636208776094,1.0004880846678539,1.000530178360467,.9996072242428977,1.0004579434627103,.9998893187327625,.9998511959103928,.9999555200217911,.9999147190845443,1.0003771152766605,.9996387157820061,.9998257449273114,.999564816814356,.9999783091912422,.9999199879409922,1.0001689013149724,.9999093175821976,.9993254371823059,1.0000724645422296,.9983318435969525,.9999903409311447,1.0000792760546198,.999101988129823,.9994666689255093,.9999161298330442,1.0002423068846042,.9998774917593577,.9998084117886831,.9995365426378674,.9996769204095178,.9993617958533478,.9995239049347667,.9999236126123723,.9998473051115637,.999718349774633,1.0007178172216684,1.0020412500338867,.9998426854736748,1.0000836936768789,1.0016946022978261,1.0003334678761888,1.0020607519957407,1.0006352109969896,1.0028044525673885,1.000174328314916,1.001060300868693,1.0034810127248959,1.0013499040657334,.9932533976216116,.9984048645911922,1.0004053522950798,1.0004910944537857,.9996714825113854,.9993240790242739,1.000584698003497,1.0010054612838841,1.0008061187516728,1.0005815760633783,1.0005851108100272,1.000957059249897,.998525786716875,.9999332290779303,.9994611242433284,1.0000797545409732,.9986727044953162,.9999718873862781,.9994221299796708,.9998250654349837,1.0004654800932216,.999558988726527,1.0005363522253563,1.0004386076479759,1.0002110745866821,1.0000733839818639,.9998009889327246,1.0004552265715085,.9999717770850602,1.0017192317383634,1.0004107170061363,1.0006350014007133,1.0000885506847765,1.0002903251121977,1.0007050485715976,1.0033117692106401,1.000874882645771,1.0076496337896628,1.00123032411435,1.004377367044281,1.0012571278396505,1.0025282834419993,.9998012593900686,1.0013035739110947,1.0007433105177448,.9975378505370145,.99958611322476,1.0023210341539905,1.0016976139807423,1.0020704999264376,1.0017051245044677,.9979395009598099,1.0005496211959817,1.0014273872019885,1.0009917300474513,1.0013418203174096,.9995568323161038,1.0014847626481649,1.001217455263684,.9990135555635173,.9993667684432093,1.0016653436322522]},price_change_percentage_1h_in_currency:.4871705862604955,price_change_percentage_24h_in_currency:-.0957519848407822,price_change_percentage_7d_in_currency:.16252295532698036},{id:"binancecoin",symbol:"bnb",name:"BNB",image:"https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png?1696501970",current_price:402.05,market_cap:61771924857,market_cap_rank:4,fully_diluted_valuation:61771924857,total_volume:2167942781,high_24h:419.46,low_24h:400.23,price_change_24h:-10.127145860792552,price_change_percentage_24h:-2.457,market_cap_change_24h:-15524138887969513e-7,market_cap_change_percentage_24h:-2.45153,circulating_supply:153856150,total_supply:153856150,max_supply:2e8,ath:686.31,ath_change_percentage:-41.23942,ath_date:"2021-05-10T07:24:17.097Z",atl:.0398177,atl_change_percentage:101271033281e-5,atl_date:"2017-10-19T00:00:00.000Z",roi:null,last_updated:"2024-02-29T22:18:51.667Z",sparkline_in_7d:{price:[380.63465970706585,381.7101704235697,381.73146524927284,385.6330737657257,382.4429850643104,384.31821410347743,382.1413995274651,385.47448200628565,383.68811066532413,379.9134769038447,378.62760703899744,378.71405440951474,380.27028519652896,382.9030060037855,376.6621854647279,377.7009848483793,376.41424451171224,376.9157792781813,376.3944590243816,373.9939739507251,374.7964967518982,376.6593946697703,372.53165277536726,374.05887058370706,374.8474480652373,375.2775312791904,377.10229747064983,376.5323127622153,375.79796449584467,373.6656333236999,375.42971250175134,376.93283498343567,372.1642196763926,375.2803148242314,377.4580707446206,379.0297198180608,379.85271127060986,379.134554858169,379.3036294622626,380.4061722236194,379.5232745541771,381.6255675206736,380.7861906697991,379.6299130635514,380.1739859979376,379.97403072336897,379.28130559345686,380.14680384456375,382.85442737334535,382.18974257984985,382.20318104025455,382.2181792161593,382.1499572043983,381.5291954834371,381.9276527408514,380.8558628260381,380.7205402666654,380.1636771200267,379.552879208722,378.9931632399314,379.51323664923416,380.51871901925955,380.74845656758737,380.1653822100344,379.35131389168794,379.7536118861619,385.2709151562526,385.1066998811205,384.1420990630515,384.7190506049392,384.6109336515483,384.25681601919985,385.84872659938463,386.4108711687204,388.3850818019938,388.35710627825875,389.023375055824,389.0677689025526,388.4407050922249,389.0764851707804,385.1347938537351,383.76166674355665,384.5637504937409,386.24767886723356,385.42055838046537,386.9361939361448,386.04912660309844,388.684516046575,384.9152458578605,387.99424767944515,390.4469497605128,390.2912496815807,393.41902522923226,398.64800678509454,396.9244028970804,398.90073484381594,398.2008585619502,396.3121773106467,398.7469139530845,403.8008575399199,401.81789898013454,401.72304544668435,401.2142854224812,401.779327796238,403.3683883676816,401.4123236540249,397.71686320931667,398.352601929622,398.86774731698483,398.9838111285901,396.3740471893591,397.75604452709865,398.98314672934936,399.0149974033356,399.26404458675853,398.31072380846405,397.81969080650987,395.15906186116246,393.4131354791248,394.0968704821955,391.9113648273737,395.02727688081103,395.02823558089534,394.84764282148893,395.15037476329894,395.75916158914794,395.2873518237669,395.32514393882263,395.01292969397997,396.8404010488517,396.09069273503377,397.87166713094047,397.81524929581025,398.1258852299788,401.556640984983,405.7340452921052,413.8373943773121,409.65886083220005,405.9907818153958,407.88368419521214,413.0719504669058,416.5546407295172,413.01962244722785,423.0751963535796,411.1066440315576,411.1140658130963,409.1742435944088,409.5765461831342,410.1003122096293,412.1308118915221,415.5245240472292,415.30390838678477,413.8768519128841,412.10037459040825,413.5716572036591,415.3139280907352,414.99221509387894,414.7039296762237,415.16885950498704,414.9076970619261,410.985395807276,413.0360171524664,410.52104778161026,408.65704387624805,410.29557585197404,407.35842077656196,407.542781550082,407.3271520356236]},price_change_percentage_1h_in_currency:-.3351142318980415,price_change_percentage_24h_in_currency:-2.457003506269399,price_change_percentage_7d_in_currency:5.126131307125503},{id:"solana",symbol:"sol",name:"Solana",image:"https://assets.coingecko.com/coins/images/4128/large/solana.png?1696504756",current_price:126.8,market_cap:56238308491,market_cap_rank:5,fully_diluted_valuation:72524208301,total_volume:8147650021,high_24h:134.41,low_24h:115.88,price_change_24h:9.1,price_change_percentage_24h:7.73149,market_cap_change_24h:4141810346,market_cap_change_percentage_24h:7.95027,circulating_supply:442551728118761e-6,total_supply:57070908736581e-5,max_supply:null,ath:259.96,ath_change_percentage:-50.8902,ath_date:"2021-11-06T21:54:35.825Z",atl:.500801,atl_change_percentage:25392.24495,atl_date:"2020-05-11T19:35:23.449Z",roi:null,last_updated:"2024-02-29T22:18:49.973Z",sparkline_in_7d:{price:[104.123837418362,104.7535659028326,103.73566277211432,104.87886519881766,103.49310206403767,103.19957414106416,102.0417796526056,102.38067172591244,102.00861168299407,101.42941558097912,101.63356680954254,102.18299692795436,102.17042315333708,102.94006738778202,101.82342884209605,101.57017573710287,101.99669489408056,102.56079772418353,102.60753319814843,101.41915844190247,101.88760613364691,102.02896664775217,100.54996816222614,100.37579671571207,101.39902098763757,101.36540977270604,101.34758730031965,101.55550797517526,101.23551238503163,99.94530663887535,99.81847768625543,100.47714986383869,98.63180951071944,99.59182306065132,100.19713282175336,100.95170169607864,101.27211192931414,101.22387600321176,102.09289179494183,101.73290954807784,102.5052825865689,102.20580918635888,102.33744043692822,102.33433005846369,102.2896639177181,101.96877582100508,101.99727095002936,102.39497319423609,103.51781341771093,103.57808417565909,103.82081862656607,104.0832480724609,104.33409080287653,104.17702459327593,104.18872590266118,103.56531126974512,103.53264983858546,103.21494130157956,103.20353175277475,103.19294506309076,103.19023595792056,103.40475893256213,103.01919250440844,102.63491788150941,102.5999993044773,102.30249522917507,102.80524107936489,102.97328298801143,102.69852720176856,103.430654579246,102.68312311879663,102.51172383536492,103.33479487433287,103.15418969557363,103.44670380870966,103.59586336137244,103.62582647521576,103.42015261681716,103.39971208340403,103.8518725925603,103.45210668276407,102.82859941931332,103.09537574175424,103.25917241867708,103.89946716461164,104.06804972340925,103.27297716616829,103.59818503408499,101.51560969153132,102.04714491815255,100.88175530240605,101.3680275793886,101.55379554747077,103.50170101841469,104.76296955691801,106.92800546124533,109.07731399216226,109.61525571690642,109.51397038163711,109.33339359805152,108.77323538397613,110.11149221637866,109.84509740259054,110.403403649413,111.84258550886092,111.41255428544638,110.20986061096369,109.32898325772123,110.3517219706289,111.23226372207537,110.73558811735698,110.94388357447811,111.3852307554366,111.6386315608991,111.32058409666405,111.23772701907498,110.20731658794665,109.3063541325959,107.25935604733837,106.73594718579622,106.79927579428985,107.10144901725569,108.13688643168048,108.49781618007641,108.69798537056599,108.70024291772249,108.34903963342038,108.82470990913623,107.98305651398974,107.97379323534366,107.79476261353105,108.79057241389772,108.64227434601378,108.82306642947707,110.04350276116148,110.98176714354892,111.75349672137024,112.43716243574367,111.64855788593137,111.41156547517849,112.67925724183938,111.49899896830253,112.8042317707463,116.16043831786094,111.83885573496654,112.93011528145396,111.7438765386736,112.09435027451576,115.42582352431798,116.23222962098804,117.74985156740611,119.49904742125861,122.98853854246437,121.76785491525735,123.225781436331,123.13800807059852,124.26889361477397,122.94371981803248,125.51591095569616,131.30175131430934,129.1148612324737,128.900010541861,129.73157378873543,129.4630003012349,132.90757754119036,131.80364325965542,132.17584891923232,130.00685315382705]},price_change_percentage_1h_in_currency:-1.724199776392933,price_change_percentage_24h_in_currency:7.731493920798379,price_change_percentage_7d_in_currency:22.522092591181895},{id:"staked-ether",symbol:"steth",name:"Lido Staked Ether",image:"https://assets.coingecko.com/coins/images/13442/large/steth_logo.png?1696513206",current_price:3349.79,market_cap:32915900439,market_cap_rank:6,fully_diluted_valuation:32915900439,total_volume:49085693,high_24h:3510.85,low_24h:3326.52,price_change_24h:16.42,price_change_percentage_24h:.49258,market_cap_change_24h:159816036,market_cap_change_percentage_24h:.4879,circulating_supply:983250305560213e-8,total_supply:983250305560213e-8,max_supply:null,ath:4829.57,ath_change_percentage:-30.72876,ath_date:"2021-11-10T14:40:47.256Z",atl:482.9,atl_change_percentage:592.79966,atl_date:"2020-12-22T04:08:21.854Z",roi:null,last_updated:"2024-02-29T22:18:53.184Z",sparkline_in_7d:{price:[2985.7875474102175,2987.3915920471195,2983.494732069998,3008.7074711973464,2976.7125380006373,2980.2630953529833,2974.365244095076,2985.842939772008,2975.3214266341242,2946.255622599846,2950.157050318668,2950.496949235037,2951.9049023461316,2962.8637428958027,2927.563544363272,2917.495007390186,2934.8704191202887,2941.9066005952036,2941.3944582832496,2929.60666604767,2939.251139219775,2949.3435522630075,2917.4353311276905,2932.3889094039832,2942.0476814544386,2939.4668567788863,2941.991340263209,2949.759917616515,2940.8953174837293,2921.608688392848,2923.9926724008087,2930.6052045201636,2905.2855024171495,2917.2309695096696,2928.7021764523547,2945.9886772183963,2946.89819301718,2943.9929044140836,2957.913804709388,2945.6126583248056,2954.3323299315616,2955.842678587202,2959.58935322829,2955.1214899372962,2962.2418562810067,2957.0145553180673,2957.6118173398736,2962.721166549872,2989.636443719477,2985.502811207818,2985.4511214956756,2985.33769464939,2984.7365411224955,2985.3218821364635,2985.215086724264,2986.937562255017,3006.784741204273,3025.7440067458347,3025.0224017269265,3016.740445846525,3022.558085686885,3031.849922781569,3026.77931847731,3014.655085278227,3015.3867631514972,3021.4446719309817,3033.973514978887,3039.7838097794333,3038.9464391355377,3065.3580797100803,3038.241387582513,3036.557256526109,3055.3871118223183,3055.7096265190035,3075.6650450433212,3097.020000305549,3102.790305066905,3094.1630318912635,3108.1511861936265,3112.448185066456,3098.262818987638,3088.3657855034576,3097.1650797704906,3099.5604435683795,3100.9815249450385,3106.040628098929,3084.6851677467544,3091.4136062660878,3038.4382814091496,3054.4480569397806,3051.63892489199,3061.9779098343556,3057.539437153712,3101.389716897612,3127.9586069955976,3150.823165655561,3153.858071068102,3144.804762103848,3175.796731084216,3183.638000351581,3184.310641848379,3179.4756520650344,3168.200349540846,3165.0599189916334,3223.250276135578,3250.9938482205525,3204.590467027507,3213.9801835099397,3218.9388395928095,3231.2437369768513,3216.2085599075303,3218.0299516667014,3250.6075997109406,3256.2166825557424,3255.1422586386952,3271.8956752393156,3273.290620012127,3258.33621767912,3233.5517062570466,3231.9271241916404,3217.50544413276,3236.319167404441,3255.8748551666818,3243.5579328217727,3245.7698446866057,3250.1233592036388,3241.806668516603,3247.241956262351,3234.629539471023,3242.522863094578,3247.6052427866643,3264.7732504726882,3252.0884445486336,3253.0814627905656,3301.802632293318,3335.9826417250265,3349.4964477964136,3344.1278159753565,3294.9909021632793,3309.671659651073,3344.3826626421187,3359.005359092921,3343.8360490480213,3446.0988830572555,3337.4029450654184,3323.32456996639,3296.7529331288856,3284.133609925323,3321.186846135593,3333.776694820518,3374.4747782518357,3445.9194773467425,3410.006491176468,3403.830886937861,3408.526163212796,3439.1111238619305,3471.666531590562,3460.6407298861523,3468.299910209043,3474.618985157792,3465.945464267839,3468.9237474335255,3506.1729964893125,3467.763384272834,3478.591129409453,3459.2744866626986,3460.707969365512,3435.249165296129]},price_change_percentage_1h_in_currency:-.3651449054163997,price_change_percentage_24h_in_currency:.49257835984344367,price_change_percentage_7d_in_currency:12.533083694652905},{id:"ripple",symbol:"xrp",name:"XRP",image:"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1696501442",current_price:.592261,market_cap:32304106903,market_cap_rank:7,fully_diluted_valuation:59164090086,total_volume:3616179188,high_24h:.619779,low_24h:.569412,price_change_24h:.01712916,price_change_percentage_24h:2.9783,market_cap_change_24h:880155117,market_cap_change_percentage_24h:2.80091,circulating_supply:54594247369,total_supply:99987873963,max_supply:1e11,ath:3.4,ath_change_percentage:-82.50474,ath_date:"2018-01-07T00:00:00.000Z",atl:.00268621,atl_change_percentage:22034.10568,atl_date:"2014-05-22T00:00:00.000Z",roi:null,last_updated:"2024-02-29T22:18:54.466Z",sparkline_in_7d:{price:[.5428458346016438,.5486165382977705,.5473506012587765,.550705428846121,.5457256592601325,.5433708077091265,.5411904079951343,.5433849443492845,.5399618697093065,.5380798000372128,.5377071435509836,.5390274368402781,.5392075827706813,.5403563700168856,.5366635142216185,.5328997193330213,.5343901870346321,.5358025286580974,.5362692354887633,.5347610707576933,.5350502539886213,.5366155331496892,.5321003671109885,.5320309689118282,.535187724244662,.5363544738652594,.5378531534960217,.540554213312319,.5388854429549623,.5339008467248072,.5337857590827897,.5363379696737766,.5322963532652009,.5340692754966794,.5365904535375238,.5388946644148143,.5397468994306185,.5409146506140777,.5420539270148225,.5404757999655949,.5442193514776625,.5453912078253385,.5463006151928317,.5443924162121595,.5448324606555893,.5434285750158379,.5431709866583255,.5447235708494763,.5480041542223122,.5464993958506597,.5458886030003929,.5447709957368628,.545198928240329,.5454958711418234,.5447789067331453,.5439852667667093,.5461117193304416,.5444892671639706,.5450470675614966,.545265055541734,.546441766126106,.5461167571580812,.5464786468844063,.5460443987455352,.5466139732667279,.5453730936413108,.5445719074874813,.5445666843264173,.5438124397816769,.5458520691944053,.543161779236387,.5427190602431559,.5444151161456908,.5437142062655727,.5454907374953839,.5443016392137544,.5442761677655314,.5439826330510499,.542290247379252,.5421326599988178,.5407224867839714,.5396960599207803,.5411307171452397,.5394361009233731,.5397454986090767,.539255815024613,.5368278045130507,.5387973551437132,.5327574793560319,.5343620016461267,.53216967762624,.5322182720513104,.5326590329799031,.5370932750120345,.5419822385658282,.544566180764716,.5491136460381898,.5457382150211764,.550182137384739,.5504981122709685,.5512126334690897,.5499793036852024,.5513003044164156,.5492479998679067,.557137154254674,.5593395767143586,.5513845919631557,.554370082451653,.5550441080410128,.5543707127258957,.5524895334492052,.553723778592691,.5625217148018706,.5594604600811935,.5599337527350315,.557480434186015,.5634440435331121,.5601739213902296,.5638840407228739,.5640781051384834,.5721215204705953,.5776656371891784,.5945656984960073,.580434804794371,.582868506649077,.5886128671698969,.5867196642839015,.5817890638988351,.585697473718419,.5837145254796866,.5792422396177118,.5820078325564765,.5784535812100977,.5778621004716847,.5836523841000427,.5903683341927092,.5875472843780801,.5867061282500954,.5821863186346581,.5839648105255395,.5869246201600355,.5920909668742995,.5866676027613356,.6052126120986223,.5652937643415304,.5684868313311019,.5659253687244282,.5703677574776888,.572334007291323,.5740268126474811,.5759219621869508,.5708775188095625,.578746191385365,.5782645078593381,.5843103998123698,.5920843554781272,.5937435976346659,.5984443742850303,.5932819883048572,.5969946747550511,.5950350291764349,.5998505070975922,.5971381737771355,.5960092475291622,.6043700569961132,.601009547241167,.6037472570927678,.6073304871052759,.5978978508901436]},price_change_percentage_1h_in_currency:-1.5591268604441733,price_change_percentage_24h_in_currency:2.9783005516576013,price_change_percentage_7d_in_currency:8.527275995936},{id:"usd-coin",symbol:"usdc",name:"USDC",image:"https://assets.coingecko.com/coins/images/6319/large/usdc.png?1696506694",current_price:1.002,market_cap:28577999230,market_cap_rank:8,fully_diluted_valuation:28578139073,total_volume:12055092926,high_24h:1.01,low_24h:.985203,price_change_24h:.00221602,price_change_percentage_24h:.22167,market_cap_change_24h:-16737156424892807e-8,market_cap_change_percentage_24h:-.58226,circulating_supply:285426547527111e-4,total_supply:285427944230523e-4,max_supply:null,ath:1.17,ath_change_percentage:-14.50499,ath_date:"2019-05-08T00:40:28.300Z",atl:.877647,atl_change_percentage:14.23792,atl_date:"2023-03-11T08:02:13.981Z",roi:null,last_updated:"2024-02-29T22:18:51.514Z",sparkline_in_7d:{price:[1.0003854307113975,1.0006964475088251,.9993602437920087,1.0012618942892892,1.000217126963911,1.000882155335052,1.0005908060606956,1.0013525829418428,.9989600235416233,.9962238085982875,1.0002589588284692,.9996115794946905,.9991047858508861,1.0001357489194054,.9978925005728415,1.0000258072963242,.9987703636063381,1.0001556117330537,.9998000308819138,1.0000272089749178,1.0003838991426433,.9997714355371634,.998727648861991,1.0019917324596082,1.0000269898322476,.9992288479893,1.0001452955556092,1.0008479412030404,.9994361428915426,.9993141428352019,.9983778529017016,.9998524091377514,.9985141116769424,1.0006147338689602,1.0001101726413084,.9998654379148323,1.000464618285661,.9999953368525706,1.0001953825843735,.9997853493922564,.9999978273575921,1.0000102279418905,1.0005467640043502,1.0002338445863652,.9999036973652716,.9999761127686209,.9997716280193006,1.0004724647944216,1.0022133007049,.9992524694326111,1.0003190011110783,.9999399971170806,1.0001080044233173,.9993135543831547,.9993245953622231,.9999961466430604,1.0005705843738069,.9959425820267036,1.0008237424377902,1.0006322606568212,1.0006555309266707,1.0004724551244086,.9999869696367756,.9988955867945334,1.0003106754718458,.9998524402225797,.9998186037243539,1.0004682321820213,.999775860851253,1.0004985450670256,1.0000120869317342,1.000354312660648,1.0002528661992,1.0002926427078576,.9997676871143081,.9994183586285962,1.000886764165917,.9986829036776352,.9994054119723749,1.0001365978848846,.9991608977868839,.9990820639084147,1.0011613092470235,1.0000622979919038,.9998533447437074,1.0003260378654637,.9988466309730869,.9997416351947124,.9992079010471917,1.0000248767440152,.9998508073039796,1.0005790362762004,.9990745528073802,1.0005655635971298,1.001990945533376,1.00091470650504,1.00073023888989,1.0017982703639572,1.0001882154308936,.9977205690161448,.9995644045619281,1.0027027214929936,.9991893791419076,1.0005499107611875,1.000894005951563,.9998595053170072,.9917412702073497,.9984122197779411,1.0004539895575757,.9997851593489916,.9999006086851625,.9982045955622715,.9994297491772567,.9989994239964307,1.0000650698126923,1.000071965069012,1.0010693161060715,1.002097802985626,.9988074966682023,.9996220418026399,.9974220673456744,1.0000438208350768,1.0005192436956147,.9987433477776906,.9987126368373659,.9995270944760669,1.0006241064958006,.9993186700093815,.9996455505013855,1.0002302720606213,.9997500608490343,1.0001444852901178,.9993891701269159,.9992825335459324,1.000846405521039,1.0023786530362955,1.0000003734147285,1.0002099127899533,.9998664196958822,.9997137744965279,1.0006220287257925,1.003629815361986,1.0002638580638836,1.006401196723668,1.0030678871191538,1.0044960516572832,1.0003620252766618,1.0010389688936814,.999589986257303,1.0000598260947842,1.000440647554157,.9997078816410352,1.0000317525858646,1.0020539078813744,1.0017358726068843,1.001753409034695,1.0014025220795946,.9968695837527266,1.0006598443143968,1.0016802360096273,1.0011301178169982,1.0006525437018816,.9996859239304235,1.0011550395374524,1.0002201320365205,.998868003625056,.9986761714954917,1.0014825602381359]},price_change_percentage_1h_in_currency:-.08826729417730828,price_change_percentage_24h_in_currency:.22167259934677577,price_change_percentage_7d_in_currency:.16814173883638123},{id:"cardano",symbol:"ada",name:"Cardano",image:"https://assets.coingecko.com/coins/images/975/large/cardano.png?1696502090",current_price:.6597,market_cap:23167307213,market_cap_rank:9,fully_diluted_valuation:29653900902,total_volume:1595080397,high_24h:.704772,low_24h:.624659,price_change_24h:.02584035,price_change_percentage_24h:4.07667,market_cap_change_24h:1007744326,market_cap_change_percentage_24h:4.54767,circulating_supply:351565491523878e-4,total_supply:45e9,max_supply:45e9,ath:3.09,ath_change_percentage:-78.51224,ath_date:"2021-09-02T06:00:10.474Z",atl:.01925275,atl_change_percentage:3345.26407,atl_date:"2020-03-13T02:22:55.044Z",roi:null,last_updated:"2024-02-29T22:18:53.843Z",sparkline_in_7d:{price:[.5949103337893441,.598050611972626,.5943752001394957,.6017108565055163,.5918834272527581,.5913525075750435,.5870301423459386,.5915472973237071,.5898775522385712,.5855399329961928,.5852137131212006,.5881744604694291,.5875289260215548,.5907385563941295,.5836257435930094,.5792194899328554,.5816281824053363,.5841954690432518,.5835840636527725,.5798235175722266,.5825153791455964,.5876485384564685,.5812519871523046,.5788198880963099,.5846977452621536,.5857105762591834,.5884257252338521,.5928663739462975,.5895129812062011,.5828135993653865,.5823405221287193,.5836042765317939,.5724916269303431,.574070140171609,.5752588459584143,.5804318701393915,.580932014539192,.5801087647693866,.5853215791094355,.5833718076936174,.5860668880000597,.5881182652617468,.5881207186100362,.5871357074057648,.590801411224161,.5889272461162715,.5888537057579222,.5883179646245719,.5947956455671535,.5925914881201616,.5930856991513389,.5923634442108803,.5945697571010932,.5956414735250795,.5963385611377838,.5959086517001498,.5971836493176247,.5958238657828063,.5951912374632302,.5958139350944013,.5943050915134883,.5961786098507293,.5940502904558393,.5899297213072241,.5904313997073575,.5887146611067033,.5896300488776888,.5886606837538506,.5891794807216149,.5885744173388459,.5839258629212406,.5817466234551067,.5862103892102487,.584506278819766,.5881004324585314,.5887998271903175,.5877567800296227,.5908607422473876,.5914172303425085,.5903845977614378,.5850619015985473,.5820369876717124,.5850185535905206,.5848213013893288,.5863506005945939,.5905947826768786,.5844610783026919,.583553476564658,.5745480920961394,.5787639332136321,.5785836127954626,.5825348153358612,.5835638498782862,.5913368243613899,.6068315976046474,.6083403739163671,.6087134683762219,.6098950872963844,.6172424042418767,.6206398313816447,.6190283959372651,.6173345488768809,.6185476984822272,.6210304569222495,.6291379339691489,.6273087900196128,.6200364265794399,.6220545856959508,.6242918703861771,.6230833304076744,.6160829897715882,.6188282856747775,.6236081941339746,.6233776614685835,.6200294073731631,.6247740070630539,.6260583332293455,.6226087540887625,.6162610042275034,.6156120787475312,.6107014819150087,.6226937214168691,.6275232352610404,.6232826347685789,.6241278820366634,.6267048868390965,.6242575245331972,.624917900660583,.6210815381534869,.6204059586963414,.617411956915173,.6224395928241965,.6192859558022756,.619197031422907,.6274135642309828,.637843512896308,.6377992844708679,.6365564840654088,.6300760084183764,.6290670768925217,.6355139514326749,.6427522021460059,.6386250425694749,.6503237192514852,.6260335380913741,.6189245942885971,.6176470785614322,.6222546749234062,.6271033371210021,.6299449697906533,.6307547368583101,.6313273366212977,.6452662703026716,.6418790011604274,.6421568646560267,.6544070882523784,.6624003428272924,.6816156425481882,.6832260321285168,.6935171022605455,.6945639778194145,.7003072406605715,.6905199740943652,.6908911318620198,.6976651221710359,.6918421659134513,.6940073574497738,.6826906000657268]},price_change_percentage_1h_in_currency:-1.6553119318728389,price_change_percentage_24h_in_currency:4.076666056338856,price_change_percentage_7d_in_currency:11.457815766808663},{id:"dogecoin",symbol:"doge",name:"Dogecoin",image:"https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1696501409",current_price:.119177,market_cap:17071031797,market_cap_rank:10,fully_diluted_valuation:17071006777,total_volume:5260247678,high_24h:.133493,low_24h:.112015,price_change_24h:.00430216,price_change_percentage_24h:3.74509,market_cap_change_24h:722510288,market_cap_change_percentage_24h:4.41942,circulating_supply:143278516383705e-3,total_supply:143278306383705e-3,max_supply:null,ath:.731578,ath_change_percentage:-83.62789,ath_date:"2021-05-08T05:08:23.458Z",atl:869e-7,atl_change_percentage:137724.61666,atl_date:"2015-05-06T00:00:00.000Z",roi:null,last_updated:"2024-02-29T22:18:50.576Z",sparkline_in_7d:{price:[.08489414416233226,.08497212252799097,.08482741335668902,.08538162869184705,.08482013083952747,.0846668179703711,.08416759562188045,.0844268171048952,.08420721963570754,.08369613271352176,.0838693932256177,.08388315313324811,.08394700117910496,.08416254602976934,.08360773733447234,.08322889916933243,.0833263142042626,.08372897678614263,.08369424834809856,.0834209510960454,.08366889183973351,.08425607265691958,.0841292737783523,.08444482116752051,.08509682218337247,.08506598664351922,.08512160416850058,.0854456338600705,.08493241453223697,.08441573043218731,.0843364920996671,.08496762435817815,.08409588274489255,.08451808763374197,.08515903661053374,.08515462801911079,.08490970738461771,.08479212622118595,.08504484710660519,.08482006496600339,.08510235464468593,.08502657720771101,.08535959327853253,.08526090541960017,.08540299000628934,.08541009727200315,.08583510847289624,.0858436813470958,.08645545865314616,.08601116254110631,.08591494424334058,.08579044128540474,.08581275141892532,.08596318001315623,.08610370247845048,.08588346814541918,.0859061966882858,.0857308713949078,.08596381386776596,.08588993545400782,.08602946197207066,.08622031873572782,.0859860150244401,.08598566946502713,.08627541316092446,.08590990011334103,.08615004871409628,.08622948830501403,.08619983467279983,.08657981525311373,.08618863587977806,.08606124575963052,.08615438136045839,.0860864201069186,.0864273365698828,.08632307142000524,.08622958096928744,.08616210849496511,.08606580441433777,.08604148421586164,.08547173202882195,.0853093138063719,.08558055249370533,.08549052571349969,.08573131068600275,.08584994380116456,.08550401702694377,.08553751168730005,.08430777981986512,.08479649766661375,.0846322888525243,.08465579165296358,.08482373952158019,.08572531074080472,.08655534900405862,.08716386000108042,.08723486332942965,.08716456331710049,.08862907464547237,.08811875423296273,.0887069716336155,.08880045540319197,.08934849544539793,.0887852725777165,.08961767947788736,.09026021971265788,.08909785882684448,.0897741737727293,.09086140296664891,.09083080656919822,.09163979526685437,.09201935995672175,.0956154551329025,.09602710571494208,.09452986456663516,.09457347367399355,.09759059734497433,.0961950468126087,.09660705671516356,.09727330883661603,.09551350597089528,.09640791043848922,.09913279983572063,.0991137389755429,.09716507259288028,.09919694901587699,.09793019819389806,.09698123857348723,.09644626851529672,.09624174407665866,.09473138532030843,.0957426564430031,.09546790362716406,.09527641765905266,.09705043792226077,.09916152142586289,.09842254472221101,.09964518392261071,.09795183545494761,.09838503489309137,.09909219836421802,.09999759521031883,.09987405697998418,.11758419615032371,.1098650501832543,.10905989167630484,.1137974164253874,.11468126772444588,.11449013461315387,.11516916022306997,.11636021792081355,.11358640761722266,.11290134935976336,.11291703089843423,.12395327661047745,.12903109372293334,.12899982300603047,.13299716909520862,.12832637890026477,.12796673360823882,.12813656284326475,.12862713376071408,.1294543057537855,.12814610872407714,.1299860369817054,.12909780529594314,.13343126493902857,.12839670816818505]},price_change_percentage_1h_in_currency:-3.5174820216236977,price_change_percentage_24h_in_currency:3.745088940285335,price_change_percentage_7d_in_currency:40.50534916980962},{id:"avalanche-2",symbol:"avax",name:"Avalanche",image:"https://assets.coingecko.com/coins/images/12559/large/Avalanche_Circle_RedWhite_Trans.png?1696512369",current_price:40.98,market_cap:15485322730,market_cap_rank:11,fully_diluted_valuation:17894579951,total_volume:1055722996,high_24h:44.14,low_24h:39.91,price_change_24h:.317101,price_change_percentage_24h:.77991,market_cap_change_24h:228238866,market_cap_change_percentage_24h:1.49595,circulating_supply:377221576649178e-6,total_supply:435910944833892e-6,max_supply:72e7,ath:144.96,ath_change_percentage:-71.49541,ath_date:"2021-11-21T14:18:56.538Z",atl:2.8,atl_change_percentage:1375.17476,atl_date:"2020-12-31T13:15:21.540Z",roi:null,last_updated:"2024-02-29T22:18:54.679Z",sparkline_in_7d:{price:[37.28932474651871,37.44260315072208,37.26061296259018,37.61000705675679,37.06472274929449,37.071026268498365,36.819504478218576,36.86310275657303,36.65940666304461,36.336673596742756,36.416100462172466,36.53598136727523,36.50773658432362,36.6898885231611,36.395082812879224,36.238273932322194,36.4805869432207,36.81203768083149,36.75982422702521,36.32009713141157,36.4791633973187,36.1929677032766,35.782920976067466,35.96120700197145,36.33770785490614,36.31764874637462,36.307730805902665,36.48290406810661,36.254208457994594,35.87802699366681,35.899578681094816,36.00027562013424,35.27836882195069,35.598177624011456,35.8279407714276,36.10881435119512,36.19986114010306,36.06871880502938,36.32413750072242,36.14723207862915,36.41741488058483,36.471190144424945,36.66646893725011,36.66329769649331,36.5471233245279,36.30976860758004,36.32578324323687,36.50659415606614,36.80793785314306,36.78580343995252,36.7487764669377,36.67034567344175,36.65180147480265,36.71384042509862,36.76551121623659,36.777396267207564,36.77757687234798,36.81021090263585,36.77919729987674,36.61491029610676,36.655333705615554,37.0873081087603,36.891781776749454,36.69898418689451,36.71166846576887,36.615622166773974,36.70558826875984,36.93381701135302,36.802624602047835,37.159893403205835,36.84769741710667,36.736398702775986,36.86442533991647,36.8029366426399,37.03457738691502,37.08347969981698,37.03226192120361,37.355172778401915,37.42959522241511,37.39134697851677,37.331330594311275,37.15127554766426,36.983593372029475,37.070009211467024,37.17375881903076,37.262180030406746,36.829013637166426,36.89322054021579,36.37408186167351,36.75243499943914,36.61387129471499,36.72092277199475,36.94161456662952,37.66018282452243,38.27193941401643,38.96974411758631,38.99905902640811,38.85337433005298,38.96648710922833,38.92474672249199,39.11717438839876,39.21552962729566,39.27068329340104,39.24147028393791,39.74481269083616,39.84761092944111,39.08502798149903,39.21156544224128,39.413817748557385,39.473247833821986,39.130686847150294,39.273371347858046,39.48593830096403,39.470642696661784,39.55587936476176,39.482845380581,39.3748703628599,39.292341218639145,38.87663671099658,38.868128543229055,38.75469567506772,38.99175117618051,39.12822813703426,39.07335568170552,39.17542568944101,39.24124444799355,39.23157143550604,39.46154009768943,39.23176936546168,39.39121597261377,39.20425280848615,39.51413769892833,39.29570379805605,39.292884562718,39.67641462273649,40.00130646854173,40.212132496009545,40.360354453358134,39.80029575390315,39.62180033830991,40.17065241305541,39.9413981724035,39.76298739691854,41.12878296638711,38.899807550374256,38.76654192101332,38.63447991463704,38.9980128570833,40.06060171162884,39.987369527025095,40.29611725654886,41.06608443217339,41.56220054566071,41.50943311396336,41.318241538012266,41.45790783871135,41.545381760008404,41.494265561615805,41.592687801883756,43.13548324930866,43.833011879364115,43.63988976031338,43.155359444135655,42.60955249961418,43.257832063506655,42.95205763042037,43.55673306933577,42.68907040226186]},price_change_percentage_1h_in_currency:-2.0647744069405984,price_change_percentage_24h_in_currency:.7799117856495807,price_change_percentage_7d_in_currency:10.551707501693766},{id:"tron",symbol:"trx",name:"TRON",image:"https://assets.coingecko.com/coins/images/1094/large/tron-logo.png?1696502193",current_price:.141076,market_cap:12411283613,market_cap_rank:12,fully_diluted_valuation:12411290500,total_volume:515977055,high_24h:.144059,low_24h:.139875,price_change_24h:-.000862364848429803,price_change_percentage_24h:-.60756,market_cap_change_24h:-1140337473987217e-7,market_cap_change_percentage_24h:-.91043,circulating_supply:87976222153743e-3,total_supply:879762709678951e-4,max_supply:null,ath:.231673,ath_change_percentage:-38.95392,ath_date:"2018-01-05T00:00:00.000Z",atl:.00180434,atl_change_percentage:7738.15737,atl_date:"2017-11-12T00:00:00.000Z",roi:{times:73.25072201344942,currency:"usd",percentage:7325.072201344942},last_updated:"2024-02-29T22:18:55.401Z",sparkline_in_7d:{price:[.1397075764450841,.1397489033609202,.1394595160647336,.1397884945363832,.13946879251499197,.13924098459681225,.13905785237765805,.13918810111239543,.13882970107023077,.13838557336791715,.13864620353561255,.13884217293284298,.1387430837541079,.13884904764644765,.1382389474901968,.1383733143152347,.13852922450802282,.1386421803504287,.13875142060706558,.1389472525774863,.1391682445050382,.13927411208069332,.13842258926960085,.13858425701982074,.13869359271248966,.13838232630277525,.13847778264380373,.1386770158593971,.1384889507839717,.13828371899827832,.13803104053171447,.13825619321466653,.137569043510732,.13777774098383408,.13799601359914856,.1381727174546304,.13814855757613465,.1379540972992282,.1380747014661818,.1375540577395647,.1378358689144068,.13758945489264088,.1377353042553954,.13736074710602333,.13745618037980836,.13722299133461688,.13717825127934066,.13732552102222273,.13782836135422846,.13718800133736458,.13738062509691668,.1373447518107113,.13758256203181846,.13749595065724582,.13740668983683751,.13759682152554348,.13788329018641837,.13750613643219395,.1377858065493759,.1378035499054651,.13772759248511773,.13768456941556673,.13769446845133967,.13766802291230676,.1375858787542959,.1372670760182285,.1375453814588215,.13758109479956254,.13755065463085914,.13774342083948302,.1375656291112314,.137467900855568,.1376055509694564,.13763134816960687,.13783900451513612,.13741351476655597,.13765270042129404,.13734036385406548,.13755876159343805,.1375958306854047,.13729737096080452,.1373797185439412,.13769534574121386,.13781013283998617,.13782144438462024,.13793220321765093,.13766030942638505,.1379092151715598,.13743858737337972,.13796876818377954,.1380967746209804,.13809997951213313,.1382887985342684,.1387631142583123,.13926787361546644,.13950113657611052,.13968532651452864,.13966998394354313,.13991253287944344,.13971040625335235,.13995379272361042,.14021825412919495,.13982733087135324,.13998656203117404,.14073850768855364,.14070820115042093,.13965119594626335,.14040504959124986,.14097190560471798,.14100191147305471,.1406002224702303,.14083448646654936,.1413692243474103,.14111143446755847,.14158787708551163,.14175418242588092,.14201460460281343,.14213612073815426,.14152841721677187,.14174125491839287,.14135228748087547,.14201749593989696,.1422949775056097,.14203787661783057,.14271526037732798,.14287949357304422,.14296420301519636,.14290683775683527,.14304254565915717,.1432256592564723,.14331968113259463,.14341929699355171,.14321607660276814,.14302543349126653,.14329003794076617,.14388836950866987,.14310885018756445,.1435521003817657,.14301458988975796,.1435024948760046,.14383663117643103,.14401351632171236,.143249282049245,.14497831609776557,.14302654125651637,.14258013027689656,.1421371749251102,.14230051106751668,.1419830926722871,.14211084544440591,.14230207818143578,.1419455927160367,.14205389813033875,.14249570134518058,.14258888706307743,.14300433735934664,.14286854335011276,.14242410853871085,.14355261467199418,.14361331512299966,.14348571615922381,.1429303824666046,.14254867703242238,.14254664699271566,.14248565266226226,.14215420436311685,.142073153361983,.14182932291078867]},price_change_percentage_1h_in_currency:-.23131337555151146,price_change_percentage_24h_in_currency:-.6075613103493739,price_change_percentage_7d_in_currency:1.1526444601498638},{id:"chainlink",symbol:"link",name:"Chainlink",image:"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png?1696502009",current_price:19.3,market_cap:11346298711,market_cap_rank:13,fully_diluted_valuation:19326007947,total_volume:958330300,high_24h:20.41,low_24h:19.17,price_change_24h:.0401539,price_change_percentage_24h:.20849,market_cap_change_24h:59367748,market_cap_change_percentage_24h:.52599,circulating_supply:5870999713083414e-7,total_supply:1e9,max_supply:1e9,ath:52.7,ath_change_percentage:-63.16345,ath_date:"2021-05-10T00:13:57.214Z",atl:.148183,atl_change_percentage:12999.73668,atl_date:"2017-11-29T00:00:00.000Z",roi:null,last_updated:"2024-02-29T22:18:49.194Z",sparkline_in_7d:{price:[18.44510511263504,18.484549120696443,18.40867290605403,18.563707053917476,18.29629223076181,18.2954415426863,18.141922476577378,18.24375452744018,18.141424315693587,18.015402528296185,17.893988896565418,17.9965514635029,18.033242924215237,18.06885922198127,17.920036851357047,17.827951132269618,17.915320398040095,17.946419948818974,17.932098326670488,17.903885986922376,17.914148906957696,17.887780701881816,17.92338824741844,17.94520826429441,18.014340829778853,18.059426768438428,18.107093024628973,18.226089220870886,18.099127774695027,17.90337604701123,17.928787921353617,18.07404709447127,17.8017793027927,17.97478583407208,18.149921781025355,18.25815797330734,18.3464454445048,18.26949039997501,18.42969724174248,18.402764561501932,18.42000831311153,18.397292581742548,18.399373665601377,18.32011682942601,18.34610843139476,18.27062648690071,18.231435217032594,18.285314773996614,18.49204373156354,18.435272575424168,18.458621741943038,18.45579572469231,18.50280193721351,18.489547921944364,18.507156790818346,18.57519302229972,18.570314910431996,18.554762938613518,18.525281727658637,18.498135615073398,18.54522344713819,18.617548668893868,18.560688407633215,18.437259045948494,18.47021264100874,18.48521844635289,18.55440666394344,18.73375421866684,18.698581122617494,18.748383067206674,18.638540659886022,18.596774818424674,18.568457009432873,18.608901789908913,18.73619421765504,18.7198268279307,18.67720866657089,18.692059680421448,18.700906313447632,18.8103734734364,18.66767682962678,18.596626167447102,18.661618314344103,18.58241664284604,18.581362485978993,18.624447603244466,18.465362946368373,18.465995572639624,18.18108965018576,18.247861979183057,18.21598827893561,18.296172705566985,18.423457745839077,18.64812203074313,18.866829173792766,18.983149113811177,19.076354923960658,19.044307032913864,19.136688206624353,19.27865808129292,19.04001900095544,19.14297341940484,19.099422787987216,18.980550914443604,19.216931386286912,19.263794813043035,19.0532390788305,19.073845000127942,19.10863979799214,19.103986504402556,19.022203751636955,19.034713537519863,19.234531783931036,19.30808257600318,19.277226995289077,19.265638842335854,19.110734260636434,19.038969887985367,18.897044605275664,18.898236582556926,18.902823867279086,19.08816769267544,19.091898276265713,19.06398398418433,19.08145255559882,19.169699015206767,19.04625955889446,19.071849492781265,18.918640249308567,18.901398182861552,18.884263605629418,19.02444688934129,18.964699431436042,18.949495501436683,19.156258741101084,19.451834086235696,19.526166668124418,19.437713173829653,19.264074894199997,19.216684774426913,19.428900819689712,20.001142164080672,19.80502865640235,20.326200236071045,19.13565412099438,19.05086526859622,18.93208251637085,19.03278034767215,19.16939673728727,19.207407044885958,19.436621212530447,19.601955416997455,19.5798444424929,19.486714022414994,19.520298658149215,19.710991298768857,19.817269398344926,20.011189489398355,20.069123324575656,20.21231350916141,20.235598437345768,20.285294379402572,20.189925890157816,20.02613912090467,20.263925666358695,20.102300429081293,20.118935769026532,19.923367299745102]},price_change_percentage_1h_in_currency:-1.6143905057045014,price_change_percentage_24h_in_currency:.2084864152606252,price_change_percentage_7d_in_currency:5.485161053072728},{id:"polkadot",symbol:"dot",name:"Polkadot",image:"https://assets.coingecko.com/coins/images/12171/large/polkadot.png?1696512008",current_price:8.29,market_cap:11079948229,market_cap_rank:14,fully_diluted_valuation:11751440627,total_volume:500530742,high_24h:8.86,low_24h:8.28,price_change_24h:-.023838186447516563,price_change_percentage_24h:-.28662,market_cap_change_24h:24737551,market_cap_change_percentage_24h:.22376,circulating_supply:133569974555981e-5,total_supply:141664888053209e-5,max_supply:null,ath:54.98,ath_change_percentage:-84.83189,ath_date:"2021-11-04T14:10:09.301Z",atl:2.7,atl_change_percentage:209.16422,atl_date:"2020-08-20T05:48:11.359Z",roi:null,last_updated:"2024-02-29T22:18:51.192Z",sparkline_in_7d:{price:[7.598562979593269,7.601336244238959,7.562782927597281,7.639328177192255,7.577004007888806,7.558972393384614,7.496562596596207,7.508241634106437,7.474915735792727,7.404424296488632,7.376965876315546,7.39929993697853,7.407783585840322,7.449546406963253,7.344315941789229,7.29603882173043,7.324695267378953,7.350355324149318,7.351713922069102,7.320160689672534,7.343167850067465,7.421076673066607,7.452337215191246,7.445010795287253,7.539698279649513,7.567829439975273,7.608114292307319,7.633699723774025,7.622266404715596,7.524362116249868,7.5758016826307655,7.613525835573968,7.453943739810533,7.598327604283894,7.597020237872917,7.680783377643913,7.70083066872365,7.783815152810829,7.79233353418369,7.732653841955361,7.7425245676621515,7.737323111031544,7.759892631539858,7.748487215286376,7.815636645614063,7.7778613712444855,7.793891055839216,7.767835969934817,7.843836356367402,7.795950960519947,7.8091222699833684,7.794842336895087,7.857105890576522,7.829907847341647,7.810056326186621,7.7742352055649215,7.806071068924333,7.769134208236179,7.761728589805922,7.738075651557765,7.752830681977417,7.766554827497632,7.748960783246267,7.706478370959537,7.719969646752544,7.7202091879109265,7.744170702684794,7.769768407740859,7.77298381460674,7.773677760150477,7.730774848197974,7.731022912271223,7.779033952194478,7.7775459717427005,7.823921609093596,7.8310523300154955,7.79146517002658,7.85620799717781,7.923942306515902,7.871926727200179,7.823153936058101,7.809857674586029,7.844579145304976,7.838958878866545,7.848381053975348,7.87216398999352,7.754045091736536,7.735603077777772,7.624655425542394,7.67302965892418,7.6481461927058,7.652013406592712,7.665106912316991,7.759692015102308,7.863476287328216,7.982402211245304,7.985772789110989,7.996802767105128,8.08069860993609,8.077245900770178,8.051878484762565,8.078057753851601,8.089295989048571,8.094133678513755,8.183763534848145,8.116522066376755,8.026337795913324,8.063357690359787,8.142191957825363,8.122838401747673,8.052096163456385,8.08268431893251,8.130783392835763,8.145321669034978,8.103242591969293,8.106648509509206,8.154386213927634,8.207095722479789,8.092505343985929,8.126462156676885,8.063272255031812,8.172051241997291,8.22713024232777,8.281539122815044,8.31993945825039,8.369831800147727,8.369601276563552,8.388774911682702,8.362356960934454,8.319111822291918,8.268828363137661,8.291494639812178,8.256282194183928,8.264451168296613,8.36281002604495,8.430571318611863,8.481859665620163,8.532038381477454,8.437911014528458,8.499209717310283,8.552225157757478,8.455068806548635,8.410636994065824,8.672832139784058,8.217621802827274,8.183248275718652,8.126185299791699,8.188234243366036,8.22208142911551,8.344583486385744,8.354154956034977,8.397528370949493,8.456229445541327,8.406954040970017,8.427641260612655,8.497354175929683,8.536375917862884,8.590920301630842,8.63670292695902,8.790977138394394,8.752349089222951,8.77333957791557,8.736146088293385,8.695162908015098,8.765227905554616,8.775471234699477,8.840467371816365,8.678007859999136]},price_change_percentage_1h_in_currency:-2.177377695443021,price_change_percentage_24h_in_currency:-.2866188577721258,price_change_percentage_7d_in_currency:9.452170213156622},{id:"wrapped-bitcoin",symbol:"wbtc",name:"Wrapped Bitcoin",image:"https://assets.coingecko.com/coins/images/7598/large/wrapped_bitcoin_wbtc.png?1696507857",current_price:61462,market_cap:9573844224,market_cap_rank:15,fully_diluted_valuation:9573844224,total_volume:653379157,high_24h:63340,low_24h:60519,price_change_24h:734.49,price_change_percentage_24h:1.20948,market_cap_change_24h:64451808,market_cap_change_percentage_24h:.67777,circulating_supply:155856.05371727,total_supply:155856.05371727,max_supply:155856.05371727,ath:70643,ath_change_percentage:-13.10768,ath_date:"2021-11-10T14:40:19.650Z",atl:3139.17,atl_change_percentage:1855.40946,atl_date:"2019-04-02T00:00:00.000Z",roi:null,last_updated:"2024-02-29T22:18:36.416Z",sparkline_in_7d:{price:[51621.37325012867,51463.07937798994,51946.866569906204,51584.924791761856,51457.54435930566,51224.16443041664,51420.01959517912,51268.39262785397,50999.439252092554,51117.42561842027,51156.52678389293,51145.172561478415,51321.77377357523,50890.189657299095,50850.01208012901,51033.92196683194,51160.11654670645,51234.66419746429,51039.35696088004,51142.52012665749,51149.45650665343,50805.11801092747,51041.423250772496,51187.32044663666,51025.97721764359,51077.35463316981,51096.824389841015,50912.355150500414,50778.34623971684,50759.78477624167,50910.340624850985,50589.1939448282,50785.897917011476,50889.87840690303,50937.7573917689,51017.735233083724,50949.29634084928,51070.03600430395,50906.40673629155,51052.45408423427,51050.08654601707,51102.75716417977,51050.08726848963,51130.13249794959,51047.32030496699,51077.56181466526,51174.317118477455,51529.86988518069,51451.093823046715,51518.88749922925,51494.22452536778,51506.63392698765,51547.476844926496,51614.511879525846,51573.03923992755,51745.71673824267,51605.87887532407,51636.83780530274,51589.139624881485,51699.64113811021,51850.7402286478,51709.67838193743,51550.79673713592,51564.17199614265,51575.5165618102,51681.29167749042,51744.10930883591,51678.97567665365,51806.15655865031,51575.59437067647,51418.380676393645,51641.54445231365,51648.773252600855,51771.47161824242,51838.68926750662,51957.569458915495,51701.8238706379,51804.61878217643,51839.68714562736,51527.75070933227,51441.37021528667,51529.486514617915,51544.6585504057,51579.4457591648,51544.50463896838,51271.23288627768,51326.952854621595,50955.759000908976,51204.46985007371,51171.454733291735,51304.86567182622,51116.80288450757,51695.37148153766,52772.67919637321,53342.89953694524,53411.44747552482,53525.938689879666,54438.74394724147,54519.3317424931,54618.2544835072,54669.78225737874,54474.895234602314,54470.40746027808,55464.09513546026,56239.3286024084,55569.800706497044,55576.75713190095,55988.82760870382,56284.58917983717,56013.50436108114,56171.95168708046,56550.97323458466,56506.96997224232,56422.09436167647,56974.460883119595,56980.776721375114,56902.61009006954,56626.78377955767,56840.64625011189,56586.55247374049,56972.61171722479,57120.50160348662,56761.40196243013,56651.66703629886,56690.21286929115,56968.14141725877,57033.71886388177,56753.852213325124,56932.36333365642,56957.35688124736,57000.11127277968,57044.646236912806,57165.94285899094,58037.76302863098,59215.69028727522,59236.566003152475,58989.34019283078,58802.28416542488,59262.5695026112,60259.31599454439,60844.15745695452,60836.261529336625,62159.96200375406,61044.076902325796,61076.23912955445,60834.82204464645,60236.51444893656,60437.10300414033,61149.889545294354,62425.47850824547,61467.38431829564,61410.906560906915,61624.43915663125,61467.34804807569,62279.26668163614,62432.481251741774,62931.161973020724,62686.13200758885,62737.22547285306,62516.941724361495,62560.094715730454,62948.39585600622,62600.74289975723,62875.68838495767,62994.27545416099,62925.98953453298,62231.614549263395,61165.09654819128]},price_change_percentage_1h_in_currency:.058601234842724184,price_change_percentage_24h_in_currency:1.2094831542576545,price_change_percentage_7d_in_currency:19.147488618156814},{id:"matic-network",symbol:"matic",name:"Polygon",image:"https://assets.coingecko.com/coins/images/4713/large/polygon.png?1698233745",current_price:1.007,market_cap:9347243677,market_cap_rank:16,fully_diluted_valuation:10069266941,total_volume:873483403,high_24h:1.06,low_24h:1.004,price_change_24h:.00209557,price_change_percentage_24h:.20855,market_cap_change_24h:9592578,market_cap_change_percentage_24h:.10273,circulating_supply:9282943566203985e-6,total_supply:1e10,max_supply:1e10,ath:2.92,ath_change_percentage:-65.26726,ath_date:"2021-12-27T02:08:34.307Z",atl:.00314376,atl_change_percentage:32119.31532,atl_date:"2019-05-10T00:00:00.000Z",roi:{times:381.85559917963155,currency:"usd",percentage:38185.55991796315},last_updated:"2024-02-29T22:18:49.988Z",sparkline_in_7d:{price:[.9804961608352377,.9804302533282763,.9734964702239486,1.024452690377985,.9952639356281153,1.006475747748145,.9925764444172114,.9982235123289065,.9875056339253883,.984209252498789,.9817653977712392,.9867741787256914,.983874646960567,.9933514759952858,.978166504718369,.9669980047531368,.9705202095410049,.9741933771328755,.9789377250004523,.971595838074469,.9761432876180807,.9839365751584851,.9644903584890405,.9701490116624897,.9802858833275858,.9939703282223182,.9984262817136758,1.005028206050212,.995075331294099,.9868736287636453,.9894389712773923,.995534680540056,.9757181718050499,.990226362854122,.9908079757958439,.9957319894766263,1.0006435742732047,1.0050020305337288,1.0205271804760176,1.0076589402872664,1.0120711978357728,1.0067551207961642,1.0048429066830515,.9999735606244581,.9998466633531531,.993946650531564,.9943921931953784,.9917790915205855,1.003762625599575,.997778108442315,.9985672933677713,.9965454978666881,.9978698156842567,.9949317106240448,.9945962661207447,.9887481302854859,.9932970434142848,.9960992644499375,.9842083548653016,.9793523910721119,.9788797885093423,.981391494118833,.9791213372771772,.9746232955251476,.9738559021700489,.9719103900591165,.9742525400914384,.9773217439258985,.9747994400385729,.9836347380483421,.971849867467729,.9670404274804734,.9756097694779843,.9740847048974799,.9787691502517448,.9818762589344722,.9826451589676496,.9847667152968989,.9980137855109622,.9923644044067121,.9941526700546881,.9928870962376368,.9977207038851391,.9949021314730108,.9987320755389293,1.0033267558168733,.9885698581874238,.995570673549573,.9755170497161513,.9905713439281831,.9924848512494269,1.0152187409370566,1.0168110019429317,1.0371052543597314,1.0530361108055204,1.0515239866550503,1.0639212571504186,1.0546502027668256,1.0622615735909757,1.0706685782329592,1.0668788227212547,1.0629016965702913,1.058937542012046,1.0571091497080518,1.0742595572958769,1.0729407866039473,1.056630039820418,1.0541785673733557,1.0578061186492642,1.0576273155778784,1.0428386762369846,1.0445946682369665,1.048477956009188,1.0500415903891627,1.0467467718535481,1.0489374361308839,1.044060188539635,1.0346431992152634,1.0218963266595633,1.0294660465759773,1.0254168192051454,1.0306926374336456,1.0286930595522872,1.0318490247537018,1.0323480228476773,1.030118529837611,1.0287705922927493,1.0340309643905994,1.0262752914260067,1.0286847948303486,1.0283133107729387,1.0354074303759233,1.0319687024668565,1.0342159598747394,1.0428929828190272,1.0470505024014405,1.0441128322741904,1.0424357463479959,1.0348714535175234,1.0368875026830757,1.0503580857357273,1.052793420822873,1.045083458207978,1.0581313565642927,1.0056705293945623,.9916940546367798,.9812234608000262,.9881594409116902,1.0010277584176581,1.0087961016086495,1.0104977370705999,1.0243741715986279,1.0280862557822366,1.0227770120615822,1.022360499624504,1.0323456348507363,1.0387512531033058,1.0341659745864538,1.0374548174401579,1.045447860841839,1.05234953237136,1.046451214636705,1.0493694030472485,1.0418201467545205,1.0552065912822362,1.0464142364330868,1.0450801686415512,1.03224964724656]},price_change_percentage_1h_in_currency:-1.4735689954086968,price_change_percentage_24h_in_currency:.20855282870975902,price_change_percentage_7d_in_currency:1.1701710267403636},{id:"the-open-network",symbol:"ton",name:"Toncoin",image:"https://assets.coingecko.com/coins/images/17980/large/ton_symbol.png?1696517498",current_price:2.5,market_cap:8637865503,market_cap_rank:17,fully_diluted_valuation:12711513754,total_volume:121064302,high_24h:2.71,low_24h:2.48,price_change_24h:-.02456715731060921,price_change_percentage_24h:-.97504,market_cap_change_24h:-7286821252948761e-8,market_cap_change_percentage_24h:-.83653,circulating_supply:346796899079257e-5,total_supply:51034755644667e-4,max_supply:null,ath:5.29,ath_change_percentage:-52.70911,ath_date:"2021-11-12T06:50:02.476Z",atl:.519364,atl_change_percentage:381.75566,atl_date:"2021-09-21T00:33:11.092Z",roi:null,last_updated:"2024-02-29T22:18:49.867Z",sparkline_in_7d:{price:[2.081683239047138,2.0778335590392882,2.0912535147459885,2.075775017560204,2.0952548564193485,2.0934969374914485,2.08809236322037,2.0951010804371295,2.086968376732446,2.078193474118983,2.070877071971667,2.0829079067627836,2.094333039805763,2.1036861170098162,2.0831414979665315,2.072354561686591,2.0714078010079797,2.0712876769753765,2.0765264788658175,2.0762671765884857,2.090969002082904,2.0847742068575355,2.0824956314234635,2.0832251806594084,2.090032199678192,2.0980472434991793,2.107649836697781,2.115510649263798,2.103553864200055,2.082302957002743,2.0778366044527696,2.080655006692779,2.0690704412003673,2.074184221297586,2.0801973710151285,2.0545133955207433,2.0594225055177207,2.0983443505490826,2.1028091024071975,2.1045326455850724,2.1130526320288276,2.0639817019747366,2.1329052008451694,2.1272951191939233,2.1407878243991365,2.1170812239034995,2.117270281286811,2.078626203136303,2.139687025267676,2.1260184193190996,2.1272833227069334,2.1218718155309393,2.1197916625813598,2.1157829686114424,2.110356438105101,2.1093238451878,2.1083122782945347,2.098236239017662,2.100469735409038,2.098271109545022,2.100186913291471,2.100921186267587,2.10563409828472,2.1170607967702306,2.111981715924397,2.1135932420172066,2.121268491164358,2.11381679742251,2.1072699793155474,2.109908913831873,2.105670150644992,2.101008791091218,2.10575627657661,2.1063591016108,2.1124501605312367,2.1134915112288355,2.123227069471732,2.0852780921797396,2.0823523024423736,2.0865954108432523,2.1189962644588043,2.114083389324341,2.109799946108736,2.1044502394268862,2.107797863694368,2.117566149919789,2.1188004171581434,2.1235274714075834,2.1092801748999177,2.122066556440402,2.116946235160815,2.083212029009626,2.112123732214389,2.1250646047888297,2.1436285459059055,2.141101466862405,2.136156943042121,2.136692389006512,2.140267470738574,2.1386206577005566,2.1426588954897063,2.1404930685513452,2.1421286738181275,2.1373969430895756,2.1453453541640464,2.154807749385188,2.1414116429636505,2.1500667038278887,2.118940116104036,2.1298365432805717,2.1768989499213243,2.1931986270887496,2.1871266524027164,2.1758816017310396,2.1492493329391382,2.147166003152693,2.17055378435441,2.1721978050863853,2.1587435651727622,2.136055197880452,2.1495613288248285,2.153987112836498,2.1597920565996223,2.1493422560042172,2.157866437333476,2.1668437715803144,2.158986103220383,2.175685264470335,2.1730424947576035,2.169554056590406,2.1645014447915285,2.1713269074385364,2.1719101441061355,2.1760473507213614,2.1840645110482657,2.1727459735155725,2.161908194698297,2.159565141766638,2.1490847653184444,2.5124594058415095,2.7113313025156787,2.6708339653543485,2.6361449634156124,2.5706656386907203,2.4310925725999377,2.430297151070464,2.4580841625508003,2.48517193591485,2.4838284624756817,2.5125233202904793,2.5148286315609925,2.4934828995390257,2.5195187260361847,2.5083576695882956,2.5491703174651548,2.5694131351800027,2.5783590570879866,2.5477824225330163,2.6445239625912893,2.6537054829581,2.7005419764089416,2.6869246837780154,2.685133841107823,2.6516539624909385,2.648651489913713,2.6051854531060545,2.5965715031471825,2.5611283739493578]},price_change_percentage_1h_in_currency:-4.296441501923432,price_change_percentage_24h_in_currency:-.9750350326996756,price_change_percentage_7d_in_currency:19.08101512487887},{id:"uniswap",symbol:"uni",name:"Uniswap",image:"https://assets.coingecko.com/coins/images/12504/large/uni.jpg?1696512319",current_price:11.27,market_cap:8521030209,market_cap_rank:18,fully_diluted_valuation:11304599397,total_volume:648011659,high_24h:11.73,low_24h:10.78,price_change_24h:.407385,price_change_percentage_24h:3.74995,market_cap_change_24h:309760126,market_cap_change_percentage_24h:3.77238,circulating_supply:753766667,total_supply:1e9,max_supply:1e9,ath:44.92,ath_change_percentage:-74.71899,ath_date:"2021-05-03T05:25:04.822Z",atl:1.03,atl_change_percentage:1002.31607,atl_date:"2020-09-17T01:20:38.214Z",roi:null,last_updated:"2024-02-29T22:18:55.412Z",sparkline_in_7d:{price:[7.4343657945980075,7.464943689298779,7.438337027508438,7.4936477949599,7.416691826463595,7.406590236035902,7.359168364317255,7.40817882404638,7.374694564257377,7.2916929608161425,7.223277117931092,7.200009766444265,7.102595548640323,7.149020264502976,7.098683162666961,7.059411765064207,7.116624341723795,7.117513327886731,7.1064119461118285,7.129262665120062,7.175965559622678,10.975077329399532,11.615950236842519,11.267528061607528,11.071685803521461,10.691416092898075,10.988537535471018,11.27345800640847,11.225598074369332,11.062618945028165,11.330506116991744,12.3516686334375,11.826961840543476,11.979754856610045,12.1690912930206,12.123405433657624,11.996329021395669,12.057282155981966,12.616929789923345,12.291835695318165,12.404836680111943,12.455903130167588,12.134803925783409,11.88694924344214,11.986931925041803,11.140944563957799,11.105554638632057,11.191739199110211,11.282924477933557,11.128085109273908,11.186824925444935,11.197450789703048,11.216327119239294,11.230581380831179,11.253037996975248,11.277041685094973,11.412836383916945,10.758198181908844,10.439372985732387,10.481453570322664,10.614766752418028,10.502967183175603,10.515057057769845,10.499058881592616,10.600809708594412,10.573196477557012,10.786172983516863,10.75415277434629,10.526225469300684,10.529090528851992,10.487121931756832,10.535933423435436,10.755399724054435,10.720266066652696,10.72906224562572,10.673764854140419,10.70276909799453,10.844917764146167,11.093846083739257,11.014220800334057,10.912946555036353,11.312310978733693,11.103974494966327,10.976680014097171,10.88967482530736,10.874020595528663,10.645068224059617,10.72903794973287,10.63254584797738,10.603623578111142,10.574849879615082,10.57789758661413,10.495084231190662,10.656517909690837,10.783428855717089,10.770577141952334,10.5862420690201,10.48332964447196,10.527455025728223,10.513771807037836,10.570207900562963,10.57988491138741,10.581326121020988,10.550767529899472,10.593505667061786,10.642253260849754,10.551221145962606,10.60940799510555,10.722604448211602,10.693234511692603,10.78277269385411,10.938355606737606,11.067311849967748,11.049418698285832,10.98554047099818,10.895475448993764,10.862352301624883,10.721443308992585,10.597543830546796,11.023424632906739,10.917218837629864,10.842703677009183,10.774321923172607,10.724743310322818,10.740629648270613,10.76217493190226,10.85916207950493,11.015479223706699,11.105661284138218,11.060466497889365,10.884892049025758,11.090971914924637,11.042676593935486,11.067483533447733,11.02252339298805,10.930638230518946,10.918253349050783,10.850598437586832,10.649709999762958,10.699158949144628,10.792869122916818,10.771464625272003,10.734901624202063,11.036141498186115,10.521684848573653,10.495720879185981,10.46632620966867,10.776029846422727,10.832739065325114,10.840038252735697,10.934076009260675,10.950562586178359,10.934795228593892,10.864634947306898,10.86063681685937,10.847817617718398,11.263235777379567,10.989210309724129,10.839187057395902,10.906203590100557,10.97135359605835,11.174423977092543,11.116332040895973,10.951151899156864,10.847797306620908,10.828150695939504,10.898139094959758,11.403476525885305]},price_change_percentage_1h_in_currency:-1.6727038582462515,price_change_percentage_24h_in_currency:3.74995410165518,price_change_percentage_7d_in_currency:51.96946976133868},{id:"shiba-inu",symbol:"shib",name:"Shiba Inu",image:"https://assets.coingecko.com/coins/images/11939/large/shiba.png?1696511800",current_price:1278e-8,market_cap:7524104767,market_cap_rank:19,fully_diluted_valuation:12768062075,total_volume:2146644897,high_24h:1452e-8,low_24h:1145e-8,price_change_24h:133e-8,price_change_percentage_24h:11.57873,market_cap_change_24h:795808551,market_cap_change_percentage_24h:11.82779,circulating_supply:5892806642153048e-1,total_supply:999982367862288,max_supply:null,ath:8616e-8,ath_change_percentage:-85.08184,ath_date:"2021-10-28T03:54:55.568Z",atl:56366e-15,atl_change_percentage:2280304565394e-5,atl_date:"2020-11-28T11:26:25.838Z",roi:null,last_updated:"2024-02-29T22:18:52.890Z",sparkline_in_7d:{price:[963835788159511e-20,965380988424022e-20,9636239475749896e-21,9701126270732803e-21,9624234803937447e-21,9608521693571487e-21,9547779894683156e-21,9574611497784246e-21,9548437679626243e-21,9501752764379264e-21,9486242668949519e-21,9512207013550107e-21,951534910182465e-20,955994845339184e-20,948070198023876e-20,9436842326818085e-21,944583981179812e-20,9549187145596444e-21,9533448442053833e-21,9522833554935358e-21,9555296258464058e-21,9564798744670559e-21,9508123240810993e-21,950640129427548e-20,9582165043046789e-21,9559042249475697e-21,9540892151518035e-21,9579423794838609e-21,9553765762621805e-21,9491024549152265e-21,9503901735573306e-21,9504307732445502e-21,9351741650096087e-21,9395877267009493e-21,9434242211305328e-21,9485067323557546e-21,9502105724843503e-21,9488628160843726e-21,9523336282839908e-21,951370146962962e-20,9540003053959277e-21,9576405363980492e-21,9609015494397202e-21,9604644011641566e-21,9604480826889944e-21,9584411279576873e-21,9573532655174996e-21,9594430045225182e-21,9629908387620106e-21,9614692973991923e-21,9633975504509826e-21,9630387107690969e-21,9624243646551168e-21,962719631954208e-20,9633529334289114e-21,9613694535655892e-21,964266806342798e-20,9623383212327065e-21,9621262477269703e-21,9603025261175943e-21,9608885889029464e-21,9634205228930666e-21,9613865680323931e-21,9614524063602925e-21,9624994291957116e-21,9593824440871472e-21,9628177068332473e-21,9630801050832486e-21,962405444953726e-20,9642387477421402e-21,9612837191045384e-21,9627301684200524e-21,9638354222316494e-21,9671498154596066e-21,9686394821288422e-21,9691326901647857e-21,9698690975619752e-21,9659497441216252e-21,9661808544754769e-21,9702860575811665e-21,9637341293473722e-21,9618023939549213e-21,9644099223161267e-21,9629131912371163e-21,962385428425854e-20,9662427564212881e-21,9618444699476841e-21,9637819939884954e-21,9483005497654583e-21,9532089731600893e-21,9506465238898064e-21,9547566483710887e-21,9549807998123461e-21,963311481028497e-20,97367772388045e-19,9783492093841855e-21,9747999437776991e-21,9736850017515057e-21,9990234150489377e-21,9941333648339907e-21,10033552294535418e-21,1009473728076728e-20,10096668098772461e-21,9990709824024736e-21,10099575336488503e-21,10178543675093092e-21,10169262407137945e-21,10191308695316247e-21,10291703286244219e-21,10237954772050452e-21,10295114160497986e-21,103509482262361e-19,10462816529838697e-21,10481964582949835e-21,10357024731863405e-21,10464326038982523e-21,10675429136132795e-21,10512124966231399e-21,10511692759133995e-21,10524736587614958e-21,10477475743716635e-21,10734820919894974e-21,11316370289532204e-21,10956017232429782e-21,10878547418813523e-21,10943654157435231e-21,10938246976826791e-21,11075643384616559e-21,11288856485032995e-21,11193572762404146e-21,1081688603574556e-20,10859647938660306e-21,10813975859504701e-21,10747002138166362e-21,10880578597117469e-21,1114449196700141e-20,10949886772200849e-21,11232158072139158e-21,10938115938053953e-21,11009891773475212e-21,11125750520620889e-21,11112770992247282e-21,11129780759447804e-21,11772144533807142e-21,11285134387995005e-21,1122728301975896e-20,11436146455215104e-21,11445378215578706e-21,11397041505806356e-21,11697299342412943e-21,11751738601972018e-21,11450510474673407e-21,11713304049275775e-21,11820853001464773e-21,12318066358208741e-21,13440013576287869e-21,13314104963831562e-21,14345935078306583e-21,13905721954614763e-21,13852954970328766e-21,13658692133020561e-21,13765653651876374e-21,13719910985633815e-21,13517587759901218e-21,1400881974125097e-20,13935477808930865e-21,1429778453006988e-20,13729708982860212e-21]},price_change_percentage_1h_in_currency:-2.7505733637902643,price_change_percentage_24h_in_currency:11.578727731724129,price_change_percentage_7d_in_currency:32.76013477005543},{id:"litecoin",symbol:"ltc",name:"Litecoin",image:"https://assets.coingecko.com/coins/images/2/large/litecoin.png?1696501400",current_price:80.35,market_cap:5943697246,market_cap_rank:20,fully_diluted_valuation:6723258398,total_volume:1116077566,high_24h:84.23,low_24h:74.17,price_change_24h:6.03,price_change_percentage_24h:8.10687,market_cap_change_24h:424767661,market_cap_change_percentage_24h:7.69656,circulating_supply:742602082334713e-7,total_supply:84e6,max_supply:84e6,ath:410.26,ath_change_percentage:-80.36918,ath_date:"2021-05-10T03:13:07.904Z",atl:1.15,atl_change_percentage:6910.30552,atl_date:"2015-01-14T00:00:00.000Z",roi:null,last_updated:"2024-02-29T22:18:53.331Z",sparkline_in_7d:{price:[69.45965995598064,69.11508305671472,69.30870480565314,69.09069443173834,69.13431960483261,68.81340918542222,68.96541955756561,68.67445742300563,68.3833415060237,68.41478605291279,68.38138173559017,68.41310072820612,68.57863872382102,68.25652931437547,67.91930374005258,68.0263847064337,68.24277881274517,68.26824702205052,68.17776364467908,68.340661461778,68.63145699563998,68.240067209693,68.50304465816512,68.72403701143458,68.62652453670923,68.737083552004,68.86462550109748,68.841395867939,68.73267925232462,68.85979342381442,69.27778800209686,68.74469723355553,69.25094851711022,69.36731921197612,69.47612565536126,69.48480299681256,69.35219317024217,69.65949055592371,69.63117093176383,69.61129045319501,69.70589321474161,69.82416455645054,69.90270357260985,70.15549091537454,70.39917491241265,70.10808491540134,70.11882037275838,70.4019707314541,70.5283050258563,70.45129058844113,70.25230848855074,70.39285439895998,70.44424753006969,70.37263846652533,70.44897458790346,70.29728928040251,70.1698840723056,70.12192544712235,69.89637394892209,69.97296512564515,70.08455417613135,70.18843387223025,69.94599639104102,69.97526878430955,69.87444339238141,69.97794086522013,70.04421524811995,69.94514743662754,70.17776309408374,70.10962313176819,70.06250005782564,70.27600708717938,70.16214423801308,70.30739199187876,70.09814054346339,70.12362551695398,69.98672894190932,70.07271479894457,70.25714061026981,70.00291062804416,69.87944602868812,70.04867331896645,69.90023811145164,70.04371510214038,70.26862999657034,69.90949625923189,70.00369679094106,69.23576520219272,69.60182488745104,69.48316848982212,69.68908511536634,69.8310094192992,70.53278543654048,71.2855986571575,71.24996364857091,70.71836844765389,70.89137460401217,71.46342778879153,71.79337661684501,72.77290544517221,72.41287709091321,71.96382308756327,72.13953895555385,73.6349731016572,74.67216829619461,74.52866704322446,75.20048955729148,75.39244624251127,75.52397131305615,75.35687822011262,75.73083086981246,75.6745944308824,75.21234292398692,75.02212001691174,75.31972920939556,75.34337310321926,74.66732819185656,73.64349292247765,73.73163799621824,73.6537148071576,74.1272496823529,74.47894043938906,74.1383253303253,74.17457278690708,74.39110278456486,74.0325202753105,74.1698504504707,74.70647267225695,74.62574165011235,74.04979233534827,74.37026976260292,74.00639753349337,73.85822972989209,74.92152216459036,74.98031656446959,75.36997642144571,75.766686596447,74.91315509739847,75.26036022661712,75.87106374140171,75.1164149534244,74.85156372306716,77.18710147909607,74.03724343745854,73.46956475534999,73.02086711945714,73.76648507319712,73.9289540997076,74.47393854800855,74.60287724024917,75.40745979226729,75.93892457529296,76.4007405547665,76.79653157030822,82.10652736543318,82.45451743201362,82.20946784455155,82.31413275385084,82.66250128668352,82.07326647300407,82.4950440257871,82.06370907879698,82.57119967696303,83.18174076299134,82.55758034692876,82.42488407587587,83.84550597892283,81.8402528908002]},price_change_percentage_1h_in_currency:-2.25598588722327,price_change_percentage_24h_in_currency:8.106865614298787,price_change_percentage_7d_in_currency:16.30274943324229},{id:"bitcoin-cash",symbol:"bch",name:"Bitcoin Cash",image:"https://assets.coingecko.com/coins/images/780/large/bitcoin-cash-circle.png?1696501932",current_price:299.6,market_cap:5889539653,market_cap_rank:21,fully_diluted_valuation:6292465341,total_volume:618848160,high_24h:320.21,low_24h:293.77,price_change_24h:2.16,price_change_percentage_24h:.72502,market_cap_change_24h:32855950,market_cap_change_percentage_24h:.561,circulating_supply:196553061466508e-7,total_supply:21e6,max_supply:21e6,ath:3785.82,ath_change_percentage:-92.03598,ath_date:"2017-12-20T00:00:00.000Z",atl:76.93,atl_change_percentage:291.89488,atl_date:"2018-12-16T00:00:00.000Z",roi:null,last_updated:"2024-02-29T22:18:50.416Z",sparkline_in_7d:{price:[263.1870640490421,262.7541562498404,264.69738784948953,262.1420185256408,261.62438980227404,260.2761161026032,262.3099521378821,261.37495979565085,260.53360920857546,260.72208802668314,261.3638342922673,261.2310098003731,262.3120925321879,261.2797024117898,260.5873571512411,261.5381308124797,263.1997356202409,263.72900087403053,263.3374241926579,264.07847228857634,264.45631815640814,264.06935897506605,263.5249855661712,265.2073558996375,265.3977202419673,265.3608250967845,266.1112164030053,266.1587331119961,264.42018627333135,264.2171413141088,266.47998587015087,263.4814802179367,265.4855926450264,265.62781570414245,266.6919813753238,266.5372901284475,266.0577154006618,266.36463319645276,265.81480382454856,269.36659065568927,269.8931875763222,269.2204481888886,267.63764350740286,267.5716078093203,266.72107886636724,266.2626396952684,266.6536134176986,268.5057618474103,267.4308331820501,267.4104496325806,267.2915678409297,267.2549668042458,267.27466786018334,267.3785912320847,267.68868553056967,268.71292883565616,268.28789097765093,268.09005032691897,267.6381715561508,268.9022649793829,268.9438072664271,268.55653959782995,266.7321397476775,267.24999992097,267.13544873246144,267.2438813502925,267.23225218745813,266.66536922449865,268.5426343049924,267.8656907123749,266.7366472257908,268.32403790612807,267.92688136675963,268.7232567316657,268.70515863867735,268.664337910451,267.9179087221227,267.7067177521703,267.45424149390925,265.9795317342879,265.50567876648364,266.38867168253057,266.55170563145333,266.79560125977736,267.5417783469076,265.1423063150255,265.50726360856703,262.73054887901833,263.6358028180519,262.99391126827936,263.97852648736176,263.92520746100536,265.822469850753,269.55085131482673,271.3961169415167,271.35435987890935,270.34766226931947,273.13257172439364,273.97131307998393,275.5620907774401,276.26754080394335,274.9488905881692,275.8679768302295,281.5587614606787,289.6557794203941,301.11820393823814,303.13020784812903,306.0312341146691,304.979959081102,298.10551617765765,297.0169806194616,300.57484070113395,299.02068468657006,299.6667955124955,305.2514351394806,306.7989632851302,301.0046804920689,296.9400775477219,297.7705224173759,295.3352922464468,296.4099017698653,296.58345254250384,295.1036747085803,297.5595530086985,295.66798177936414,292.6253146500195,293.44597257047025,293.05562433677176,292.8196846684042,291.07410617209047,293.5101383901581,293.8251785691557,294.31701650811124,301.00578933895815,306.4961478569541,303.9712394323175,305.2855212337889,302.0559591769883,302.71820347206113,304.41952328530743,304.07313073639244,302.8552914554357,309.7259686750226,296.2278445787945,295.90207770339083,294.9986803655196,296.2144701912688,295.8997311575325,294.4483156326281,297.23103574067756,294.72611540994563,298.5008872842713,301.55962457639674,299.43849698010666,317.79836745268426,316.27267476946946,316.81380011512067,316.8374868177859,316.08874008998595,313.1083939435604,313.7377914108109,313.70530275888166,309.4979182367795,313.55935835212586,313.76490451776755,312.0864868476254,310.9671531493266,306.76057245623787]},price_change_percentage_1h_in_currency:-1.980120974853102,price_change_percentage_24h_in_currency:.7250177007715682,price_change_percentage_7d_in_currency:14.28754395651132},{id:"internet-computer",symbol:"icp",name:"Internet Computer",image:"https://assets.coingecko.com/coins/images/14495/large/Internet_Computer_logo.png?1696514180",current_price:12.8,market_cap:5878409098,market_cap_rank:22,fully_diluted_valuation:6587293123,total_volume:225880696,high_24h:13.36,low_24h:12.47,price_change_24h:.329861,price_change_percentage_24h:2.64452,market_cap_change_24h:156038931,market_cap_change_percentage_24h:2.72682,circulating_supply:459554651515718e-6,total_supply:514972868589112e-6,max_supply:null,ath:700.65,ath_change_percentage:-98.16039,ath_date:"2021-05-10T16:05:53.653Z",atl:2.87,atl_change_percentage:349.8808,atl_date:"2023-09-22T00:29:57.369Z",roi:null,last_updated:"2024-02-29T22:18:56.275Z",sparkline_in_7d:{price:[13.014698572102983,12.89797470723041,13.05906381857384,12.828640022625587,12.859988433881796,12.761292711046899,12.882748209355073,12.780031812642658,12.541198808476286,12.506188586808236,12.585392581962587,12.532117918978566,12.617975144670593,12.437024006060211,12.39518792859331,12.476075542087823,12.574843878016466,12.600303042552206,12.515503133211212,12.602216653709153,12.6535653005106,12.382560677743774,12.282351806933594,12.40434794254919,12.429252281214405,12.480229307608568,12.537347967301672,12.483825107529047,12.345304727913271,12.36597675841034,12.349313643240228,12.06428601898242,12.237945246964497,12.335963108882735,12.412510434038497,12.477748107300574,12.369674672577055,12.40829230771092,12.312307044431462,12.409903709523492,12.39061293252131,12.440153269384329,12.392450037983487,12.432935543266236,12.329477456088808,12.435137773636999,12.55164071427818,12.609969302596012,12.605692366467906,12.61404373451056,12.595798483371414,12.607788075883422,12.573021640975611,12.520814567242823,12.457431660445524,12.579238102428782,12.52145658130069,12.507078123425934,12.480184448448133,12.507287706368347,12.536606400326567,12.512671578940845,12.398917004364458,12.426353174428463,12.432365956638371,12.472780174820295,12.45310886727538,12.367428025392517,12.50703995983486,12.398248475843353,12.383308482464965,12.45075456362401,12.457496490194863,12.499999651083971,12.527457913104234,12.4654694590591,12.490061452724575,12.466391875659275,12.534661457349692,12.448630758582551,12.319698760609276,12.401940022876062,12.39525265647418,12.464058863940728,12.5607487024066,12.469320208997106,12.415835888994145,12.137093834657973,12.262221419877124,12.260557642329893,12.259493131414798,12.250547223840199,12.450662950280844,12.781563132125337,12.905193561540493,12.85857188561989,12.744576107622112,12.932298518305656,12.899519820322228,12.943026314340978,12.965897530796227,12.925910015025766,12.875672561374886,13.088665982143107,13.23659074565497,12.994953948749615,13.095916593942228,13.120079527814294,13.055222325673915,12.93472231777802,13.030669790287046,13.108549357394546,13.119900887511402,13.083312933711142,12.949619488030699,12.962565052724361,12.991957924077154,12.932450070955916,12.912052089967998,12.894277086978306,12.96030960498164,12.911135649193026,12.913259480418372,12.907615807357262,13.059860340503688,13.022834486931991,13.196145509579672,13.04482807017851,13.019746604521938,12.88834019966416,12.974893698254071,12.931543682696494,12.909998176130577,13.037411376703604,13.048722343488173,13.068291537188038,13.197027732604786,13.015621918154666,13.049855925807403,13.225209926012605,13.20067326279232,12.952862741866195,13.343629950192799,12.352628187403361,12.393912411765635,12.46789710512709,12.442578106509535,12.430284337041824,12.53878466723004,12.640405083270332,12.705702767964016,13.061596016953938,12.81818879948107,12.850796045751204,12.94637512708733,13.059162974457838,12.886776792991714,13.098456593240906,13.359210669901296,13.237485343701408,13.237806503771862,13.080749375550042,13.11939613265802,13.169851956578928,13.136562969023634,13.145231060945283,13.109373450915012,13.001432158115044]},price_change_percentage_1h_in_currency:-2.0395099218351334,price_change_percentage_24h_in_currency:2.6445204342181894,price_change_percentage_7d_in_currency:-.19792669193508672}];L.useEffect(()=>{n({data:r,filterdData:r})},[]);const i=s=>{const o=s.target.value.toLowerCase(),l=[...e.data].filter(c=>c.name.toLowerCase().includes(o));n({...e,filterdData:l})};return b.jsxs("div",{className:"m-5 text-slate-950 dark:text-white",children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-5",children:[b.jsx("h1",{className:"mb-5 text-3xl font-bold md: m-0",children:t("cryptocurrencyPrices")}),b.jsxs("div",{className:"relative hidden md:block",children:[b.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center pl-2 pointer-events-none material-icons text-gray-500 dark:text-gray-400",children:"search"}),b.jsx("input",{type:"text",onChange:i,className:"pl-9 w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("search")+"..."})]})]}),b.jsx("div",{className:"scrollable-content overflow-y-auto h-[calc(100vh-170px)]",children:b.jsx(Vre,{data:e})})]})}function Bre({news_object:t}){const{t:e}=Tn();function n(r){r<1e10&&(r*=1e3);const i=new Date(r);return("0"+i.getDate()).slice(-2)+"/"+("0"+(i.getMonth()+1)).slice(-2)+"/"+i.getFullYear()}return b.jsxs("div",{className:"flex flex-col justify-between rounded-lg shadow-md p-4 bg-gray-100 dark:bg-gray-700",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("img",{src:t.imageurl,alt:t.title,className:"w-16 h-16 rounded-full object-cover bg-white p-1"}),b.jsxs("div",{className:"flex flex-col justify-center items-start m-4 gap-3",children:[b.jsx("h3",{className:"text-xl font-bold dark:text-gray-100",children:t.title}),b.jsxs("div",{children:[t.tags===""?null:b.jsx("h6",{className:"text-sm text-gray-400 dark:text-gray-400",children:e("tags")+": "+t.tags.replaceAll("|",", ")+"."}),t.categories===""?null:b.jsx("h6",{className:"text-sm text-gray-400 dark:text-gray-400",children:e("Categories")+": "+t.categories.replaceAll("|",", ")+"."})]})]})]}),b.jsx("div",{className:"w-full bg-gray-3 bg-gray-300 dark:bg-gray-600 h-px mx-3"}),b.jsx("p",{className:"h-full text-gray-600 my-2 dark:text-gray-100",children:t.body}),b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-100",children:[b.jsx("img",{className:"w-6 h-6 mr-2 rounded-full",loading:"lazy",src:t.source_info.img,alt:t.source_info.name}),b.jsx("span",{children:t.source_info.name})]}),e("publishedAt")+": "+n(t.published_on)]})]})}function $re({news:t}){return t.map(e=>b.jsx(Bre,{news_object:e},e.id))}function Ure(){const{t}=Tn(),[e,n]=gs(ZR),r=[{id:"23857346",guid:"https://coingape.com/?p=177570",published_on:1709223954,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"7 Best Cryptocurrency Futures Trading Platforms in 2024",url:"https://coingape.com/best-cryptocurrency-futures-trading-platforms/",body:"Crypto futures trading allows traders to predict future price movements and enter agreements to buy or sell assets at predetermined prices on future dates. However, it calls for traders to address and stay strong in the market with higher crypto volatility. In this segment, each market fluctuation becomes an opportunity  and whether you make The post 7 Best Cryptocurrency Futures Trading Platforms in 2024 appeared first on CoinGape .",tags:"Top",lang:"EN",upvotes:"0",downvotes:"0",categories:"TRADING|MARKET",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23857348",guid:"https://coingape.com/?p=183309",published_on:1709223954,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Bonk Crypto Price Prediction: Whales Set Sight on New ATH",url:"https://coingape.com/bonk-crypto-price-prediction-whales-set-sight-on-new-ath/",body:"In an intriguing turn of events, aligning with the bullish sentiment prevailing within the broader crypto market, Bonk, a meme coin, gained significant traction across the global crypto realm as it surged nearly 30% today, February 29. This surge by the meme coin promptly garnered noteworthy attention as a Smart Moneys accumulation, pushing the price The post Bonk Crypto Price Prediction: Whales Set Sight on New ATH appeared first on CoinGape .",tags:"24/7 Cryptocurrency News|Altcoin News|Bonk (BONK)",lang:"EN",upvotes:"0",downvotes:"0",categories:"TRADING|MARKET",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23857807",guid:"https://coingape.com/?post_type=trending&p=183305",published_on:1709223850,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Binance (BNB) Introduced VIP Programs For Non-Crypto Traders",url:"https://coingape.com/trending/binance-bnb-introduced-vip-programs-for-non-crypto-traders/",body:"Binance is the largest centralized exchange according to the trading volume and has its native token. To expand its reach, Binance has taken one more step, introducing the VIP program. This blog will cover what is this VIP program and how it will affect the BNB prices. Understanding the Binance (BNB) VIP Program Binance has The post Binance (BNB) Introduced VIP Programs For Non-Crypto Traders appeared first on CoinGape .",tags:"24/7 Cryptocurrency News|Binance (BNB) Coin|binance lawsuit|trending news",lang:"EN",upvotes:"0",downvotes:"0",categories:"EXCHANGE|ICO|TRADING",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23861209",guid:"https://coingape.com/?post_type=trending&p=183366",published_on:1709223850,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Top Reasons Why Ethereum Price Might Hit $4000 In March",url:"https://coingape.com/trending/top-reasons-why-ethereum-might-hit-4000-in-march/",body:"Ethereum has performed exceptionally well in the last few days and is trading at $3,479.70 after crossing the $3500 mark a few hours ago. Ethereum gained a significant hike this month after strangling below $3000 for months. One question that comes to mind is whether Ethereum will be able to hit $4k or it wont. The post Top Reasons Why Ethereum Price Might Hit $4000 In March appeared first on CoinGape .",tags:"24/7 Cryptocurrency News|Ethereum (ETH)|Ethereum Price Prediction|Ethereum Surge",lang:"EN",upvotes:"0",downvotes:"0",categories:"ETH|TRADING",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23859336",guid:"https://coingape.com/?post_type=markets&p=183363",published_on:1709223850,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Whats Next As Bonk Crypto Price Soars 35% Alongside Pepe, SHIB",url:"https://coingape.com/markets/whats-next-as-bonk-crypto-price-soars-35-alongside-pepe-shib/",body:"Bonk crypto price analysis: BONK, a dog-themed digital currency based on the Solana network, has recently experienced a remarkable upswing in market activity. Over the past 24 hours, Bonk price has soared by more than 35%, reaching a new high of $0.00002223. This impressive growth has pushed Bonks total market value over $1.44 billion. As The post Whats Next As Bonk Crypto Price Soars 35% Alongside Pepe, SHIB appeared first on CoinGape .",tags:"Price Analysis|Bonk (BONK)|BONK price analysis|BONK price prediction",lang:"EN",upvotes:"0",downvotes:"0",categories:"TRADING|MARKET|SHIB|SOL",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23857760",guid:"https://coingape.com/?post_type=markets&p=183335",published_on:1709223702,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Bitcoin, Ethereum, Solana Crypto Price Prediction: Is The ETF Rally On Course To $70,000?",url:"https://coingape.com/markets/crypto-price-prediction/",body:"Bitcoins surprise move on Wednesday from a low of $56,738 to $63,913 sparked widespread price increases among altcoins with Ethereum (ETH)leading the charge to $3,500. Based on the latest crypto price prediction, both fundamentals and technical levels are strong for a continued rally towards the all-time high near $70,000 and BTCs eventual climb above $70,000. The post Bitcoin, Ethereum, Solana Crypto Price Prediction: Is The ETF Rally On Course To $70,000? appeared first on CoinGape .",tags:"Price Analysis|Bitcoin|Bitcoin News|Crypto price today|Ethereum (ETH)|Ethereum News|solana",lang:"EN",upvotes:"0",downvotes:"0",categories:"TRADING|BTC|ETH|SOL|ALTCOIN",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23857030",guid:"https://coingape.com/?post_type=markets&p=183316",published_on:1709223560,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"5 DePIN Crypto To Buy Matching Up To Bitcoins Pre-Halving Run",url:"https://coingape.com/markets/5-depin-crypto-to-buy-matching-up-to-bitcoins-pre-halving-run/",body:"The DePINs are making waves in the crypto to buy sphere as they blend blockchain with real-world infrastructure, offering a fresh perspective on technologys capabilities. With Bitcoins value on the rise and Bitcoin halving event on the horizon, DePINs like Filecoin (FIL), Render (RNDR), Arweave (AR), Theta Network (THETA), and Akash Network (AKT) are capturing The post 5 DePIN Crypto To Buy Matching Up To Bitcoins Pre-Halving Run appeared first on CoinGape .",tags:"Price Analysis|Bitcoin (BTC) Price|Bitcoin Halving|FIL|Render (RNDR)|THETA",lang:"EN",upvotes:"0",downvotes:"0",categories:"BTC|FIL|BLOCKCHAIN|ICO|TECHNOLOGY",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23860471",guid:"https://coingape.com/?post_type=markets&p=183372",published_on:1709223407,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Shiba Inu Coin Price Prediction: Why SHIB Could Peak At $0.0001 In March?",url:"https://coingape.com/markets/shiba-inu-coin-price-prediction-why-shib-could-peak-at-0-0001-in-march/",body:"Shiba Inu Coin, the second most prominent meme coin, has been on the move this week, rallying in tandem withBitcoin. As BTC peaked close to $64,000 on Wednesday, SHIB topped out at $0.0000147. Shiba Inu Coin price is up by a staggering 135% from its 2023 low of $0.0000059 to trade at $0.000014 during US The post Shiba Inu Coin Price Prediction: Why SHIB Could Peak At $0.0001 In March? appeared first on CoinGape .",tags:"",lang:"EN",upvotes:"0",downvotes:"0",categories:"SHIB|TRADING|BTC",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23861132",guid:"https://finbold.com/?p=157960",published_on:1709223404,imageurl:"https://images.cryptocompare.com/news/default/finbold.png",title:"4 cryptocurrencies to turn $10 into $100 next week",url:"https://finbold.com/4-cryptocurrencies-to-turn-10-into-100-next-week/",body:"With the current week at its end, it has demonstrated exciting moves in the cryptocurrency sphere, which have seen Bitcoin  Continue reading The post 4 cryptocurrencies to turn $10 into $100 next week appeared first on Finbold .",tags:"Cryptocurrency news|ADA|Cardano|Litecoin|LTC|SHIB|Shiba Inu|verasity|VRA",lang:"EN",upvotes:"0",downvotes:"0",categories:"ADA|LTC|SHIB|BTC",source_info:{name:"Finbold",img:"https://images.cryptocompare.com/news/default/finbold.png",lang:"EN"},source:"finbold"},{id:"23861133",guid:"https://en.coin-turk.com/?p=133687",published_on:1709223379,imageurl:"https://resources.cryptocompare.com/news/79/23861133.jpeg",title:"BlackRock Launches Bitcoin ETF in Brazil",url:"https://en.coin-turk.com/blackrock-launches-bitcoin-etf-in-brazil/",body:"Spot Bitcoin ETFs trigger Bitcoin's continued rise, now in Brazil. BlackRock's iShares Bitcoin Trust ETF debuts with Brazil's B3. Continue Reading: BlackRock Launches Bitcoin ETF in Brazil",tags:"Bitcoin (BTC)",lang:"EN",upvotes:"0",downvotes:"0",categories:"BTC",source_info:{name:"CoinTurk News",img:"https://resources.cryptocompare.com/news/79/default.png",lang:"EN"},source:"cointurken"},{id:"23861164",guid:"https://u.today/shib-lead-shytoshi-kusama-spotted-in-denver-heres-why-its-important",published_on:1709223300,imageurl:"https://resources.cryptocompare.com/news/64/23861164.jpeg",title:"SHIB Lead Shytoshi Kusama Spotted in Denver, Heres Why Its Important",url:"https://u.today/shib-lead-shytoshi-kusama-spotted-in-denver-heres-why-its-important",body:"The Shiba Inu lead has again changed his location status on Twitter/X, raising SHIB armys curiosity",tags:"Shytoshi Kusama",lang:"EN",upvotes:"0",downvotes:"0",categories:"SHIB",source_info:{name:"U.Today",img:"https://images.cryptocompare.com/news/default/utoday.png",lang:"EN"},source:"utoday"},{id:"23861211",guid:"https://zycrypto.com/?p=88361",published_on:1709223294,imageurl:"https://images.cryptocompare.com/news/default/zycrypto.png",title:"Bitcoin Whale Addresses Go Through The Roof After Recording Fastest Growth Rate in 2 Years",url:"https://zycrypto.com/bitcoin-whale-addresses-go-through-the-roof-after-recording-fastest-growth-rate-in-2-years/",body:"As all-time high (ATH) chats continue taking center stage in the crypto market, thanks to Bitcoin hitting a 27-month high above the $63,000 level, BTC whales are not relenting on their quest to continue accumulating.",tags:"Bitcoin|News|Bitcoin News|BTCUSD|BTCUSDC|BTCUSDT|Cryptocurrency News|XBTUSD",lang:"EN",upvotes:"0",downvotes:"0",categories:"BTC|MARKET",source_info:{name:"ZyCrypto",img:"https://images.cryptocompare.com/news/default/zycrypto.png",lang:"EN"},source:"zycrypto"},{id:"23861126",guid:"https://www.theblock.co/post/279785",published_on:1709223290,imageurl:"https://images.cryptocompare.com/news/default/theblock.png",title:"Bitcoin closes in on posting the biggest monthly candle in its history",url:"https://www.theblock.co/post/279785/bitcoin-closes-in-on-posting-the-biggest-monthly-candle-in-its-history?utm_source=cryptocompare&utm_medium=rss",body:"Bitcoin is set to close February posting a gain of almost $20,000 since the beginning of the month, according to Coingecko data.",tags:"Funds|Market Recap|Market Updates|Markets|The Block|Crypto Movers|Spot Bitcoin ETF",lang:"EN",upvotes:"0",downvotes:"0",categories:"BTC|MARKET",source_info:{name:"TheBlock",img:"https://images.cryptocompare.com/news/default/theblock.png",lang:"EN"},source:"theblock"},{id:"23858141",guid:"https://coingape.com/?p=183334",published_on:1709223254,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Bitcoin Rally as US PCE Cools to 2.4%, Fed Rate Cuts in June",url:"https://coingape.com/bitcoin-rally-continue-us-pce-cools-2-4-fed-rate-cuts-likely-june/",body:"TheU.S. Bureau of Economic Analysis announced the U.S. Federal Reserves (Fed) preferred inflation gauge PCE data for January. The PCE in the US went up 0.3% month-over-month in January, the most in four months, following a 0.2% rise in December. Also, the monthly core PCE index, which excludes food and energy, rise to 0.4%, the The post Bitcoin Rally as US PCE Cools to 2.4%, Fed Rate Cuts in June appeared first on CoinGape .",tags:"24/7 Cryptocurrency News|Bitcoin News|Bitcoin (BTC) Price|US Inflation",lang:"EN",upvotes:"0",downvotes:"0",categories:"BTC|MARKET|TRADING|FIAT",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23860453",guid:"https://coingape.com/?p=183370",published_on:1709223141,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Will Cardano Join Solana on Brave? Charles Hoskinson Anticipate",url:"https://coingape.com/will-cardano-join-solana-on-brave-charles-hoskinson-anticipate/",body:"The Cardano (ADA) community, led by its founder Charles Hoskinson, has initiated a campaign to integrate its blockchain with the Brave Browser, signaling a strategic move to enhance its visibility and adoption. Hoskinson has rallied his substantial social media following with a voting campaign underway on the Brave Community platform, urging over 978,600 followers on The post Will Cardano Join Solana on Brave? Charles Hoskinson Anticipate appeared first on CoinGape .",tags:"24/7 Cryptocurrency News|Cardano|Charles Hoskinson|solana",lang:"EN",upvotes:"0",downvotes:"0",categories:"ADA|SOL|BLOCKCHAIN",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23859820",guid:"https://coingape.com/?p=183091",published_on:1709223045,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"15 Best Metamask Alternatives",url:"https://coingape.com/metamask-alternatives/",body:"People are now seeking even more advanced technology, and the credit goes to the advent of blockchain technology. As a result of this development, numerous payment optionsincluding wallets for cryptocurrenciesare now available. In this article, we will be talking about crypto wallets while comparing them to the most popular one, i.e., Metamask. Have a look: The post 15 Best Metamask Alternatives appeared first on CoinGape .",tags:"Top|Wallets",lang:"EN",upvotes:"0",downvotes:"0",categories:"TECHNOLOGY|BLOCKCHAIN",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23861039",guid:"https://www.cryptopolitan.com/?p=475276",published_on:1709223030,imageurl:"https://resources.cryptocompare.com/news/43/23861039.jpeg",title:"Crypto markets on high FOMO alert  Heres whats happening",url:"https://www.cryptopolitan.com/crypto-markets-on-high-fomo-alert/",body:"The crypto markets are currently experiencing heightened levels of FOMO (Fear of Missing Out), leading to significant volatility and speculative trading activity. FOMO in crypto refers to the fear investors feel when they perceive they are missing out on potential profits. Heres whats happening: Crypto markets shift to extreme greed The crypto market often experiences",tags:"Industry News|News|Bitcoin Bull run|Bull rally|fomo|FUD",lang:"EN",upvotes:"0",downvotes:"0",categories:"MARKET|BUSINESS|TRADING",source_info:{name:"Cryptopolitan",img:"https://images.cryptocompare.com/news/default/cryptopolitan.png",lang:"EN"},source:"cryptopolitan"},{id:"23856568",guid:"https://coingape.com/?p=183291",published_on:1709222944,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Bitcoin Crash: Key Reasons Behind BTC Retreat After Rallying To $64K",url:"https://coingape.com/bitcoin-crash-key-reasons-behind-btc-retreat-after-rallying-to-64k/",body:"The Bitcoin crash, after a rally to the $64,000 mark, has stirred both excitement and concerns in the crypto space. The Bitcoin price retreat after hitting nearly $64K on Wednesday has sparked speculations in the crypto market. Meanwhile, the Bitcoin price has crossed the $60,000 mark for the first time since November 2021 and was The post Bitcoin Crash: Key Reasons Behind BTC Retreat After Rallying To $64K appeared first on CoinGape .",tags:"24/7 Cryptocurrency News|Bitcoin News|Bitcoin|Bitcoin (BTC) Price|Coinbase Crash|Crypto Liquidation",lang:"EN",upvotes:"0",downvotes:"0",categories:"BTC|TRADING|MARKET",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23859792",guid:"https://coingape.com/?p=183342",published_on:1709222944,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Binance Recovers $4.4 Billion Worth of Users Mishandled Digital Assets",url:"https://coingape.com/binance-recovers-4-4-billion-worth-of-users-mishandled-digital-assets/",body:"Binance declared that it had recovered digital assets that had previously been improperly handled by a user. According to a Bloomberg report, assets worth over $4 billion had been retrieved for a user who has mishandled their account for the past two years. The announcement comes at a point when Binance is already undergoing issues The post Binance Recovers $4.4 Billion Worth of Users Mishandled Digital Assets appeared first on CoinGape .",tags:"24/7 Cryptocurrency News|Binance|digital asset",lang:"EN",upvotes:"0",downvotes:"0",categories:"EXCHANGE",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23860950",guid:"https://coingape.com/?p=183375",published_on:1709222843,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Coinbase, MicroStrategy Shares Rally As PCE Inflation Cools 2.4%",url:"https://coingape.com/coinbase-microstrategy-shares-rally-as-pce-inflation-cools-2-4/",body:"Amidst the slowdown in the United States consumer price increase, American publicly traded exchange Coinbase and other crypto-linked stocks like Michael Saylors MicroStrategy are on track to end February on a very good note. Decline in US Inflation Rate According to a report from the U.S. government, prices moved 0.3% from December to January, indicating The post Coinbase, MicroStrategy Shares Rally As PCE Inflation Cools 2.4% appeared first on CoinGape .",tags:"24/7 Cryptocurrency News|Coinbase|microstrategy",lang:"EN",upvotes:"0",downvotes:"0",categories:"TRADING|EXCHANGE|MARKET",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23857574",guid:"https://coingape.com/?p=183304",published_on:1709222843,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Telegram Addresses Toncoin (TON) Supply Concerns Amid Ad Platform Launch",url:"https://coingape.com/telegram-addresses-toncoin-ton-supply-concerns-amid-ad-platform-launch/",body:"In response to growing concerns about the concentration of Toncoin (TON) supply within Telegrams ecosystem, CEO and Founder Pavel Durov has unveiled a proactive strategy aimed at maintaining decentralization and stability. This announcement comes as Telegram prepares to launch its long-awaited advertising platform, marking a significant milestone in the platforms evolution. Telegram CEO Eases Toncoin The post Telegram Addresses Toncoin (TON) Supply Concerns Amid Ad Platform Launch appeared first on CoinGape .",tags:"24/7 Cryptocurrency News|Altcoin News|telegram|TON|Toncoin",lang:"EN",upvotes:"0",downvotes:"0",categories:"OTHER",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23860963",guid:"https://www.cryptopolitan.com/?p=475157",published_on:1709222825,imageurl:"https://resources.cryptocompare.com/news/43/23860963.jpeg",title:"Sega Bolsters Transmedia Strategy with Industry Veteran Justin Scarpone",url:"https://www.cryptopolitan.com/sega-bolsters-transmedia-strategy-with-industry-veteran-justin-scarpone/",body:"In a strategic move to enhance its presence across various media platforms, Sega has announced the appointment of Justin Scarpone, a former Disney and Scopely executive, as the new executive vice president and global head of transmedia. This appointment, set to take effect on April 1, 2024, signifies Segas commitment to expanding its intellectual property",tags:"Industry News",lang:"EN",upvotes:"0",downvotes:"0",categories:"REGULATION",source_info:{name:"Cryptopolitan",img:"https://images.cryptocompare.com/news/default/cryptopolitan.png",lang:"EN"},source:"cryptopolitan"},{id:"23860964",guid:"https://crypto.news/?p=14253896",published_on:1709222819,imageurl:"https://resources.cryptocompare.com/news/73/23860964.jpeg",title:"Bitcoin CEX trading volume hits highest level since 2022",url:"https://crypto.news/bitcoin-trading-volume-2024/",body:"Bitcoin spot trading volumes on centralized exchanges returned to peaks last seen when FTX crashed amid daily sustained demand for ETFs investing in cryptos top currency.",tags:"News|Bitcoin|CEX|Spot Bitcoin ETF|Trading",lang:"EN",upvotes:"0",downvotes:"0",categories:"BTC|TRADING",source_info:{name:"crypto.news",img:"https://resources.cryptocompare.com/news/73/default.png",lang:"EN"},source:"crypto_news"},{id:"23860934",guid:"https://www.cryptopolitan.com/?p=475256",published_on:1709222743,imageurl:"https://resources.cryptocompare.com/news/43/23860934.jpeg",title:"Australia Post Embarks on Digital Transformation with Salesforce Partnership",url:"https://www.cryptopolitan.com/australia-post-transformation-salesforce/",body:"In a significant move towards digital modernization, Australia Post has announced a multi-year collaboration with Salesforce, the global leader in Customer Relationship Management (CRM). This partnership is set to redefine the customer experience across Australia Posts vast network, leveraging Salesforces advanced data and Artificial Intelligence (AI) capabilities. The initiative underscores Australia Posts commitment to enhancing",tags:"AI|Trending News",lang:"EN",upvotes:"0",downvotes:"0",categories:"OTHER",source_info:{name:"Cryptopolitan",img:"https://images.cryptocompare.com/news/default/cryptopolitan.png",lang:"EN"},source:"cryptopolitan"},{id:"23859001",guid:"https://coingape.com/?p=183358",published_on:1709222735,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Dogecoin Whales Shift 762 Mln DOGE As Price Tops $0.1, Whats Next?",url:"https://coingape.com/dogecoin-whales-shift-762-mln-doge-price-tops-0-1-whats-next/",body:"Dogecoin, one of the most prominent meme coins trading within the cryptocurrency landscape, again sparked immense optimism among crypto market enthusiasts across the globe as its price rallied nearly 30% today, February 29. Amid this phenomenal rally, insights revealed by the blockchain tracker Whale Alert revealed a staggering 761.2 million DOGE on the move, piquing The post Dogecoin Whales Shift 762 Mln DOGE As Price Tops $0.1, Whats Next? appeared first on CoinGape .",tags:"24/7 Cryptocurrency News|Altcoin News|Dogecoin (DOGE)|Whale transaction",lang:"EN",upvotes:"0",downvotes:"0",categories:"DOGE|TRADING|BLOCKCHAIN|MARKET",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23860933",guid:"https://www.cryptopolitan.com/?p=475266",published_on:1709222692,imageurl:"https://resources.cryptocompare.com/news/43/23860933.jpeg",title:"Bitcoin ETFs rattle Wall Street as BTC crosses $63K",url:"https://www.cryptopolitan.com/bitcoin-etfs-rattle-wall-street-btc-at-63k/",body:"The emergence of Bitcoin ETFs has rattled Wall Street, stirring both excitement and concern. While some view ETFs as a gateway to broader adoption and legitimacy for BTC, others raise concerns about potential market manipulation and regulatory challenges. The introduction and approval of Bitcoin ETFs have intensified interest and apprehension among Wall Street investors and",tags:"ETFs|News|bitcoin|Bitcoin ETFs|Bull run",lang:"EN",upvotes:"0",downvotes:"0",categories:"BTC|BUSINESS|ICO|MARKET",source_info:{name:"Cryptopolitan",img:"https://images.cryptocompare.com/news/default/cryptopolitan.png",lang:"EN"},source:"cryptopolitan"},{id:"23860219",guid:"https://coingape.com/?p=183369",published_on:1709222640,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"SEC Reviews NYSE Plan for Bitcoin ETF Options Trading",url:"https://coingape.com/sec-reviews-nyse-plan-for-bitcoin-etf-options-trading/",body:"The Securities and Exchange Commission (SEC) has announced the filing of a proposed rule change by NYSE American LLC. This modification, identified under Amendment No. 2, aims to adjust Rule 915 to enable the listing and trading of options on specific Bitcoin-related investment products. These products include the Bitwise Bitcoin ETF, the Grayscale Bitcoin Trust The post SEC Reviews NYSE Plan for Bitcoin ETF Options Trading appeared first on CoinGape .",tags:"24/7 Cryptocurrency News|Regulation News|Bitcoin ETF|Securities and Exchange Commission",lang:"EN",upvotes:"0",downvotes:"0",categories:"BTC|REGULATION|TRADING|EXCHANGE",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23857556",guid:"https://coingape.com/?p=183286",published_on:1709222544,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Terra Luna Classic Reaches 100 Billion LUNC Burn Landmark, LUNC Price Jumps 10%",url:"https://coingape.com/terra-luna-classic-reaches-100-billion-lunc-burn-landmark-lunc-price-jumps-10/",body:"Terra Luna Classic communitys campaign to reduce LUNC supply through token burn has hit the 100 billion LUNC landmark. The worlds largest crypto exchange Binance has contributed immensely to LUNC burn with its monthly LUNC burn mechanism, accounting for over 51% of the total LUNC burned by the community. The community currently awaits Binances 19th The post Terra Luna Classic Reaches 100 Billion LUNC Burn Landmark, LUNC Price Jumps 10% appeared first on CoinGape .",tags:"24/7 Cryptocurrency News|Altcoin News|Binance|Terra (LUNA)|Terra Classic",lang:"EN",upvotes:"0",downvotes:"0",categories:"LUNC|EXCHANGE|TRADING|ICO",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23861069",guid:"https://invezz.com/?p=1525738",published_on:1709222510,imageurl:"https://resources.cryptocompare.com/news/69/default.png",title:"Why Polygon (MATIC) could steal the show in 2024: zero inflation, airdrops, & more",url:"https://invezz.com/news/2024/02/29/why-polygon-matic-could-steal-the-show-in-2024-zero-inflation-airdrops-more/",body:"Polygons MATIC is among the cryptos poised for massive surges this year, with various optimistic facets at play. The project ended inflation within the ecosystem after releasing all tokens into circulation last week. Moreover, Polygon is an Ethereum Layer2 solution, and its latest developments amidst surging interest in L2 networks are setting a platform for",tags:"Altcoins|Blockchain|Crypto|Crypto business|Inflation|[object Object]",lang:"EN",upvotes:"0",downvotes:"0",categories:"MATIC|ALTCOIN|BLOCKCHAIN|ETH|ICO",source_info:{name:"Invezz",img:"https://resources.cryptocompare.com/news/69/default.png",lang:"EN"},source:"invezz"},{id:"23858914",guid:"https://coingape.com/?p=183359",published_on:1709222449,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"ETH Targets $4K as Investors Stash $2.1B for the Long Haul",url:"https://coingape.com/eth-targets-4k-as-investors-stash-2-1b-for-the-long-haul/",body:"Ethereum has seen a surge in its market performance, largely attributed to significant catalysts driving investor sentiment. The successful execution of the Dencun upgrade testnet and the increasing interest in ETH ETF filings have fueled Ethereums bullish trajectory. Notably, there has been a notable shift in the investment horizon of Ethereum stakeholders towards long-term holding The post ETH Targets $4K as Investors Stash $2.1B for the Long Haul appeared first on CoinGape .",tags:"24/7 Cryptocurrency News|Altcoin News|ETH price|Ethereum (ETH)|Ethereum price",lang:"EN",upvotes:"0",downvotes:"0",categories:"ETH|BUSINESS|MARKET|TRADING",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23860791",guid:"https://www.newsbtc.com/?p=590699",published_on:1709222419,imageurl:"https://images.cryptocompare.com/news/default/newsbtc.png",title:"Shiba Inu (SHIB) Price Skyrockets By 28%: 4 Key Reasons",url:"https://www.newsbtc.com/shiba-inu/shiba-inu-shib-price-skyrockets-by-28-4-key-reasons/",body:"The price of Shiba Inu (SHIB) has surged by 28% in the last 24 hours and 45% in the last seven days. Todays surge can be attributed to a confluence of factors, including a rekindling meme coin frenzy, actions by crypto whales, a favorable chart setup, and significant partnerships and ecosystem expansions. Heres an in-depth look at these pivotal elements fueling SHIBs impressive rally. #1 Meme Coin Frenzy In the wake of yesterdays significant Bitcoin surge, theres seemingly a noticeable resurgence of interest in higher-risk investments within the crypto sphere. An examination of the most recent 24-hour performance data reveals that the top three performers among the top 100 cryptocurrencies, measured by market capitalization, are all meme coins. Leading the pack is BONK with an impressive 52% gain, followed by Dogecoin with a 33% increase, and SHIB rounding out the trio with a 25% rise. This trend suggests that we may be on the cusp of another meme coin rally. Crypto analyst Rekt Capital has contributed to this narrative by sharing a chart depicting the total market capitalization of altcoins, excluding the top 10. His analysis, encapsulated by the remark, ALTS Altcoin Market Cap is on the right track, highlights a breakthrough past a significant resistance level. The market is now poised to target a $315.57 billion valuation, currently standing at approximately $272 billion. $ALTS Altcoin Market Cap is on the right track#BTC #Crypto #Bitcoin pic.twitter.com/wNJ7grLbFl  Rekt Capital (@rektcapital) February 29, 2024 #2 Whale Movements A notable development that has captured the crypto communitys attention is that a whale has made significant moves within the meme coin market, particularly with Shiba Inu (SHIB) and Pepe (PEPE). These transactions came to light through the analysis of Lookonchain, which detailed the whales manoeuvres on social media. Related Reading: Here Are The Factors Driving The Shiba Inu Recovery Above $0.00001 According to Lookonchains insights, this unidentified investor transferred an eye-catching 1.97 trillion PEPE tokens, valued at around $6.07 million, to Binance. This strategic shift yielded a profit of $3.49 million, showcasing the investors adept timing and market navigation skills. Subsequently, capitalizing on this lucrative outcome, the whale pivoted towards Shiba Inu, withdrawing 75.9 billion SHIB tokensequivalent to $893,000from Binance mere hours later. #3 Chart Setup Another contributing factor might have been a bullish pattern for SHIB which emerged three weeks ago, foreshadowing a potential upturn in its market trajectory. Since mid-December 2023, SHIBs price movement has been characterized by a descending parallel channel. Related Reading: Shiba Inu: Shibarium Transaction Activity Spike Amid Market Growth A pivotal moment came on February 7, when SHIB broke free from this channel, surpassing the 200-day Exponential Moving Average (EMA) and subsequently breaching the 20- and 50-week EMAs. This development has set the stage for the current rally. This breakout is of particular interest because it reflects a similar pattern observed in October 2023, when SHIB experienced a breakout from a descending channel, leading to an almost 80% increase in its value over the span of 59 days. Should the SHIB market replicate this historical performance, the target might be set at the 0.786 Fibonacci retracement level, priced at $0.00001525. Achieving this would represent a significant rally of approximately 73%. #4 Partnerships and Expanding Ecosystem Yesterday, the SHIB team announced a partnership with Zama, a leader in Fully Homomorphic Encryption (FHE) technology. This collaboration aims to enhance the privacy and security features of the SHIB ecosystem. Zamas expertise in cryptography and FHE will enable SHIB to process data in its encrypted state, ensuring user privacy and data protection. This strategic alliance not only fortifies the ecosystems security but also showcases SHIBs commitment to innovation and user trust. Shiba Inu lead developer Shytoshi Kusama remarked: Our latest partnership is a BIG one. Pay close attention to why Encryption and Privacy are important to the Shib Ecosystem and state! SHIB has recently been very active in entering into new partnerships. Most recently, K9 Financewas accepted into the SHIB army. Overall, the combination of resurging interest in meme coins, strategic investments by crypto whales, a favorable chart setup, and impactful partnerships have probably collectively fueled SHIBs price surge. Featured image created with DALLE, chart from TradingView.com",tags:"Shiba Inu|SHIB|SHIB price|shiba inu coin|Shiba Inu news|Shiba Inu Price|SHIBUSD",lang:"EN",upvotes:"0",downvotes:"0",categories:"SHIB|MARKET|TRADING|ALTCOIN|BUSINESS",source_info:{name:"NewsBTC",img:"https://images.cryptocompare.com/news/default/newsbtc.png",lang:"EN"},source:"newsbtc"},{id:"23860821",guid:"https://thecoinrise.com/?p=92896",published_on:1709222406,imageurl:"https://resources.cryptocompare.com/news/60/23860821.jpeg",title:"NuggetRush Shows Unmatched Resilience as Internet Computer and Toncoin Struggle to Maintain Momentum",url:"https://thecoinrise.com/nuggetrush-shows-unmatched-resilience-as-internet-computer-and-toncoin-struggle-to-maintain-momentum/",body:"NuggetRush demonstrates unparalleled stability as Internet Computer and Toncoin face challenges in maintaining their pace The post NuggetRush Shows Unmatched Resilience as Internet Computer and Toncoin Struggle to Maintain Momentum appeared first on Latest News and Insights on Blockchain, Cryptocurrency, and Investing .",tags:"Token Presale and ICO Insights|NuggetRush",lang:"EN",upvotes:"0",downvotes:"0",categories:"BLOCKCHAIN",source_info:{name:"The Coin Rise",img:"https://images.cryptocompare.com/news/default/thecoinrise.png",lang:"EN"},source:"thecoinrise"},{id:"23860866",guid:"https://u.today/ethereum-eth-price-prediction-for-february-29",published_on:1709222400,imageurl:"https://resources.cryptocompare.com/news/64/23860866.jpeg",title:"Ethereum (ETH) Price Prediction for February 29",url:"https://u.today/ethereum-eth-price-prediction-for-february-29",body:"Is rate of Ethereum (ETH) overbought?",tags:"Ethereum Price Prediction|ETH",lang:"EN",upvotes:"0",downvotes:"0",categories:"ETH|TRADING",source_info:{name:"U.Today",img:"https://images.cryptocompare.com/news/default/utoday.png",lang:"EN"},source:"utoday"},{id:"23860888",guid:"https://www.cryptopolitan.com/?p=474540",published_on:1709222400,imageurl:"https://resources.cryptocompare.com/news/43/23860888.jpeg",title:"AAVE and MANTA Holders Aim for Exciting Price Action in Coming Weeks, but Rebel Satoshi May Have Full Market Attention",url:"https://www.cryptopolitan.com/aave-and-manta-holders-aim-for-exciting-price-action-in-coming-weeks-but-rebel-satoshi-may-have-full-market-attention/",body:"TLDR The best altcoins such as AAVE and Manta Network (MANTA) have failed to keep up with the surging market. Meanwhile, Rebel Satoshi ($RBLZ) has emerged as the best crypto to buy as it approaches the end of the presale. Lets understand why experts prefer $RBLZ ahead of top altcoins like AAVE and Manta Network",tags:"Sponsored News",lang:"EN",upvotes:"0",downvotes:"0",categories:"AAVE|ALTCOIN|BTC|MARKET|TRADING",source_info:{name:"Cryptopolitan",img:"https://images.cryptocompare.com/news/default/cryptopolitan.png",lang:"EN"},source:"cryptopolitan"},{id:"23855605",guid:"https://coingape.com/?p=183294",published_on:1709222354,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"KuCoin Partners Revolut for Euro On-Ramp Amid Bitcoins Splendid Rally",url:"https://coingape.com/kucoin-partners-revolut-for-euro-on-ramp-amid-bitcoins-splendid-rally/",body:"KuCoin, a leading cryptocurrency exchange, has forged a strategic alliance with Revolut, a prominent financial technology company, to enable users to seamlessly purchase digital assets using euros. This partnership marks a significant milestone in the cryptocurrency space, as it provides users with a convenient avenue to acquire various cryptocurrencies listed on KuCoin directly through Revolut The post KuCoin Partners Revolut for Euro On-Ramp Amid Bitcoins Splendid Rally appeared first on CoinGape .",tags:"24/7 Cryptocurrency News|Bitcoin (BTC) Price|kucoin|Kucoin news",lang:"EN",upvotes:"0",downvotes:"0",categories:"BTC|FIAT|TRADING|EXCHANGE|TECHNOLOGY",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23860784",guid:"https://en.coin-turk.com/?p=133684",published_on:1709222275,imageurl:"https://resources.cryptocompare.com/news/79/23860784.jpeg",title:"Bitcoin Surpasses $60,000: A Look at Todays Crypto Market Dynamics",url:"https://en.coin-turk.com/bitcoin-surpasses-60000-a-look-at-todays-crypto-market-dynamics/",body:"Bitcoin finds buyers above $60,000, a first since 2021 ATH. U.S. Continue Reading: Bitcoin Surpasses $60,000: A Look at Todays Crypto Market Dynamics",tags:"Cryptocurrency News",lang:"EN",upvotes:"0",downvotes:"0",categories:"BTC|MARKET",source_info:{name:"CoinTurk News",img:"https://resources.cryptocompare.com/news/79/default.png",lang:"EN"},source:"cointurken"},{id:"23860787",guid:"https://www.cryptopolitan.com/?p=475247",published_on:1709222274,imageurl:"https://resources.cryptocompare.com/news/43/23860787.jpeg",title:"Crypto analysts forecast Altcoins frenzy  Get ready to diversify",url:"https://www.cryptopolitan.com/crypto-analysts-forecast-altcoins-frenzy/",body:"Crypto analysts and experts are currently forecasting an imminent altseason, a period where alternative cryptocurrencies (altcoins) experience significant price surges, particularly as Bitcoin maintains its position above the $62,000 mark. This anticipation is fueled by several factors. Lets have a look. Altcoins takeover is inevitable As Bitcoin surges to a fresh two-year high, altcoins are",tags:"Industry News|News|altcoins|bitcoin|Crypto exploits",lang:"EN",upvotes:"0",downvotes:"0",categories:"ALTCOIN|BTC|TRADING",source_info:{name:"Cryptopolitan",img:"https://images.cryptocompare.com/news/default/cryptopolitan.png",lang:"EN"},source:"cryptopolitan"},{id:"23860763",guid:"https://cryptonews.com/?p=175186",published_on:1709222271,imageurl:"https://resources.cryptocompare.com/news/52/23860763.jpeg",title:"Dogecoin Price Prediction as Elon Musk Says Hes Returning to the Meme Grindstone  Can Meme Coins 100x From Here?",url:"https://cryptonews.com/news/dogecoin-price-prediction-as-elon-musk-says-hes-returning-to-the-meme-grindstone-can-meme-coins-100x-from-here.htm",body:'The Dogecoin price has rocketed by 30% in the past 24 hours, after tech entrepreneur Elon Musk tweeted that that he would "get back on the meme grindstone soon". The post Dogecoin Price Prediction as Elon Musk Says Hes Returning to the Meme Grindstone  Can Meme Coins 100x From Here? appeared first on Cryptonews .',tags:"Price Predictions|Dogecoin|Elon Musk|Meme Coins",lang:"EN",upvotes:"0",downvotes:"0",categories:"DOGE|TRADING|TECHNOLOGY",source_info:{name:"cryptonews",img:"https://images.cryptocompare.com/news/default/cryptonews.png",lang:"EN"},source:"cryptonews"},{id:"23855290",guid:"https://coingape.com/?post_type=blog&p=183287",published_on:1709222230,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Dogecoin Hits New High: Will DOGE Price Reach $1?",url:"https://coingape.com/blog/dogecoin-hits-new-high-will-doge-price-reach-1/",body:"Dogecoin (DOGE) skyrockets to new heights, marking the beginning of a parabolic rally. In just the past day, its trading volume has surged by an outstanding 203%, pushing its value to $0.127. This impressive increase cements Dogecoins position as the top performer among major digital assets, outpacing the competition in percentage gains. Surpassing its previous The post Dogecoin Hits New High: Will DOGE Price Reach $1? appeared first on CoinGape .",tags:"Blog|DOGE $1|Doge price Analysis|DOGE Price Rally|Dogecoin price Analysis",lang:"EN",upvotes:"0",downvotes:"0",categories:"DOGE|TRADING",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23860737",guid:"https://en.coin-turk.com/?p=133681",published_on:1709222217,imageurl:"https://resources.cryptocompare.com/news/79/23860737.jpeg",title:"Ethereum Developers Propose Maximum Stake Increase from 32 to 2048 ETH",url:"https://en.coin-turk.com/ethereum-developers-propose-maximum-stake-increase-from-32-to-2048-eth/",body:"Dogecoin sees a 30% price surge, sparking optimism. Whale Alert data shows 761.2 million DOGE moved. Continue Reading: Ethereum Developers Propose Maximum Stake Increase from 32 to 2048 ETH",tags:"Dogecoin (DOGE)",lang:"EN",upvotes:"0",downvotes:"0",categories:"ETH|DOGE|TRADING",source_info:{name:"CoinTurk News",img:"https://resources.cryptocompare.com/news/79/default.png",lang:"EN"},source:"cointurken"},{id:"23860735",guid:"https://en.coin-turk.com/?p=133678",published_on:1709222162,imageurl:"https://resources.cryptocompare.com/news/79/23860735.jpeg",title:"XRP Price Surge: Can It Reach $1 Again?",url:"https://en.coin-turk.com/xrp-price-surge-can-it-reach-1-again/",body:"XRP is a major topic in the cryptocurrency world today. An analyst recently suggested XRP could target $1. Continue Reading: XRP Price Surge: Can It Reach $1 Again?",tags:"Ripple (XRP)",lang:"EN",upvotes:"0",downvotes:"0",categories:"XRP|TRADING",source_info:{name:"CoinTurk News",img:"https://resources.cryptocompare.com/news/79/default.png",lang:"EN"},source:"cointurken"},{id:"23855176",guid:"https://coingape.com/?p=183276",published_on:1709222124,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Bitcoin Grabs Spotlight On Chinese Social Media Apps Amid Rally To $64K",url:"https://coingape.com/bitcoin-news-btc-grabs-spotlight-on-chinese-social-media-apps-amid-rally-to-64k/",body:"The recent surge in the value of Bitcoin has captured the attention of internet users in mainland China, despite the governments strict ban on cryptocurrency activities. Bitcoin (BTC), the worlds largest cryptocurrency, experienced a significant increase of over 21% in the past five days, reaching $64,000 on Thursday. Bitcoin Is Trending On Chinese Social Media The post Bitcoin Grabs Spotlight On Chinese Social Media Apps Amid Rally To $64K appeared first on CoinGape .",tags:"24/7 Cryptocurrency News|Bitcoin News|Bitcoin|Bitcoin (BTC) Price|Bitcoin adoption|China crypto",lang:"EN",upvotes:"0",downvotes:"0",categories:"BTC|TRADING|ASIA",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"15903966",guid:"https://www.cryptopolitan.com/?p=349665",published_on:1709221881,imageurl:"https://resources.cryptocompare.com/news/43/15903966.jpeg",title:"Rollbit Price Prediction 2024-2033:  Is It Time To Buy RLB?",url:"https://www.cryptopolitan.com/rollbit-price-prediction/",body:"Rollbit coin price prediction 2024-2033 Rollbit has quickly become one of the most popular crypto casinos and trading platforms. Launched in 2019, Rollbit offers a wide range of gaming, sports betting, futures trading, and NFT options for users. With no KYC requirements and support for numerous cryptocurrencies, Rollbit provides an easy entry into the world",tags:"Crypto Price Predictions|cryptocurrency|cryptocurrency trading|cryptomarket",lang:"EN",upvotes:"0",downvotes:"0",categories:"TRADING",source_info:{name:"Cryptopolitan",img:"https://images.cryptocompare.com/news/default/cryptopolitan.png",lang:"EN"},source:"cryptopolitan"},{id:"23860619",guid:"https://www.cryptopolitan.com/?p=475246",published_on:1709221757,imageurl:"https://resources.cryptocompare.com/news/43/23860619.jpeg",title:"Embracing Diversity in Final Fantasy 7 Rebirth: A LGBTQ+ Perspective",url:"https://www.cryptopolitan.com/final-fantasy-7-rebirth-a-lgbtq-perspective/",body:"Final Fantasy 7 Rebirth, LGBTQ+ representation thrives, promising a satisfying experience for players. Unlike its predecessor, Rebirth boldly navigates queer narratives, defying traditional norms within the RPG landscape. One notable aspect is the nuanced portrayal of Cloud and Sephiroths relationship. Their interactions brim with suggestive undertones throughout the game, challenging typical gender dynamics. A scene",tags:"Reviews|Gaming|Gaming Reviews",lang:"EN",upvotes:"0",downvotes:"0",categories:"OTHER",source_info:{name:"Cryptopolitan",img:"https://images.cryptocompare.com/news/default/cryptopolitan.png",lang:"EN"},source:"cryptopolitan"},{id:"23860595",guid:"https://cryptodaily.co.uk/2024/02/4-cryptos-set-to-skyrocket-this-weekend",published_on:1709221742,imageurl:"https://resources.cryptocompare.com/news/75/23860595.jpeg",title:"4 Cryptos Set to Skyrocket This Weekend",url:"https://cryptodaily.co.uk/2024/02/4-cryptos-set-to-skyrocket-this-weekend",body:"Are you ready for the weekend crypto boom? Analysts are buzzing about Ethereum's rally sparking a massive altcoin season, with 4 coins set to potentially skyrocket! Dive into the market's latest dynamics and discover which cryptocurrencies could multiply your investment overnight!",tags:"Breaking News",lang:"EN",upvotes:"0",downvotes:"0",categories:"ALTCOIN|ETH|MARKET|TRADING",source_info:{name:"Crypto Daily",img:"https://resources.cryptocompare.com/news/75/default.png",lang:"EN"},source:"cryptodaily"},{id:"23860509",guid:"https://cryptonews.com/?p=175112",published_on:1709221513,imageurl:"https://resources.cryptocompare.com/news/52/23860509.jpeg",title:"Solana Price Prediction as Daily Trading Volume Blasts Past $8 Billion  Is the Supercycle Here?",url:"https://cryptonews.com/news/solana-price-prediction-as-daily-trading-volume-blasts-past-8-billion-is-the-supercycle-here.htm",body:"SOL has jumped by 15% in the past 24 hours, with the Solana price racing to $130 as Bitcoin ETF volumes continue to push the cryptocurrency market from one bullish peak to another. The post Solana Price Prediction as Daily Trading Volume Blasts Past $8 Billion  Is the Supercycle Here? appeared first on Cryptonews .",tags:"Price Predictions|Altcoins|Price Prediction|Solana",lang:"EN",upvotes:"0",downvotes:"0",categories:"TRADING|SOL|ALTCOIN|BTC|MARKET",source_info:{name:"cryptonews",img:"https://images.cryptocompare.com/news/default/cryptonews.png",lang:"EN"},source:"cryptonews"},{id:"23860555",guid:"https://u.today/ethereum-eth-whale-nets-over-100-million-in-profits-amid-price-rally",published_on:1709221500,imageurl:"https://resources.cryptocompare.com/news/64/23860555.jpeg",title:"Ethereum (ETH) Whale Nets Over $100 Million in Profits Amid Price Rally",url:"https://u.today/ethereum-eth-whale-nets-over-100-million-in-profits-amid-price-rally",body:"Ethereum sees growing trend of large-scale accumulation amid price rally",tags:"Ethereum News|ETH",lang:"EN",upvotes:"0",downvotes:"0",categories:"ETH|TRADING",source_info:{name:"U.Today",img:"https://images.cryptocompare.com/news/default/utoday.png",lang:"EN"},source:"utoday"},{id:"23850007",guid:"https://coingape.com/?p=183183",published_on:1709221429,imageurl:"https://images.cryptocompare.com/news/default/coingape.png",title:"Spot Bitcoin ETF Notes Largest Net Inflow of $673 Million on Supply Shock",url:"https://coingape.com/spot-bitcoin-etf-notes-largest-net-inflow-677-million-on-supply-shock/",body:"Spot Bitcoin ETFs recorded another staggering inflow on Wednesday, breaking the record of the largest inflow of $673 million since launch last month. It follows amid a massive BTC price rally towards ATH due to demand outpacing supply creating a supply shock. Bitcoin ETFs Saw $673 Million in Net Inflow Spot Bitcoin exchange-traded funds (ETF) The post Spot Bitcoin ETF Notes Largest Net Inflow of $673 Million on Supply Shock appeared first on CoinGape .",tags:"24/7 Cryptocurrency News|Bitcoin News|Bitcoin (BTC) Price|Bitcoin ETF|Spot Bitcoin ETF",lang:"EN",upvotes:"0",downvotes:"0",categories:"BTC|TRADING",source_info:{name:"CoinGape",img:"https://images.cryptocompare.com/news/default/coingape.png",lang:"EN"},source:"coingape"},{id:"23860433",guid:"https://en.bitcoinsistemi.com/analysts-bitcoin-fever-reignited-parabolic-rally-has-begun-it-is-very-difficult-to-set-a-target-for-the-top-in-btc/",published_on:1709221326,imageurl:"https://resources.cryptocompare.com/news/81/23860433.jpeg",title:'Analysts: "Bitcoin Fever Reignited, Parabolic Rally Has Begun! It is Very Difficult to Set a Target for the Top in BTC!"',url:"https://en.bitcoinsistemi.com/analysts-bitcoin-fever-reignited-parabolic-rally-has-begun-it-is-very-difficult-to-set-a-target-for-the-top-in-btc/",body:'Analysts said that the rise in Bitcoin will continue. Will the parabolic rally in BTC continue? here are the details... Continue Reading: Analysts: "Bitcoin Fever Reignited, Parabolic Rally Has Begun! It is Very Difficult to Set a Target for the Top in BTC!"',tags:"Analysis|Bitcoin|News",lang:"EN",upvotes:"0",downvotes:"0",categories:"BTC|TRADING|MARKET",source_info:{name:"BitcoinSistemi",img:"https://resources.cryptocompare.com/news/81/default.png",lang:"EN"},source:"bitcoinsistemi"},{id:"23860411",guid:"https://cryptonews.com/?p=175235",published_on:1709221251,imageurl:"https://resources.cryptocompare.com/news/52/23860411.jpeg",title:"Bitcoin Miners Reserves Drops to Lowest Level Since 2021",url:"https://cryptonews.com/news/bitcoin-miners-reserves-drops-to-lowest-level-since-2021.htm",body:"Bitcoin (BTC) miners are offloading part of their assets as they look towards the upcoming halving amid increased market activity. The post Bitcoin Miners Reserves Drops to Lowest Level Since 2021 appeared first on Cryptonews .",tags:"Bitcoin News|Bitcoin|ETF|Miners",lang:"EN",upvotes:"0",downvotes:"0",categories:"BTC|MARKET",source_info:{name:"cryptonews",img:"https://images.cryptocompare.com/news/default/cryptonews.png",lang:"EN"},source:"cryptonews"}];L.useEffect(()=>{n({data:r,filterdData:r})},[]);const i=s=>{const o=s.target.value.toLowerCase(),l=[...e.data].filter(c=>c.title.toLowerCase().includes(o)||c.body.toLowerCase().includes(o)||c.tags.toLowerCase().includes(o)||c.categories.toLowerCase().includes(o));n({...e,filterdData:l})};return b.jsxs("div",{className:"m-5 text-slate-950 dark:text-white",children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-5",children:[b.jsx("h1",{className:"text-3xl font-bold",children:t("latestNews")}),b.jsxs("div",{className:"relative hidden md:block",children:[b.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center pl-2 pointer-events-none material-icons text-gray-500 dark:text-gray-400",children:"search"}),b.jsx("input",{type:"text",onChange:i,className:"pl-9 w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:t("search")+"..."})]})]}),b.jsx("div",{className:"scrollable-content overflow-y-auto rounded-lg grid gap-4 border-gray-300 dark:border-gray-600 h-[calc(100vh-170px)]",children:b.jsx($re,{news:e.filterdData})})]})}function jre(){const{t}=Tn();return b.jsx("div",{className:"m-5 text-slate-950 dark:text-white",children:b.jsx("h1",{className:"mb-5 text-3xl font-bold",children:t("compareCurrencies")})})}function zre(){const{t}=Tn();return b.jsxs("div",{className:"text-slate-950 dark:text-white flex justify-center items-center pb-28 h-[calc(100vh-72px)]",children:[b.jsx(eA,{}),b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"mb-5 text-6xl font-thin",children:t("welcomeTo")}),b.jsx("h1",{className:"mb-5 text-8xl font-bold",children:t("cryptoPulse")})]})]})}const J8=({isAuthenticated:t,children:e})=>t?b.jsx(hu,{to:"/home",replace:!0}):e;function Wre(){const[t,e]=gs(d5),{currentUser:n}=im();return L.useEffect(()=>{localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),e({...t,theme:"dark"})):(document.documentElement.classList.remove("dark"),e({...t,theme:"light"}))},[]),b.jsx("div",{className:"App",children:b.jsxs(OD,{children:[b.jsxs($n,{path:"welcome",element:b.jsxs(J8,{isAuthenticated:n,children:[b.jsx(kJ,{}),b.jsx(BE,{})]}),children:[b.jsx($n,{path:"",element:b.jsx(zre,{})}),b.jsx($n,{path:"login",element:b.jsx(RJ,{})}),b.jsx($n,{path:"signup",element:b.jsx(AJ,{})}),b.jsx($n,{path:"*",element:b.jsx(hu,{replace:!0,to:""})})]}),b.jsxs($n,{path:"home",element:b.jsx(SJ,{isAuthenticated:n}),children:[b.jsx($n,{index:!0,element:b.jsx(xJ,{})}),b.jsx($n,{path:"coins",element:b.jsx(Fre,{})}),b.jsx($n,{path:"news",element:b.jsx(Ure,{})}),b.jsx($n,{path:"compare",element:b.jsx(jre,{})}),b.jsx($n,{path:"*",element:b.jsx(hu,{replace:!0,to:""})})]}),b.jsx($n,{path:"*",element:b.jsx(J8,{isAuthenticated:n,children:b.jsx(hu,{replace:!0,to:"/welcome"})})})]})})}function Qy(t){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(t)}function JA(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Qy(XMLHttpRequest))==="object"}function Hre(t){return!!t&&typeof t.then=="function"}function qre(t){return Hre(t)?t:Promise.resolve(t)}function Gre(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Yy={exports:{}},Rf={exports:{}},Z8;function Kre(){return Z8||(Z8=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof tu<"u"&&tu,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof a<"u"&&a,l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(I){return I&&DataView.prototype.isPrototypeOf(I)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(I){return I&&u.indexOf(Object.prototype.toString.call(I))>-1};function d(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(I)||I==="")throw new TypeError('Invalid character in header field name: "'+I+'"');return I.toLowerCase()}function f(I){return typeof I!="string"&&(I=String(I)),I}function p(I){var D={next:function(){var Q=I.shift();return{done:Q===void 0,value:Q}}};return l.iterable&&(D[Symbol.iterator]=function(){return D}),D}function g(I){this.map={},I instanceof g?I.forEach(function(D,Q){this.append(Q,D)},this):Array.isArray(I)?I.forEach(function(D){this.append(D[0],D[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(D){this.append(D,I[D])},this)}g.prototype.append=function(I,D){I=d(I),D=f(D);var Q=this.map[I];this.map[I]=Q?Q+", "+D:D},g.prototype.delete=function(I){delete this.map[d(I)]},g.prototype.get=function(I){return I=d(I),this.has(I)?this.map[I]:null},g.prototype.has=function(I){return this.map.hasOwnProperty(d(I))},g.prototype.set=function(I,D){this.map[d(I)]=f(D)},g.prototype.forEach=function(I,D){for(var Q in this.map)this.map.hasOwnProperty(Q)&&I.call(D,this.map[Q],Q,this)},g.prototype.keys=function(){var I=[];return this.forEach(function(D,Q){I.push(Q)}),p(I)},g.prototype.values=function(){var I=[];return this.forEach(function(D){I.push(D)}),p(I)},g.prototype.entries=function(){var I=[];return this.forEach(function(D,Q){I.push([Q,D])}),p(I)},l.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function _(I){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}function y(I){return new Promise(function(D,Q){I.onload=function(){D(I.result)},I.onerror=function(){Q(I.error)}})}function m(I){var D=new FileReader,Q=y(D);return D.readAsArrayBuffer(I),Q}function v(I){var D=new FileReader,Q=y(D);return D.readAsText(I),Q}function w(I){for(var D=new Uint8Array(I),Q=new Array(D.length),O=0;O<D.length;O++)Q[O]=String.fromCharCode(D[O]);return Q.join("")}function E(I){if(I.slice)return I.slice(0);var D=new Uint8Array(I.byteLength);return D.set(new Uint8Array(I)),D.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(I){this.bodyUsed=this.bodyUsed,this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:l.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:l.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():l.arrayBuffer&&l.blob&&c(I)?(this._bodyArrayBuffer=E(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||h(I))?this._bodyArrayBuffer=E(I):this._bodyText=I=Object.prototype.toString.call(I):this._bodyText="",this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var I=_(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var I=_(this);return I||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(m)}),this.text=function(){var I=_(this);if(I)return I;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function R(I){var D=I.toUpperCase();return S.indexOf(D)>-1?D:I}function V(I,D){if(!(this instanceof V))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');D=D||{};var Q=D.body;if(I instanceof V){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,D.headers||(this.headers=new g(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!Q&&I._bodyInit!=null&&(Q=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=D.credentials||this.credentials||"same-origin",(D.headers||!this.headers)&&(this.headers=new g(D.headers)),this.method=R(D.method||this.method||"GET"),this.mode=D.mode||this.mode||null,this.signal=D.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Q)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Q),(this.method==="GET"||this.method==="HEAD")&&(D.cache==="no-store"||D.cache==="no-cache")){var O=/([?&])_=[^&]*/;if(O.test(this.url))this.url=this.url.replace(O,"$1_="+new Date().getTime());else{var U=/\?/;this.url+=(U.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}V.prototype.clone=function(){return new V(this,{body:this._bodyInit})};function N(I){var D=new FormData;return I.trim().split("&").forEach(function(Q){if(Q){var O=Q.split("="),U=O.shift().replace(/\+/g," "),M=O.join("=").replace(/\+/g," ");D.append(decodeURIComponent(U),decodeURIComponent(M))}}),D}function K(I){var D=new g,Q=I.replace(/\r?\n[\t ]+/g," ");return Q.split("\r").map(function(O){return O.indexOf(`
`)===0?O.substr(1,O.length):O}).forEach(function(O){var U=O.split(":"),M=U.shift().trim();if(M){var ie=U.join(":").trim();D.append(M,ie)}}),D}T.call(V.prototype);function ne(I,D){if(!(this instanceof ne))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');D||(D={}),this.type="default",this.status=D.status===void 0?200:D.status,this.ok=this.status>=200&&this.status<300,this.statusText=D.statusText===void 0?"":""+D.statusText,this.headers=new g(D.headers),this.url=D.url||"",this._initBody(I)}T.call(ne.prototype),ne.prototype.clone=function(){return new ne(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},ne.error=function(){var I=new ne(null,{status:0,statusText:""});return I.type="error",I};var he=[301,302,303,307,308];ne.redirect=function(I,D){if(he.indexOf(D)===-1)throw new RangeError("Invalid status code");return new ne(null,{status:D,headers:{location:I}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(D,Q){this.message=D,this.name=Q;var O=Error(D);this.stack=O.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function be(I,D){return new Promise(function(Q,O){var U=new V(I,D);if(U.signal&&U.signal.aborted)return O(new o.DOMException("Aborted","AbortError"));var M=new XMLHttpRequest;function ie(){M.abort()}M.onload=function(){var B={status:M.status,statusText:M.statusText,headers:K(M.getAllResponseHeaders()||"")};B.url="responseURL"in M?M.responseURL:B.headers.get("X-Request-URL");var j="response"in M?M.response:M.responseText;setTimeout(function(){Q(new ne(j,B))},0)},M.onerror=function(){setTimeout(function(){O(new TypeError("Network request failed"))},0)},M.ontimeout=function(){setTimeout(function(){O(new TypeError("Network request failed"))},0)},M.onabort=function(){setTimeout(function(){O(new o.DOMException("Aborted","AbortError"))},0)};function k(B){try{return B===""&&a.location.href?a.location.href:B}catch{return B}}M.open(U.method,k(U.url),!0),U.credentials==="include"?M.withCredentials=!0:U.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&(l.blob?M.responseType="blob":l.arrayBuffer&&U.headers.get("Content-Type")&&U.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(M.responseType="arraybuffer")),D&&typeof D.headers=="object"&&!(D.headers instanceof g)?Object.getOwnPropertyNames(D.headers).forEach(function(B){M.setRequestHeader(B,f(D.headers[B]))}):U.headers.forEach(function(B,j){M.setRequestHeader(j,B)}),U.signal&&(U.signal.addEventListener("abort",ie),M.onreadystatechange=function(){M.readyState===4&&U.signal.removeEventListener("abort",ie)}),M.send(typeof U._bodyInit>"u"?null:U._bodyInit)})}return be.polyfill=!0,a.fetch||(a.fetch=be,a.Headers=g,a.Request=V,a.Response=ne),o.Headers=g,o.Request=V,o.Response=ne,o.fetch=be,o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(Rf,Rf.exports)),Rf.exports}(function(t,e){var n;if(typeof fetch=="function"&&(typeof tu<"u"&&tu.fetch?n=tu.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof Gre<"u"&&(typeof window>"u"||typeof window.document>"u")){var r=n||Kre();r.default&&(r=r.default),e.default=r,t.exports=e.default}})(Yy,Yy.exports);var ZA=Yy.exports;const eC=Jy(ZA),ew=dw({__proto__:null,default:eC},[ZA]);function tw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tw(Object(n),!0).forEach(function(r){Qre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qre(t,e,n){return e=Yre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Xre(t,"string");return Yo(e)=="symbol"?e:String(e)}function Xre(t,e){if(Yo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yo(t){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(t)}var wi;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?wi=global.fetch:typeof window<"u"&&window.fetch?wi=window.fetch:wi=fetch);var Fh;JA()&&(typeof global<"u"&&global.XMLHttpRequest?Fh=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Fh=window.XMLHttpRequest));var E0;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?E0=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(E0=window.ActiveXObject));!wi&&ew&&!Fh&&!E0&&(wi=eC||ew);typeof wi!="function"&&(wi=void 0);var Xy=function(e,n){if(n&&Yo(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},rw=function(e,n,r,i){var s=function(l){if(!l.ok)return r(l.statusText||"Error",{status:l.status});l.text().then(function(c){r(null,{status:l.status,data:c})}).catch(r)};if(i){var o=i(e,n);if(o instanceof Promise){o.then(s).catch(r);return}}typeof fetch=="function"?fetch(e,n).then(s).catch(r):wi(e,n).then(s).catch(r)},iw=!1,Jre=function(e,n,r,i){e.queryStringParams&&(n=Xy(n,e.queryStringParams));var s=nw({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(s["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,a=nw({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:s},iw?{}:o),l=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{rw(n,a,i,l)}catch(c){if(!o||Object.keys(o).length===0||!c.message||c.message.indexOf("not implemented")<0)return i(c);try{Object.keys(o).forEach(function(u){delete a[u]}),rw(n,a,i,l),iw=!0}catch(u){i(u)}}},Zre=function(e,n,r,i){r&&Yo(r)==="object"&&(r=Xy("",r).slice(1)),e.queryStringParams&&(n=Xy(n,e.queryStringParams));try{var s;Fh?s=new Fh:s=new E0("MSXML2.XMLHTTP.3.0"),s.open(r?"POST":"GET",n,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,r&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var a in o)s.setRequestHeader(a,o[a]);s.onreadystatechange=function(){s.readyState>3&&i(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(r)}catch(l){console&&console.log(l)}},eie=function(e,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},wi&&n.indexOf("file:")!==0)return Jre(e,n,r,i);if(JA()||typeof ActiveXObject=="function")return Zre(e,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function sw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sw(Object(n),!0).forEach(function(r){tC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ow(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nC(r.key),r)}}function nie(t,e,n){return e&&ow(t.prototype,e),n&&ow(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tC(t,e,n){return e=nC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nC(t){var e=rie(t,"string");return Bh(e)=="symbol"?e:String(e)}function rie(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iie=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return tC({},r,i||"")},parseLoadPayload:function(n,r){},request:eie,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},rC=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};tie(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return nie(t,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=C1(C1(C1({},iie()),this.options||{}),i),this.allOptions=s,this.services&&this.options.reloadInterval&&setInterval(function(){return r.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,s,o){var a=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(n,i)),l=qre(l),l.then(function(c){if(!c)return o(null,{});var u=a.services.interpolator.interpolate(c,{lng:n.join("+"),ns:i.join("+")});a.loadUrl(u,o,r,s)})}},{key:"loadUrl",value:function(n,r,i,s){var o=this,a=typeof i=="string"?[i]:i,l=typeof s=="string"?[s]:s,c=this.options.parseLoadPayload(a,l);this.options.request(this.options,n,c,function(u,h){if(h&&(h.status>=500&&h.status<600||!h.status))return r("failed loading "+n+"; status code: "+h.status,!0);if(h&&h.status>=400&&h.status<500)return r("failed loading "+n+"; status code: "+h.status,!1);if(!h&&u&&u.message&&u.message.indexOf("Failed to fetch")>-1)return r("failed loading "+n+": "+u.message,!0);if(u)return r(u,!1);var d,f;try{typeof h.data=="string"?d=o.options.parse(h.data,i,s):d=h.data}catch{f="failed parsing "+n+" to json"}if(f)return r(f,!1);r(null,d)})}},{key:"create",value:function(n,r,i,s,o){var a=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var l=this.options.parsePayload(r,i,s),c=0,u=[],h=[];n.forEach(function(d){var f=a.options.addPath;typeof a.options.addPath=="function"&&(f=a.options.addPath(d,r));var p=a.services.interpolator.interpolate(f,{lng:d,ns:r});a.options.request(a.options,p,l,function(g,_){c+=1,u.push(g),h.push(_),c===n.length&&typeof o=="function"&&o(u,h)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,s=r.languageUtils,o=r.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var l=[],c=function(h){var d=s.toResolveHierarchy(h);d.forEach(function(f){l.indexOf(f)<0&&l.push(f)})};c(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(u){return c(u)}),l.forEach(function(u){n.allOptions.ns.forEach(function(h){i.read(u,h,"read",null,null,function(d,f){d&&o.warn("loading namespace ".concat(h," for language ").concat(u," failed"),d),!d&&f&&o.log("loaded namespace ".concat(h," for language ").concat(u),f),i.loaded("".concat(u,"|").concat(h),d,f)})})})}}}]),t}();rC.type="backend";function sie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function oie(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aie(t){var e=oie(t,"string");return $h(e)=="symbol"?e:e+""}function aw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aie(r.key),r)}}function lie(t,e,n){return e&&aw(t.prototype,e),n&&aw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var iC=[],cie=iC.forEach,uie=iC.slice;function hie(t){return cie.call(uie.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}var lw=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,die=function(e,n,r){var i=r||{};i.path=i.path||"/";var s=encodeURIComponent(n),o="".concat(e,"=").concat(s);if(i.maxAge>0){var a=i.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(i.domain){if(!lw.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(i.domain)}if(i.path){if(!lw.test(i.path))throw new TypeError("option path is invalid");o+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite){var l=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(l){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},cw={create:function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+r*60*1e3)),i&&(s.domain=i),document.cookie=die(e,encodeURIComponent(n),s)},read:function(e){for(var n="".concat(e,"="),r=document.cookie.split(";"),i=0;i<r.length;i++){for(var s=r[i];s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(n)===0)return s.substring(n.length,s.length)}return null},remove:function(e){this.create(e,"",-1)}},fie={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document<"u"){var r=cw.read(e.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document<"u"&&cw.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},pie={name:"querystring",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=r.substring(1),s=i.split("&"),o=0;o<s.length;o++){var a=s[o].indexOf("=");if(a>0){var l=s[o].substring(0,a);l===e.lookupQuerystring&&(n=s[o].substring(a+1))}}}return n}},Oc=null,uw=function(){if(Oc!==null)return Oc;try{Oc=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Oc=!1}return Oc},gie={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&uw()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&uw()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},Lc=null,hw=function(){if(Lc!==null)return Lc;try{Lc=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Lc=!1}return Lc},mie={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&hw()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&hw()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},yie={name:"navigator",lookup:function(e){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},_ie={name:"htmlTag",lookup:function(e){var n,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},vie={name:"path",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;n=r[e.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},wie={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};function bie(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var sC=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};sie(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return lie(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=hie(r,this.options||{},bie()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(s){return s.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(fie),this.addDetector(pie),this.addDetector(gie),this.addDetector(mie),this.addDetector(yie),this.addDetector(_ie),this.addDetector(vie),this.addDetector(wie)}},{key:"addDetector",value:function(n){this.detectors[n.name]=n}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var i=[];return n.forEach(function(s){if(r.detectors[s]){var o=r.detectors[s].lookup(r.options);o&&typeof o=="string"&&(o=[o]),o&&(i=i.concat(o))}}),i=i.map(function(s){return r.options.convertDetectedLanguage(s)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var i=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(s){i.detectors[s]&&i.detectors[s].cacheUserLanguage(n,i.options)}))}}]),t}();sC.type="languageDetector";Be.use(rC).use(sC).use($$).init({supportedLngs:["en","it","zh","de"],fallbackLng:"en",detection:{order:["querystring","cookie","localStorage","path","subdomain"],caches:["cookie"]},backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"}});const Eie=P1.createRoot(document.getElementById("root"));Eie.render(b.jsx(We.StrictMode,{children:b.jsx(VD,{children:b.jsx(R$,{children:b.jsx(wJ,{children:b.jsx(Wre,{})})})})}));
